YUI.add("td-applet-breakingnews-mainview",function(e,t){"use strict";e.namespace("TD.Applet").BreakingnewsMainView=e.Base.create("TDAppletBreakingnewsMainView",e.Af.AppletView,[],{initializer:function(t){this.config=t,this.container=this.get("container"),this.model=this.get("model"),this.state={breakingnews:this.model.get("data.breakingnews")},this.timer=0,this.count=Object.keys(this.state.breakingnews).length;var i=this.container.one(".BN-next");i&&this.count>1&&(this.decorateBNNode(i,this.timer+1),e.later(3e3,this,this.runRotate,[{container:this.container}],!0))},decorateBNNode:function(e,t){var i,n,o=e.one("div"),s=e.one(".Prefix"),r=e.one(".PrefixSpan"),a=e.one(".PrefixBorder"),c=e.one(".Text"),l=e.one(".Link"),h=this.state.breakingnews[t],g=h.bg_color,d=e.one(".ContentSpan");o.setStyle("color",this.config.colors[g].header),o.setStyle("backgroundColor",this.config.colors[g].bg),s.setHTML(h.prefix),r.setStyle("backgroundColor",this.config.colors[g].ribbon),a.setStyle("backgroundColor",this.config.colors[g].bg),a.setStyle("borderLeft","15px solid "+this.config.colors[g].ribbon),c.setHTML(h.hl_text),c.setStyle("color",this.config.colors[g].header),h.hl_link&&h.hl_link.href?l?(l.setAttribute("href",h.hl_link.href),l.setStyle("color",this.config.colors[g].header)):((i=document.createElement("a")).setAttribute("href",h.hl_link.href),i.style.color=this.config.colors[g].header,i.className="Link",i.appendChild(c.cloneNode(!0).getDOMNode()),c.remove(),d.insert(i)):(n=c.cloneNode(!0),d.insert(n,l),l&&l.remove())},runRotate:function(){var t=this.container.one(".BN-wrapper"),i=t.one(".BN-next"),n=t.one(".BN-current");n.getDOMNode()&&n.getDOMNode().classList&&(i.getDOMNode().classList.toggle("BN-next-anim"),n.getDOMNode().classList.toggle("BN-current-anim"),e.later(2e3,this,function(){this.decorateBNNode(this.container.one(".BN-current"),this.timer),this.decorateBNNode(this.container.one(".BN-next"),(this.timer+1)%this.count),i.getDOMNode().classList.toggle("BN-next-anim"),n.getDOMNode().classList.toggle("BN-current-anim")},[{container:this.container}],!1)),this.timer=(this.timer+1)%this.count},setState:function(e){this.state=e}})},"@VERSION@",{requires:["af-applet-view","af-event","node"]});YUI.add("td-applet-breakingnews-templates-main.advance",function(t,e){dust.cache=dust.cache||{},dust.cache[e]=function(t){function e(t,e){return t.s(e.get(["data"],!1),e,{block:n},{}).w("\n")}function n(t,e){return t.w('\n<div class="breakingNews H-n ').x(e.getPath(!1,["config","ui","breakingnews_rc4"]),e,{"else":o,block:r},{}).w(' ResetChildren">\n    ').x(e.get(["prefix"],!1),e,{block:c},{}).w("\n").x(e.get(["hl_link_href"],!1),e,{"else":s,block:l},{}).w("\n").x(e.get(["more_link_text"],!1),e,{block:_},{}).w("\n</div>\n")}function o(t,e){return t.w("P-30")}function r(t,e){return t.w("Py-30 Px-14")}function c(t,e){return t.w('\n<div class="Fz-ml Mb-10"').s(e.getPath(!1,["config","color","prefix"]),e,{block:a},{}).w(">").f(e.get(["prefix"],!1),e,"h").w("</div>\n    ")}function a(t,e){return t.w(' style="color:').f(e.getPath(!0,[]),e,"h",["s"]).w(';"')}function s(t,e){return t.w('\n<h2 class="Fz-3xl Lh-11"').s(e.getPath(!1,["config","color","header"]),e,{block:u},{}).w(">").h("textNoWrap",e,{},{text:e.get(["hl_text"],!1)}).w("</h2>\n    ")}function u(t,e){return t.w(' style="color:').f(e.getPath(!0,[]),e,"h",["s"]).w(';"')}function l(t,e){return t.w("\n").x(e.getPath(!1,["config","ui","breakingnews_rc4"]),e,{"else":d,block:i},{}).w('\n<a href="').f(e.get(["hl_link_href"],!1),e,"h").w('" class="NoLinkColor"').s(e.getPath(!1,["config","color","header"]),e,{block:h},{}).w(">").h("textNoWrap",e,{},{text:e.get(["hl_text"],!1)}).w("</a></h2>\n    ")}function d(t,e){return t.w('\n<h2 class="Fz-40 Fw-b Lh-11">\n        ')}function i(t,e){return t.w('\n<h2 class="Fz-3xl Fw-b Lh-12">\n        ')}function h(t,e){return t.w(' style="color:').f(e.getPath(!0,[]),e,"h",["s"]).w(';"')}function _(t,e){return t.w("\n").x(e.getPath(!1,["more_link","href"]),e,{"else":w,block:g},{}).w("\n")}function w(t,e){return t.w('\n<p class="Mt-8"').s(e.getPath(!1,["config","color","more"]),e,{block:f},{}).w(">").f(e.get(["more_link_text"],!1),e,"h").w("</p>\n        ")}function f(t,e){return t.w(' style="color:').f(e.getPath(!0,[]),e,"h",["s"]).w(';"')}function g(t,e){return t.w('\n<a class="NoLinkColor Mt-8 D-ib Fw-b" href="').f(e.getPath(!1,["more_link","href"]),e,"h").w('"').s(e.getPath(!1,["config","color","more"]),e,{block:k},{}).w(">").f(e.get(["more_link_text"],!1),e,"h").w(" &raquo;</a>\n        ")}function k(t,e){return t.w(' style="color:').f(e.getPath(!0,[]),e,"h",["s"]).w(';"')}return dust.register("td-applet-breakingnews-templates-main.advance",e),e.__dustBody=!0,n.__dustBody=!0,o.__dustBody=!0,r.__dustBody=!0,c.__dustBody=!0,a.__dustBody=!0,s.__dustBody=!0,u.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,i.__dustBody=!0,h.__dustBody=!0,_.__dustBody=!0,w.__dustBody=!0,f.__dustBody=!0,g.__dustBody=!0,k.__dustBody=!0,e}(),dust.cache["td-applet-breakingnews:main.advance.dust"]=dust.cache["td-applet-breakingnews:main.advance"]=dust.cache[e],t.Template._cache=t.Template._cache||{},t.Template._cache["td-applet-breakingnews/templates/main.advance"]=function(t,n){t=t||{},dust.render(e,t,n)}},"@VERSION@",{requires:["template-base","dust"]});YUI.add("td-applet-breakingnews-templates-main.bar",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(e){function t(e,t){return e.s(t.get(["data"],!1),t,{block:n},{}).w("\n")}function n(e,t){return e.w('\n<div class="Fw-b Bgc-w breaking-news bn-type-').f(t.getPath(!1,["config","colorIndex"]),t,"h").w('">').x(t.get(["prefix"],!1),t,{block:a},{}).x(t.get(["hl_link_href"],!1),t,{"else":s,block:c},{}).w("</div>\n")}function a(e,t){return e.w('<span class="bn-prefix Tt-u Fl-start Px-12 Py-14 Fz-m">').f(t.get(["prefix"],!1),t,"h").w("</span>")}function s(e,t){return e.w('<span class="bn-headline P-12 D-b Fz-l Ell">').f(t.get(["hl_text"],!1),t,"h").w("</span>")}function c(e,t){return e.w('<a class="bn-headline NoLinkColor NoTextDecoration P-12 D-b Fz-l Ell" href="').f(t.get(["hl_link_href"],!1),t,"h").w('">').f(t.get(["hl_text"],!1),t,"h").w('<i class="bn-link-icon Icon-Fp2 IconFlightArrow Fz-xs Px-12 Pos-r"></i><u class="Stretch"></u></a>')}return dust.register("td-applet-breakingnews-templates-main.bar",t),t.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,s.__dustBody=!0,c.__dustBody=!0,t}(),dust.cache["td-applet-breakingnews:main.bar.dust"]=dust.cache["td-applet-breakingnews:main.bar"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-breakingnews/templates/main.bar"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});YUI.add("td-applet-breakingnews-templates-main.ribbon",function(t,e){dust.cache=dust.cache||{},dust.cache[e]=function(t){function e(t,e){return t.s(e.get(["data"],!1),e,{block:n},{}).w("\n")}function n(t,e){return t.w('\n<div class="BN-wrapper Ov-h Pos-r">\n        ').s(e.getPath(!1,["config","rotation"]),e,{block:o},{}).w('\n<div class="BN-current">\n            <div class="Mb-12 Lh-23 Pos-r Ov-h" style="background-color:').f(e.getPath(!1,["config","color","bg"]),e,"h").w(";color:").f(e.getPath(!1,["config","color","header"]),e,"h").w(';font-size:16px;">\n                ').x(e.get(["prefix"],!1),e,{block:h},{}).w('\n<span class="ContentSpan W-75 Fl-start Ell" style="padding-left:').x(e.get(["prefix"],!1),e,{block:g},{}).nx(e.get(["prefix"],!1),e,{block:u},{}).w('px;">\n                        ').x(e.get(["hl_link_href"],!1),e,{"else":w,block:p},{}).w("\n").x(e.get(["more_link_text"],!1),e,{block:_},{}).w('\n</span>\n            </div>\n        </div>\n    </div>\n    <div class="BN-spacer"></div>\n')}function o(t,e){return t.w('\n<div class="BN-next">\n                <div class="Mb-12 Lh-23 Pos-r Ov-h" style="background-color:').f(e.getPath(!1,["config","color","bg"]),e,"h").w(";color:").f(e.getPath(!1,["config","color","header"]),e,"h").w(';font-size:16px;">\n                    ').x(e.get(["prefix"],!1),e,{block:r},{}).w('\n<span class="ContentSpan W-75 Fl-start Ell" style="padding-left:').x(e.get(["prefix"],!1),e,{block:a},{}).nx(e.get(["prefix"],!1),e,{block:s},{}).w('px;">\n                            ').x(e.get(["hl_link_href"],!1),e,{"else":l,block:c},{}).w("\n").x(e.get(["more_link_text"],!1),e,{block:i},{}).w("\n</span>\n                </div>\n            </div>\n        ")}function r(t,e){return t.w('\n<span class="PrefixSpan Fw-b D-ib Pos-a Pstart-10 Miw-10 Ta-c Mend-14 Start-0" style="width: 74px;background-color:').f(e.getPath(!1,["config","color","ribbon"]),e,"h").w(';"><span class="Prefix">').f(e.get(["prefix"],!1),e,"h").w('</span><b class="PrefixBorder Pos-a Start-100 T-0 H-0 W-0 Bdt-0" style="border-bottom: 45px solid transparent; width: 0px; background-color:').f(e.getPath(!1,["config","color","bg"]),e,"h").w("; border-left: 15px solid ").f(e.getPath(!1,["config","color","ribbon"]),e,"h").w(';"></b></span>\n                    ')}function a(t,e){return t.w("114")}function s(t,e){return t.w("12")}function l(t,e){return t.w('\n<span class="Text" style="color:').f(e.getPath(!1,["config","color","header"]),e,"h").w('">').f(e.get(["hl_text"],!1),e,"h").w("</span>\n                            ")}function c(t,e){return t.w('\n<a class="Link" style="color:').f(e.getPath(!1,["config","color","header"]),e,"h").w('" href="').f(e.get(["hl_link_href"],!1),e,"h").w('"><span class="Text" style="color:').f(e.getPath(!1,["config","color","header"]),e,"h").w('">').f(e.get(["hl_text"],!1),e,"h").w("</span></a>\n                            ")}function i(t,e){return t.w("\n").x(e.getPath(!1,["more_link","href"]),e,{"else":d,block:f},{}).w("\n")}function d(t,e){return t.w('\n<span class="Pstart-20 Pend-4 Fz-m" style="color:').f(e.getPath(!1,["config","color","more"]),e,"h").w('">').f(e.get(["more_link_text"],!1),e,"h").w("</span>Â»\n                                ")}function f(t,e){return t.w('\n<a class="NoLinkColor Pstart-20 Pend-4 Fz-m" href="').f(e.getPath(!1,["more_link","href"]),e,"h").w('" style="color:').f(e.getPath(!1,["config","color","more"]),e,"h").w('">').f(e.get(["more_link_text"],!1),e,"h").w("</a>Â»\n                                ")}function h(t,e){return t.w('\n<span class="PrefixSpan Fw-b D-ib Pos-a Pstart-10 Miw-10 Ta-c Mend-14 Start-0" style="width: 74px;background-color:').f(e.getPath(!1,["config","color","ribbon"]),e,"h").w(';"><span class="Prefix">').f(e.get(["prefix"],!1),e,"h").w('</span><b class="PrefixBorder Pos-a Start-100 T-0 H-0 W-0 Bdt-0" style="border-bottom: 45px solid transparent; width: 0px; background-color:').f(e.getPath(!1,["config","color","bg"]),e,"h").w("; border-left: 15px solid ").f(e.getPath(!1,["config","color","ribbon"]),e,"h").w(';"></b></span>\n                ')}function g(t,e){return t.w("114")}function u(t,e){return t.w("12")}function w(t,e){return t.w('\n<span class="Text" style="color:').f(e.getPath(!1,["config","color","header"]),e,"h").w('">').f(e.get(["hl_text"],!1),e,"h").w("</span>\n                        ")}function p(t,e){return t.w('\n<a class="Link" style="color:').f(e.getPath(!1,["config","color","header"]),e,"h").w('" href="').f(e.get(["hl_link_href"],!1),e,"h").w('"><span class="Text" style="color:').f(e.getPath(!1,["config","color","header"]),e,"h").w('">').f(e.get(["hl_text"],!1),e,"h").w("</span></a>\n                        ")}function _(t,e){return t.w("\n").x(e.getPath(!1,["more_link","href"]),e,{"else":b,block:x},{}).w("\n")}function b(t,e){return t.w('\n<span class="Pstart-20 Pend-4 Fz-m" style="color:').f(e.getPath(!1,["config","color","more"]),e,"h").w('">').f(e.get(["more_link_text"],!1),e,"h").w("</span>Â»\n                            ")}function x(t,e){return t.w('\n<a class="NoLinkColor Pstart-20 Pend-4 Fz-m" href="').f(e.getPath(!1,["more_link","href"]),e,"h").w('" style="color:').f(e.getPath(!1,["config","color","more"]),e,"h").w('">').f(e.get(["more_link_text"],!1),e,"h").w("</a>Â»\n                            ")}return dust.register("td-applet-breakingnews-templates-main.ribbon",e),e.__dustBody=!0,n.__dustBody=!0,o.__dustBody=!0,r.__dustBody=!0,a.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,c.__dustBody=!0,i.__dustBody=!0,d.__dustBody=!0,f.__dustBody=!0,h.__dustBody=!0,g.__dustBody=!0,u.__dustBody=!0,w.__dustBody=!0,p.__dustBody=!0,_.__dustBody=!0,b.__dustBody=!0,x.__dustBody=!0,e}(),dust.cache["td-applet-breakingnews:main.ribbon.dust"]=dust.cache["td-applet-breakingnews:main.ribbon"]=dust.cache[e],t.Template._cache=t.Template._cache||{},t.Template._cache["td-applet-breakingnews/templates/main.ribbon"]=function(t,n){t=t||{},dust.render(e,t,n)}},"@VERSION@",{requires:["template-base","dust"]});YUI.add("td-applet-breakingnews-templates-main",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(e){function t(e,t){return e.s(t.get(["data"],!1),t,{block:n},{}).w("\n")}function n(e,t){return e.w("\n<div class=").h("if",t,{"else":o,block:r},{cond:c}).w(' style="background-color:').f(t.getPath(!1,["config","color","bg"]),t,"h").w(";color:").f(t.getPath(!1,["config","color","header"]),t,"h").w('">\n        ').x(t.get(["prefix"],!1),t,{block:a},{}).w("\n").x(t.get(["hl_link_href"],!1),t,{"else":s,block:l},{}).w("\n").x(t.get(["more_link_text"],!1),t,{block:d},{}).w("\n</div>\n")}function o(e,t){return e.w('"Px-12 Pt-12 Pb-10 Fz-m"')}function r(e,t){return e.w('"P-12 Fz-m Mb-12"')}function c(e,t){return e.w("'").f(t.getPath(!1,["config","device"]),t,"h").w("' == 'desktop'")}function a(e,t){return e.w('\n<span class="Fw-b">').f(t.get(["prefix"],!1),t,"h").w("</span>\n        ")}function s(e,t){return e.w('\n<span style="color:').f(t.getPath(!1,["config","color","header"]),t,"h").w('">').f(t.get(["hl_text"],!1),t,"h").w("</span>\n        ")}function l(e,t){return e.w('\n<a style="color:').f(t.getPath(!1,["config","color","header"]),t,"h").w('" href="').f(t.get(["hl_link_href"],!1),t,"h").w('">').f(t.get(["hl_text"],!1),t,"h").w("</a>\n        ")}function d(e,t){return e.w("\n").x(t.getPath(!1,["more_link","href"]),t,{"else":u,block:i},{}).w("\n")}function u(e,t){return e.w('\n<span style="color:').f(t.getPath(!1,["config","color","more"]),t,"h").w('">').f(t.get(["more_link_text"],!1),t,"h").w("</span>\n            ")}function i(e,t){return e.w('\n<a class="NoLinkColor" href="').f(t.getPath(!1,["more_link","href"]),t,"h").w('" style="color:').f(t.getPath(!1,["config","color","more"]),t,"h").w('">').f(t.get(["more_link_text"],!1),t,"h").w("</a>\n            ")}return dust.register("td-applet-breakingnews-templates-main",t),t.__dustBody=!0,n.__dustBody=!0,o.__dustBody=!0,r.__dustBody=!0,c.__dustBody=!0,a.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,d.__dustBody=!0,u.__dustBody=!0,i.__dustBody=!0,t}(),dust.cache["td-applet-breakingnews:main.dust"]=dust.cache["td-applet-breakingnews:main"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-breakingnews/templates/main"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});YUI.add("td-breakingnews-model",function(e,n){"use strict";e.namespace("TD.Breakingnews").Model=e.Base.create("TDBreakingnewsModel",e.Model,[e.Af.Sync],{resource:"breakingnews",readonly:!0,idAttribute:"season",initializer:function(e){}},{ATTRS:{season:{}}})},"@VERSION@",{requires:["model","af-sync"]});