YUI.add("af-beacon",function(e,t){"use strict";var n,a,r,o,i="error",s="info",c="perf",d=window,u={once:!1},f={code:!0,src:!0,time:!0},l=["ActionScript","Decompress fail"],m=["^resource://"],h={},g=[],p=!1,b=e.merge({enable:!0,beaconUncaughtErr:!1,beaconPageLoadPerf:!1,pathPrefix:"/_td_api/beacon",sampleSize:1,batch:!0,batchInterval:5},YUI.Env.Af&&YUI.Env.Af.settings&&YUI.Env.Af.settings.beacon,d.Af&&d.Af.config&&d.Af.config.beacon),S=e.merge(YUI.Env.Af&&YUI.Env.Af.settings&&YUI.Env.Af.settings.context,d.Af&&d.Af.context),v={os:e.UA&&e.UA.os};function E(e,t,n){if(!e||!t||!n)return!1;var a=e+":"+t+":"+n;return!!h[a]||(h[a]=!0,!1)}function _(t,n){var a,r,o,i,s,c,d,u,l=e.QueryString.stringify(t);if(l.length<=n)return l;for(a=[],r=[],i=0,s=(o=l.split("&")).length;i<s;i++)"_"===(c=o[i].split("="))[0].charAt(0)||f[c[0]]?a.push(o[i]):r.push(o[i]);return a=a.join("&"),(r=r.join("&"))&&(d=n-a.length,r.length>d&&((r=r.substring(0,d))?r+="&_trnc=1":r="_trnc=1")),u=[],a&&u.push(a),r&&u.push(r),u.join("&")}function y(){clearTimeout(a),e.Af.Beacon._sendBatch()}function A(){if(!p&&e.Af.Beacon.beaconPageLoadPerf){p=!0;var n,a,r,o,i,s=d.performance||d.webkitPerformance||d.msPerformance||d.mozPerformance||d.Performance||{},c={};s&&s.timing&&s.navigation?(o=s.navigation,n=(i=s.timing).navigationStart,c={navT:o.type,navS:n,fetS:i.fetchStart-n,dluS:i.domainLookupStart-n,dluE:i.domainLookupEnd-n,conS:i.connectStart-n,conE:i.connectEnd-n,reqS:i.requestStart-n,resS:i.responseStart-n,resE:i.responseEnd-n,domL:i.domLoading-n,domI:i.domInteractive-n,domS:i.domContentLoadedEventStart-n,domE:i.domContentLoadedEventEnd-n,domC:i.domComplete-n,lodS:i.loadEventStart-n,lodE:i.loadEventEnd-n},i.linkNegotiationStart&&i.linkNegotiationEnd&&(c.lnkS=i.linkNegotiationStart-n,c.lnkE=i.linkNegotiationEnd-n),i.unloadEventStart&&(c.uldS=i.unloadEventStart-n,c.uldE=i.unloadEventEnd-n),i.redirectStart&&(c.redC=o.redirectCount,c.redS=i.redirectStart-n,c.redE=i.redirectEnd-n),"number"==typeof i.secureConnectionStart&&(c.secS=i.secureConnectionStart>0?Math.max(1,i.secureConnectionStart-n):0)):(n=d.afPerfHeadStart,a=d.afPerfPageEnd,r=d.afPerfPageLoad,n&&r&&(c.lodE=r-n),n&&a&&(c.pagE=a-n)),c.lodE&&(c.code="pageload",c.time=c.lodE,e.Af.Beacon.perf(t,c))}}function P(){A(),y(),d.removeEventListener("unload",P,!1)}function L(){d.addEventListener("load",A,!1),d.addEventListener("unload",P,!1)}(r={_sampled:{},_sampleSize:{},getKey:function(e){return e&&e.type&&e.src?e.type+":"+e.src:"default"},isSampled:function(t){var n=this.getKey(t);return e.Lang.isBoolean(this._sampled[n])?this._sampled[n]:this._sampled["default"]},setSize:function(e,t){var n,a,r=this,o=r.getKey(t);return e=parseInt(e,10),isNaN(e)||e===r._sampleSize[o]||(r._sampled[o]=1===e||e>0&&1===(n=1,a=e,Math.floor(Math.random()*(a-n+1))+n),r._sampleSize[o]=e),r._sampled[o]}}).setSize(b.sampleSize),b.sampleSizeUncaughtErr&&r.setSize(b.sampleSizeUncaughtErr,{type:i,src:"rt"}),e.Array.each(["rid","bucket","device","site"],function(e){S[e]&&(v[e]=S[e]),f[e]=!0}),v=e.merge(v,b.meta||{}),e.namespace("Af").Beacon={enable_beaconrterr:b.beaconUncaughtErr,beaconPageLoadPerf:b.beaconPageLoadPerf,enable_batching:b.batch,batch_interval:b.batchInterval,meta:v,pathPrefix:b.pathPrefix,setSampleSize:function(e,t){return r.setSize(e,t)},isSampled:function(e){return r.isSampled(e)},_queryStringify:_,send:function(t,n,a){if(t){var r,o=new Image;o.onerror=function(e){var t=e instanceof Error?e.toString():e;i(a,t)},o.onload=function(){i(a)};try{return n&&e.Object.size(n)&&(n._rdn=(new Date).getTime().toString().substr(7),t+="?"+_(n,2048)),o.src=t,void(a&&setTimeout(function(){i(a,"aborted")},4e3))}catch(s){i(a,"path failed")}}else a&&a("invalid beacon path");function i(e,t){e&&!r&&(r=!0,e(t))}},_enqueue:function(e,t,n){g.push({beacon:{type:e,data:t},cb:n})},_dequeueAll:function(){return g.splice(0,g.length)},_sendBatch:function(){if(0!==g.length){var t,n=this._dequeueAll(),a=this.pathPrefix+"/batch";try{t={method:"POST",timeout:4e3,data:e.JSON.stringify(n),headers:{"Content-Type":"application/json"},on:{success:function(e){r(n)},failure:function(e,t){r(n,t.status+":"+t.statusText)}}},e.io(a,t)}catch(o){r(n,"path failed")}}function r(e,t){var n,a=e.length;for(n=0;n<a;n++)e[n]&&e[n].cb&&e[n].cb(t)}},xhr:function(t,n,a){if(t){var r;r={method:"GET",timeout:(n=n||{}).timeout||2e3,headers:n.headers||{},on:{success:function(e,t){a&&a({statusCode:t.status})},failure:function(e,t){a&&a({statusCode:t.status,statusText:t.statusText,respText:t.responseText})}}};try{t+="?"+_(n.query,2048),e.io(t,r)}catch(o){a&&a("querystring stringify failed")}}else a&&a("invalid xhr path")},error:function(t,n,a,r){var o,s,c;if(o=(r=e.merge(u,r)).callback,a)if(!this.isSampled({type:i,src:t})||this._shouldIgnoreError(a)||!0===r.once&&a.code&&E(i,t,a.code))o&&o();else{if(c=Object.prototype.toString.call(a),a){switch(c){case"[object String]":s={code:999,message:a};break;case"[object Error]":s={code:a.code||a.name||999,message:a.message,line:a.lineNumber||"",file:a.fileName||""};break;case"[object Object]":s=a;break;default:try{s={code:999,message:e.JSON.stringify(a)}}catch(d){}}s.message=s.message&&s.message.substring(0,300)||""}this._send(i,t,e.merge(this.meta,n,s),o)}else o&&o("missing error")},info:function(t,n,a){var r;r=(a=e.merge(u,a)).callback,n&&n.code?!this.isSampled({type:s,src:t})||!0===a.once&&E(s,t,n.code)?r&&r():this._send(s,t,e.merge(this.meta,n),r):r&&r("missing data.code")},perf:function(t,n,a){var r;r=(a=e.merge(u,a)).callback,n&&n.code&&e.Object.owns(n,"time")?!this.isSampled({type:c,src:t})||!0===a.once&&E(c,t,n.code)?r&&r():this._send(c,t,e.merge(this.meta,n),r):r&&r("missing data.code or data.time")},ignoreError:function(e){e&&l.push(e)},ignoreURL:function(e){e&&m.push(e)},_shouldIgnoreError:function(e){if(!e)return!0;var t,n,a;if(!(a="string"==typeof e?e:e.message))return!1;for(t=0,n=l.length;t<n;t++)if(a.match(l[t]))return!0;return!1},_shouldIgnoreURL:function(e){if(!e)return!1;var t,n;for(t=0,
n=m.length;t<n;t++)if(e.match(m[t]))return!0;return!1},_send:function(e,t,n,a){if(b.enable){var r=this.pathPrefix;r?e?n?(t&&(n.src=t),this.enable_batching?this._enqueue(e,n,a):this.send(r+"/"+e,n,a)):a&&a("no beacon data"):a&&a("no beacon type"):a&&a("no beacon pathPrefix")}else a&&a()}},n=d.onerror,d.onerror=function(t,a,r){var o,i=e.Af.Beacon;try{i.enable_beaconrterr&&!i._shouldIgnoreURL(a)&&(o={code:t.name,message:t.message||t,url:a&&a.substring(0,300),line:t.lineNumber||r||"",file:t.fileName||""},i.error("rt",{},o))}catch(s){}return"function"==typeof n&&n(t,a,r)},b.enable&&e.Af.Beacon.enable_batching&&(o=e.Af.Beacon.batch_interval,a=setInterval(function(){e.Af.Beacon._sendBatch()},1e3*o)),d.addEventListener?(d.addEventListener("pageshow",L,!1),L()):d.attachEvent&&(d.attachEvent("onload",A),d.attachEvent("onunload",A),d.attachEvent("onunload",y))},"@VERSION@",{requires:["json-stringify","querystring-stringify-simple","io-base"]});YUI.add("af-bootstrap",function(t){"use strict";var e=t.Object,n=t.Af.Utils,r=t.Lang,u=t.Array,a=n.perfStart,o=n.perfStop,i=0,s=n.objectGetValue,l=t.config.win;function c(){return l.Af&&l.Af.bootstrap||YUI.Env.Af&&YUI.Env.Af.bootstrap}function f(e){if(!e)return null;var n=e.split(".");return"Y"===n[0]&&n.shift(),s(t,n)}function d(t){var e=c();return e&&e[t]||{}}function p(t){return t&&!0!==t.lazy_load}t.namespace("Af").Bootstrap={_getYUIModules:function(t,n){var r=[];return t&&u.each(["models","views","templates"],function(u){e.each(t[u],function(t){!t.yui_module||n&&!n(t)||r.push(t.yui_module)})}),r},find:function(e){var n=null;return t.Object.each(c(),function(t,r){e(r,t)&&((n=n||{})[r]=t)}),n},load:function(s,l,f){if(f=f||n.noop,!s)return f();r.isString(s)&&(s=[s]);var d,g=l&&l.extraMods||[],M=c();if(M&&e.size(M)&&(u.each(s,function(t){var e=M[t];g=g.concat(this._getYUIModules(e,p))},this),g=u.dedupe(g)),0===g.length)return f();d="bsload:yuiuse-"+ ++i+":"+g.length,a(d),l&&l.batch?n.use(g,function(){o(d),f()}):t.use(g,function(){o(d),f()})},createModel:function(e,n){var r,u=this.getModelMeta(e,n),a=f(u.yui_class),o=u.config,i=u.data;return a&&(a.prototype._isYUIModel?r=new a(t.merge(o,i)):a.prototype._isYUIModelList?r=new a(t.merge(o,{items:i||[]})):(r=new a(o),i&&(r.setAttrs?r.setAttrs(i,{silent:!0}):r.reset&&r.reset(i,{silent:!0})))),r},getMeta:function(t){return d(t)},hasMeta:function(t){var n=c();return n&&e.owns(n,t)},getModelMeta:function(t,e){var n=d(t);return n.models&&n.models[e]||{}},getModelClass:function(t,e){return f(this.getModelMeta(t,e).yui_class)},getModelData:function(t,e){return this.getModelMeta(t,e).data},getViewMeta:function(t,e){var n=d(t);return n.views&&n.views[e]||{}},getViewClass:function(t,e){return f(this.getViewMeta(t,e).yui_class)},getTemplateName:function(t,e){var n=d(t);return n.templates&&n.templates[e]&&n.templates[e].template_name||null},getLazyLoadYuiModules:function(t,n){var r=d(t),u=[];return r&&n&&r[n]&&e.each(r[n],function(t){t.yui_module&&!0===t.lazy_load&&u.push(t.yui_module)}),u}}},"@VERSION@",{requires:["af-utils"]});YUI.add("af-cache",function(e,t){"use strict";var r,a,n,i,s,o=e.Lang,c=o.isFunction,l=null,u={once:!0},f="lsfull",g="AF_",d="max-age",h="stale-while-revalidate";r={parse:function(t,r){if(!t)return r("missing Cache-Control");var a,n,i={};return e.Array.forEach(t.toLowerCase().split(","),function(e){(e=o.trim(e).split("=")).length>1?i[e[0]]=e[1]:1===e.length&&(i[e[0]]=!0)}),i["no-cache"]||i["no-store"]?r("no-cache/no-store is on"):(a=parseInt(i[d],10),isNaN(a)||a<=0?r("invalid max-age:"+i[d]):((n={})[d]=a,n[h]=parseInt(i[h],10)||0,r(l,n)))}},s={VERSION:"1.0",isCompatible:function(){var t=s,r=e.StorageLite.getItem(g+"version");return r&&r.split(".")[0]===t.VERSION.split(".")[0]},save:function(){var t=s;e.StorageLite.setItem(g+"version",t.VERSION)}},a={enabled:(i={nowInSec:function(){return Math.floor((new Date).getTime()/1e3)},getLocalStorage:function(){var t;try{t=e.config.win.localStorage}catch(r){t=null}return t},isNative:function(){var e=this.getLocalStorage();return!!(e&&e.length!==undefined&&e.key&&e.getItem&&e.setItem&&e.removeItem)},isNativeEnabled:function(){var e=this,t=e.getLocalStorage(),r=g+"test";if(e._isNativeEnabled!==undefined)return e._isNativeEnabled;if(null===t||!e.isNative())return e._isNativeEnabled=!1,!1;e._isNativeEnabled=!0;try{t.setItem(r,"1"),t.removeItem(r)}catch(a){0===t.length&&(e._isNativeEnabled=!1)}return e._isNativeEnabled}}).isNativeEnabled(),build:function(){if(this.enabled){var e,t,r,a,n=this,s=i.getLocalStorage(),o=s&&s.length||0;for(n.records=[],e=0;e<o;e++)0===(r=s.key(e)).indexOf(g)&&(t=s.getItem(r),(a=n.parseMeta(t))&&(a.key=r,n.records.push(a)))}},filter:function(e,t){var r,a,n={keep:[],out:[]},i=this.records.length;for(r=0;r<i;r++)a=this.records[r],e.call(t,a)?n.keep.push(a):n.out.push(a);return n},formatMeta:function(e){return e&&e.access>0&&e.expires>0&&e.stale>=0?e.access+":"+e.expires+":"+e.stale+":":l},parseMeta:function(e){var t=e.split(":",3);return t&&3===t.length?(t={access:parseInt(t[0],10),expires:parseInt(t[1],10),stale:parseInt(t[2],10),size:e.length},isNaN(t.access)||isNaN(t.expires)||isNaN(t.stale)||t.access<=0||t.expires<=0||t.stale<0?l:t):l},du:function(){if(!this.records)return l;var e,t=0,r=this.records.length,a=i.getLocalStorage(),n=a&&a.length||0;for(e=0;e<r;e++)t+=this.records[e].size;return[r,t,n]},remove:function(e){if(this.enabled){var t,r=-1,a=this.records.length;for(t=0;t<a;t++)if(this.records[t].key===e){r=t;break}r>=0&&this.records.splice(r,1)}},update:function(e,t){if(this.enabled){var r,a,n=this.records||[],s=n.length,o=i.nowInSec(),c=i.getLocalStorage(),u=c&&c.getItem(e)||null;for(a=0;a<s;a++)if(n[a].key===e){r=n[a];break}u!==l?r?(r.expires=t&&t.expires||r.expires,r.stale=t&&t.stale||r.stale||0,r.access=t&&t.access||o,r.size=u.length):t&&n.push({key:e,expires:t.expires,stale:t.stale,access:t.access||o,size:u.length}):r&&n.splice(a,1)}},save:function(e){this.enabled&&(this.records=e)}},n={_enabled:i.isNativeEnabled(),_lpurged:!1,lpurge:function(){if(!n._lpurged&&n._enabled){n._lpurged=!0;var e=i.getLocalStorage();e&&e.clear&&!s.isCompatible()&&(e.clear(),s.save())}},purge:function(t,r){if(!t||!n._enabled)return!1;var s,o,c,l,u,f,g,d,h=e.StorageLite;for(r=r||0,s=i.nowInSec(),l=0,u=(g=(o=a.filter(function(e){return e.expires+e.stale>s})).out).length;l<u;l++)(d=g[l]).size&&(t-=d.size),t<0&&(r+=t),d.key&&h.removeItem(d.key);if(t<=0&&r<=0)return a.save(o.keep),!0;for((c=o.keep).sort(function(e,t){return e.access-t.access||t.size-e.size}),f=[],l=0,u=c.length;l<u;l++)d=c[l],t<=0&&r<=0?f.push(c[l]):t>0?((t-=d.size)<0&&(r+=t),h.removeItem(d.key)):r>0&&(r-=d.size,h.removeItem(d.key));return a.save(f),t<=0},purgeStale:function(){var t,r,s,o,c=n,l=i.nowInSec();if(!c._enabled)return!1;if((o=(s=a.filter(function(e){return e.expires+e.stale>l})).out).length){for(t=0,r=o.length;t<r;t++)e.StorageLite.removeItem(o[t].key);a.save(s.keep)}return!0}},e.namespace("Af").Cache={_utils:i,_version:s,_meta:a,_cacheControl:r,_pruner:n,du:function(){return a.du()},isNative:function(){return i.isNative()},isNativeEnabled:function(){return i.isNativeEnabled()},get:function(t,r,a){if(c(r)&&(a=r,r={}),!t)return a&&a("missing cache key");r=e.merge({json:!0,silent:!0},r);var n,s,o,u=g+t,f=e.StorageLite.getItem(u),d=!1;if(f===l)return a&&a(l,l);if(!(n=this._meta.parseMeta(f)))return e.StorageLite.removeItem(t),a&&a(l,l);if(s=f.substring(this._meta.formatMeta(n).length),o=i.nowInSec(),n.expires+n.stale<o)return e.Af.Cache.remove(t),a&&a(l,l);if(r.json)try{s=e.JSON.parse(s),d=!0}catch(h){s=l,e.Af.Cache.remove(t)}else d=!0;if(d&&!r.silent){this._meta.update(u),f=o+f.substring(10);try{e.StorageLite.setItem(t,f)}catch(v){}}return a&&a(l,s,n.expires<o?{isStale:!0}:undefined)},set:function(a,n,i,s,o){c(s)&&(o=s,s={});var v=this;return v.isNative()&&!v.isNativeEnabled()?o&&o("native disabled"):a?void r.parse(i,function(r,i){if(r)return o&&o(r);var c,p,m,b,I=v._utils.nowInSec(),N=g+a,S=v._pruner,_=v._meta;if((s=e.merge({json:!0,purgeExtra:30},s)).json)try{n=e.JSON.stringify(n)}catch(y){return o&&o(y)}if(c=I+i[d],b={expires:c,stale:i[h],access:I},!(m=v._meta.formatMeta(b)))return o&&o("invalid metaData");m+=n;try{return e.StorageLite.setItem(N,m,!1),_.update(N,b),o&&o(l)}catch(E){if(p=m.length,!S.purge(p,s.purgeExtra*p))return e.Af.Beacon.error(t,{},{code:f,message:"not enough space",errDetail:E.name+":"+E.message,key:a,size:p,du:v.du().join(":"),nativeEnabled:v.isNativeEnabled()},u),o&&o(E);try{return e.StorageLite.setItem(N,m,!1),_.update(N,b),o&&o(l)}catch(k){return e.Af.Beacon.error(t,{},{code:f,message:"purge not enough",errDetail:k.name+":"+k.message,key:a,size:p,du:v.du().join(":"),nativeEnabled:v.isNativeEnabled()},u),o&&o(k)}}}):o&&o("missing cache key")},remove:function(t,r){var a=g+t;return e.StorageLite.removeItem(a),this._meta.remove(a),r&&r(l)}},i.isNativeEnabled()&&(e.Af.Cache._pruner.lpurge(),e.Af.Cache._meta.build())},"@VERSION@",{requires:["af-beacon","json","gallery-storage-lite"]});YUI.add("af-compositeview",function(e,i){"use strict";var t=e.Af.Utils,n=e.Lang.isFunction,o=e.Object,s=e.Parallel;function r(e,i,t,n){var o=this;o.name=e,o.parent=i,o.selector=t,o.view=n}function a(){}r.prototype={setView:function(e){return this.view=e,this},showView:function(e,i){var t,o=this,r=o.view;if(r!==e)return i=i||{},r&&n(r.willHide)||e&&n(e.willShow)?(t=new s,r&&n(r.willHide)&&r.willHide(t.add(function(){})),e&&n(e.willShow)&&e.willShow(t.add(function(){})),t.done(a)):a(),o;function a(){o.detachView(),o.view=e,o.attachView()}},closeView:function(){var e=this,i=e.view;function t(){e.detachView(),e.view=undefined}return i&&n(i.willHide)?i.willHide(t):t(),e},getView:function(){return this.view},detachView:function(e){var i=this,t=i.view;return t&&(t.remove(e),t.removeTarget(i.parent),t.set("display",null)),i},getContainer:function(){return this.parent.get("container").one(this.selector)},attachView:function(){var e,i,t=this,n=t.view;return n&&((e=t.getContainer()).addClass("yui3-app-views"),(i=n.get("container"))&&e!==i.get("parentNode")&&e.append(i),n.addTarget(t.parent),n.set("display",t.name)),t},show:function(){return this.getContainer().show(),this},hide:function(){return this.getContainer().hide(),this}},a.prototype={allowRegionLateBind:!0,initializer:function(i){var n=this;i=i||{},n.views=t.objectMerge({},n.views,i.views),t.objectMerge({},n.regions,i.regions),o.each(n.regions,function(i,t){var o,s=n.getRegion(t);s||(s=n.createRegion(t,i.selector)),i.view&&s&&(o=e.Lang.isString(i.view)?n.getView(i.view):i.view)&&s.showView(o)})},attachRegionViews:function(){o.each(this._regions,function(e){e.attachView()})},detachRegionViews:function(e){o.each(this._regions,function(i){i.detachView(e)})},createRegion:function(e,i){var t=this;return t._regions||(t._regions={}),i=i||'[data-region="'+e+'"]',t.allowRegionLateBind||t.get("container").one(i)?(t._regions[e]=new r(e,t,i,null),t._regions[e]):null},getRegion:function(e){return this._regions?this._regions[e]:null},destroyView:function(i,t){if(i){var n,o=this._views,s=t&&!0===t.async;"string"==typeof i&&(i=o?o[i]:null),i&&(n=i.get("name"),i===o[n]&&delete o[n],s?e.later(0,null,function(){i.destroy(t)}):i.destroy(t))}},destroyViews:function(i){var t=this._views,n=i&&!0===i.async;this._views={},n?e.later(0,null,function(){o.each(t,function(e){e.destroy(i)})}):o.each(t,function(e){e.destroy(i)})},getView:function(e){return this._views?this._views[e]:null},setView:function(e,i){this._views||(this._views={}),this._views[e]=i}},e.namespace("Af").CompositeView=a},"@VERSION@",{requires:["parallel","af-utils"]});YUI.add("af-comscore",function(e,c){"use strict";var o=window.location,a=e.Af.Config.get("spaceid"),n=("https:"===o.protocol?"https://sb":"http://b")+".scorecardresearch.com/p",t=e.Af.Config.get("comscore")||{};e.namespace("Af").Comscore={beacon:function(c){if((c=c||{}).spaceid||a){var r={c1:"2",c2:"7241469",c5:c.spaceid||a,c7:c.url||o.protocol+"//"+o.host+o.pathname,c14:c.c14||t.c14||-1,ns_c:"UTF-8",ns__t:(new Date).getTime()},s=n+"?"+e.QueryString.stringify(r);e.Af.Beacon.send(s),c.panelPath&&e.Af.Beacon.xhr(c.panelPath,{query:c.panelQuery})}}}},"@VERSION@",{requires:["af-beacon","af-config","querystring-stringify-simple"]});YUI.add("af-config",function(e){"use strict";var t,n,o,i,r,c=e.Af.Utils,f="context",s=["bucket","crumb","device","ssl","site","lang","region","intl","partner"],u=["dev_info","logLevel","perf","tachyonHost"],a=e.config.win,g=YUI.Env;function l(){r||(n=e.merge(g.Af&&g.Af.settings&&g.Af.settings.context,a.Af&&a.Af.context),o=e.Array.dedupe(s.concat(u).concat(e.Object.keys(n))),i=e.merge(n,c.urlParseQuery()),t=e.merge({},g.Af&&g.Af.settings,a.Af&&a.Af.config),r=!0)}e.namespace("Af").Config={contextKeys:function(){return l(),o},get:function(n,o){var r;return l(),r=n===f?e.merge(i):0===n.indexOf(f+".")?c.objectGetValue(i,n.substring(8)):c.objectGetValue(t,n),e.Lang.isValue(r)?r:o},getContext:function(e,t){return this.get(f+"."+e,t)},isDev:function(){var e=this.getContext("env"),t=window.location.hostname;return!(!e||"dev"!==e&&"corp"!==e&&"development"!==e)||("localhost"===t||t&&t.indexOf(".corp.")>0)},isFeatureOn:function(e,t){if(!e)return!1;var n=this.getContext("enable_"+e,t);return c.urlParseBoolean(n)},isUserSignedIn:function(t){t=!0===t;var n=window.Af&&window.Af.context&&window.Af.context.authed,o=e.Cookie;return"2"===n||2===n?!t:"1"===n||1===n||"0"!==n&&0!==n&&!(!o.getSub("Y","n")||!o.getSub("Y","l"))}}},"@VERSION@",{requires:["af-utils","cookie"]});YUI.add("af-cookie",function(e){"use strict";var t=e.Cookie,n=e.JSON,a=e.Lang,r=e.config.win.location.hostname,i="apeaf";function o(){var e=new Date;return e.setFullYear(e.getFullYear()+1),e}e.namespace("Af").Cookie={get:function(e,r){var o=t.getSub(i,e),s=null;return o&&(s=n.parse(o)[r]||null,a.isObject(s)&&a.isNumber(s._e)&&s._e<+new Date/1e3&&(this.remove(e,r),s=null)),a.isObject(s)&&s.hasOwnProperty("_v")?s._v:s},set:function(a,s,u,c){var l=t.getSub(i,a),f=l?e.JSON.parse(l):{};f[s]=c?{_v:u,_e:Math.floor(+new Date/1e3+c)}:u,t.setSub(i,a,n.stringify(f),{expires:o(),domain:r,path:"/"})},remove:function(e,a){var s,u,c,l=t.getSub(i,e);l&&(delete(s=n.parse(l))[a],u=n.stringify(s),c={expires:o(),domain:r,path:"/"},"{}"===u?t.removeSub(i,e,c):t.setSub(i,e,u,c))}}},"@VERSION@",{requires:["cookie","json"]});YUI.add("af-dom",function(e){"use strict";e.namespace("Af").Dom={parseForm:function(t){var n={};return e.one(t).all("input,select,textarea").each(function(t){var a=t.getData("setting")||t.get("name"),c=t.get("tagName"),o=t.get("type");"INPUT"!==c||"radio"!==o?"INPUT"!==c||"checkbox"!==o?("INPUT"!==c||"submit"!==o&&"reset"!==o)&&(n[a]=t.get("value")):t.get("checked")&&(e.Lang.isArray(n[a])||(n[a]=[]),n[a].push(t.get("value"))):t.get("checked")&&(n[a]=t.get("value"))}),n},jsAttach:function(t,n){var a,c,o=e.Node.create("<div></div>"),r="";o.setContent(t),o.all("script").each(function(e){r+=e._node.text+";"}),a=e.one(document.createElement("script"));try{a.set("text",r)}catch(i){a._node.text=r}c=document.write,document.write=this.noop,(n=n||e.one("head")).appendChild(a),document.write=c},purgeSubtree:function(e){e&&e.get("children").each(function(e){e.purge(!0)})},setHTML:function(e,t){e&&e.empty().setHTML(t)}}},"@VERSION@",{requires:["node-base","node-core"]});YUI.add("af-event",function(e){"use strict";var n=e.Global,u={},t={},a={};e.namespace("Af").Event={publish:function(e,c){c=c||{};var i,o=n.publish(e,c);return c.queue&&!c.emitFacade&&(u[e]={queue:c.queue},t[e]||(i=t[e]=function(n){var t=u[e].queue;"function"==typeof t?a[e]=t.call(null,e,a[e],n):"last"===t?a[e]=[n]:a[e]?a[e]=[].concat(a[e],n):a[e]=[n]},n.on(e,i))),o},fire:function(){return n.fire.apply(n,arguments)},on:function(t,c,i){return u[t]&&u[t].queue&&a[t]&&a[t].length&&e.each(a[t],function(e){c.call(i,e)}),n.on(t,c,i)}}},"@VERSION@",{requires:["event-custom"]});YUI.add("af-history",function(t){"use strict";var e=t.config.win,r=!1,a=t.config.doc.getElementById("afhistorystate");try{r=!(!e.history||!e.history.replaceState||"function"!=typeof e.history.replaceState)}catch(s){}function i(t){var e=t?t.split("."):[];return e.unshift("AfHistory"),e}function n(){var i,n;if(r)n=e.history.state;else if(a)try{(i=a.value)&&(n=t.JSON.parse(i))}catch(s){}return n}t.namespace("Af").History={getState:function(e){var r=null,a=i(e);return a.length>1&&(r=t.Object.getValue(n(),a)||null),r},replaceState:function(s,o){var c=null,f=i(s);f.length>1&&((c=n()||{}).AfHistory=c.AfHistory||{},t.Object.setValue(c,f,o),r?e.history.replaceState(c,""):a&&(a.value=t.JSON.stringify(c)))}}},"@VERSION@",{requires:["json"]});YUI.add("af-message",function(e,s){"use strict";var a,n={ERR:"Doh! Something went wrong. Please try again.",ERR_LOAD:"Oops, something went wrong. Please try again.",ERR_SAVE_SETTINGS:"Oops, we couldn't save your preferences. Please try again.",ERR_SAVE:"Oops, something got stuck in our tubes. Please try again.",ERR_AUTH:"Oops, you need to log in again."},o="D-n",t="info",r={error:"Error",important:"Important",info:"Info",success:"Success",warn:"Warning"},i={error:"&#xe046;",important:"&#xe046;",info:"&#xe035;",success:"&#xe063;",warn:"&#xe046;"},l={page:"Page",modal:"Modal",app:"App"};e.namespace("Af").Message={show:function(s,p,c,g){var d,u,f,m,h,R=p.template||"ape-af-templates-message";a||(a=e.Af.Utils.i18n("ape-af/strings"),0===e.Object.size(a)&&(a=n)),(s=e.one(s))||(s=e.one("body")),g||(g="BODY"===s.get("nodeName")?"page":s.hasClass("js-applet")?"app":"modal"),d=s.one(">.js-msg"),u=p.level?p.level.toLowerCase():t,m=p.token,(f=p.content)||(m&&(f=a[m]),f||"error"!==u||(f=a.ERR)),h={guid:s.generateID(),stencilIcon:i[u]||i[t],stencilLevel:r[u]||r[t],stencilType:l[g]||l.page,content:f},c&&c.glyphHook&&(h.glyphHook=c.glyphHook),dust.render(R,h,e.bind(function(a,n){if(!a){var t=e.Node.create(n);t.addClass(o),d?d.replace(t):s.append(t),this._show(t)}},this))},_show:function(s){if(s=e.one(s)){s.removeClass(o).focus(),s.show("fadeIn",{duration:1});var a=s.one(".js-msg-close");a&&a.once("click",function(e){var a;e.preventDefault(),a=1,s.hide("fadeOut",{duration:a},function(){s.addClass(o),s.remove(!0)}),s.addClass(o)})}}}},"@VERSION@",{langBundles:["strings"],requires:["ape-af-templates-message","af-utils","node-base","selector-css3"]});YUI.add("af-pageviz",function(e,d){"use strict";var n,i,t="undefined",o="visibilitychange";typeof document.hidden!==t?(n="hidden",i=o):typeof document.mozHidden!==t?(n="mozHidden",i="moz"+o):typeof document.msHidden!==t?(n="msHidden",i="ms"+o):typeof document.webkitHidden!==t&&(n="webkitHidden",i="webkit"+o),e.namespace("Af").PageViz={isHidden:function(){return!!document[n]}},e.EventTarget&&e.augment(e.Af.PageViz,e.EventTarget,!0,null,{emitFacade:!1,prefix:"PageViz"}),"undefined"==typeof document.addEventListener||void 0===n||document.addEventListener(i,function(){e.Af.PageViz.fire(document[n]?"hidden":"visible")},!1)},"@VERSION@",{requires:["event-custom"]});YUI.add("af-poll",function(t,i){"use strict";var n=t.Object,e=t.Lang;function l(t){this._model=t.host,this._model.after("destroy",function(){this.end()},this)}l.NS="poll",l.prototype={_handle:null,_poll_config:{interval:3e4},_load_options:{},_callback:null,_err_streak:0,start:function(i,n,l){this._handle&&this.end(),this._poll_config=t.merge({interval:3e4},i),this._load_options=n||{},this._callback=l;var s=this._poll_config.interval;return!(!e.isNumber(s)||s<5e3)&&(this._handle=t.later(this._poll_config.interval,this,function(){if(!t.Af.PageViz.isHidden()){var i=this,n={};t.Object.each(i._load_options,function(t,i){n[i]=e.isFunction(t)?t():t}),this._model.load(n,function(t,n){i._callback&&i._callback(t,n),t?i._err_streak++:i._err_streak=0,i._err_streak>3&&(i._err_streak=0,i.pause(3*i._poll_config.interval))})}},null,!0),!0)},end:function(){this._handle&&(this._handle.cancel(),this._handle=null)},resume:function(){this.start(this._poll_config,this._load_options,this._callback)},pause:function(i){this.end(),e.isNumber(i)&&i>0&&t.later(i,this,function(){this.resume()})},update:function(i,e,l){l&&(this._callback=l);var s=n.some(i,function(t,i){return this._poll_config[i]!==t},this);if(s||(s=n.some(e,function(t,i){return this._load_options[i]!==t},this)),s)return this.end(),i=t.merge(this._poll_config,i),e=t.merge(this._load_options,e),this.start(i,e,this._callback)}},t.namespace("Af").Poll=l},"@VERSION@",{requires:["af-pageviz"]});YUI.add("af-rapid",function(t,e){"use strict";var i={rapidInstance:null,moduleQueue:[],addModules:function(t){this.moduleQueue.push(t)}},a=t.Lang,n=t.Af.Utils;function r(e){var r,s="afRapid";n.perfStart(s),(e=e||{}).i13nConfig=e.i13nConfig||{},window.YAHOO=window.YAHOO||{},window.YAHOO.i13n=window.YAHOO.i13n||{},window.YAHOO.i13n=t.merge(window.YAHOO.i13n,e.i13nConfig.ywaMaps);try{t.rapid&&a.isFunction(t.rapid.initRapid)?this.tracker=t.rapid:(r=t.merge(i,{rapidConfig:e.i13nConfig.rapid||{}}),e.i13nConfig.rapidInstance&&(r.instance=e.i13nConfig.rapidInstance),this.tracker=new t.Media.RapidTracking(r),this.tracker.initRapid()),this._initAppletListeners()}catch(c){}t.Af.rapid=this,n.perfStop(s)}r.prototype={initializer:function(){this._initSelectBoxListeners()},getRapidTracker:function(){return this.tracker},_initAppletListeners:function(){a.isFunction(this.after)&&(this.after(["*:viewrender","*:viewupdate","*:appletinit"],function(t){this._addOrRefresh(t.applet.guid)},this),this.after("*:viewdisplay",function(t){null===t.viewdisplay.prevRegion&&t.viewdisplay.newRegion&&this._addOrRefresh(t.applet.guid)},this),this.after("*:appletremove",function(t){this.tracker&&this.tracker.removeModule("applet_"+t.applet.guid)},this))},_autoBeacon:function(t){var e,i=t.ancestor("[data-i13n]",!0);return!i||!(e=this._parseDataAttr(i,"i13n"))||"false"!==e.auto},_addOrRefresh:function(e){if(this.tracker){var i,a,n,r,s,c="applet_"+e,o=t.Af.Bootstrap.getMeta(e),l=o&&o.i13n,p=l&&l.pv;l&&l.pp&&(s={pp:l.pp}),this.tracker.isModuleTracked(c)?this.tracker.refreshModule(c,p,!0,s):(i=t.one("#"+c),this._autoBeacon(i)&&(!(n=l&&l.sec)&&i&&(i&&(a=this._parseDataAttr(i,"i13n")),n=a.sec||i.getData("i13n-sec"),i&&a&&(!0===a.useViewability||"true"===a.useViewability)&&(s?s.useViewability=!0:s={useViewability:!0})),n?((r={})[c]=n,this.tracker.addModules(r,p,s),i.hasAttribute("data-i13n-secvw")&&this.tracker.beaconEvent("secvw",{sec:n},"")):this.tracker.addModules([c],p,s)))}},_parseDataAttr:function(e,i){return e?t.Af.Utils.stringParseKV(e.getData(i)):{}},_getSelectBoxSelectedLinkName:function(t,e){var i=t.get("value"),a=t.all("option").item(t.get("selectedIndex"));return this._parseDataAttr(a,"i13n-ylk")[e]||i},_getSelectBoxName:function(t,e){return this._parseDataAttr(t,"i13n-ylk")[e]||t.get("name")},_initSelectBoxListeners:function(){if(!(t.UA.ie&&t.UA.ie<9)){var e,i=t.one("body"),a="select";i.delegate("mousedown",function(i){if("SELECT"===i.target.get("tagName")&&this._autoBeacon(i.target)){var a={slk:this._getSelectBoxSelectedLinkName(i.target,"slk"),elm:"inpt",elmt:"mu",itc:1,t3:this._getSelectBoxName(i.target,"t3")};t.UA.ie?e=t.later(250,this,function(){e=null,this.triggerBeaconClickEvent(i.target,a)}):this.triggerBeaconClickEvent(i.target,a)}},a,this),i.delegate("keyup",function(t){if(this._autoBeacon(t.target)&&9===t.keyCode){var e={slk:this._getSelectBoxSelectedLinkName(t.target,"slk"),elm:"inpt",elmt:"muk",itc:1,t3:this._getSelectBoxName(t.target,"t3")};this.triggerBeaconClickEvent(t.target,e)}},a,this),i.delegate("change",function(i){if(this._autoBeacon(i.target)){var a={slk:this._getSelectBoxSelectedLinkName(i.target,"slk"),elm:"itm",elmt:"slct",itc:1,t3:this._getSelectBoxName(i.target,"t3")};t.UA.ie?(e&&(e.cancel(),e=null),this.triggerBeaconClickEvent(i.target,a)):this.triggerBeaconClickEvent(i.target,a)}},a,this)}},getSecValue:function(t){var e=t.ancestor("[data-i13n],[data-i13n-sec],[data-applet-type]",!0),i="";return e&&(i=this._parseDataAttr(e,"i13n").sec||e.getData("i13n-sec")||e.getData("applet-type")),i},getSlkValue:function(t){var e=t.getDOMNode(),i="";return e&&(i=(i=e.textContent||e.innerText||"").substring(0,299)),i},parseYLK:function(e){var i=e?this._parseDataAttr(e,"ylk"):{},a=e.ancestor("[data-applet-type][data-ylk]",!0,"[data-applet-type]");return a?t.merge(this._parseDataAttr(a,"ylk"),i):i},triggerBeaconClickEvent:function(e,i,n,r){if(e){var s,c,o,l,p,u,d={};(d=this.parseYLK(e)).sec||(p=this.getSecValue(e))&&(d.sec=p),d.slk||(u=this.getSlkValue(e))&&(d.slk=u),i&&(d=t.merge(d,i)),d.sec?(s=d.sec,delete d.sec,c=d.slk||"",delete d.slk,o=parseInt(d.pos,10),a.isNumber(o)||(o=1),l=e.getData("action-outcome"),this.tracker.beaconClick(s,c,o,d,l,n,r)):n&&n()}else n&&n()}},t.namespace("Af").Rapid=r},"@VERSION@",{requires:["af-bootstrap","af-utils","media-rapid-tracking","node-core"]});YUI.add("af-sync",function(e){"use strict";var r=e.Af.Transport,o=e.Object.owns;function t(){}t._NON_ATTRS_CFG=["resource","readonly","consolidate","syncContext","postForRead","crumbForGET"],t.prototype={resource:"",consolidate:!0,readonly:!1,syncContext:{},postForRead:!1,crumbForGET:!0,initializer:function(e){o(e=e||{},"resource")&&(this.resource=e.resource||"")},sync:function(){var r,o,t,c=this,s=arguments[0];arguments[1]===c?(((r=arguments[2]).error||r.success)&&(t=function(e,o){e?r.error&&r.error(e):r.success&&r.success(o)}),o={},e.Object.each(r,function(e,r){"error"!==r&&"success"!==r&&"parse"!==r&&(o[r]=e)}),c._sync(s,o,t)):c._sync.apply(c,arguments)},_sync:function(t,c,s){var n,a,i,u,d,f={},p=this;if(p.readonly&&"read"!==t)return s("Read-only");switch(c&&(o(c,"resource")||o(c,"params")||o(c,"context")||(c={params:c})),n=c.resource||p.resource,(i=e.Af.Utils.objectMerge({config:{consolidate:!!p.consolidate,post_for_read:p.postForRead,crumbForGET:p.crumbForGET}},p.syncContext,c.context)).config.id_param=u=p.idAttribute||"id",(d=p.get(p.idAttribute||"id"))&&(f[u]=d),f=e.merge(f,c.params),t){case"create":case"update":return a=c.body||p.toJSON(),void r[t](n,f,a,i,s);case"read":case"delete":return void r[t](n,f,i,s);default:s("Invalid action: "+t)}}},e.namespace("Af").Sync=t},"@VERSION@",{requires:["af-transport","af-utils"]});YUI.add("af-trans",function(n,i){"use strict";var e="App-loading",a="fade",t="0px",o="0.15";n.namespace("Af").Trans={loadWithTransition:function(i,e,a,t,o){var s,r=this;i?(o=o||"",(e=e||i.get("model"))?(s=i.get("container")).inDoc()?(r.addTransition(s,o),e.load(a,function(i,e){r.removeTransition(s,o),n.Lang.isFunction(t)&&t(i,e)})):t("view container is not in page"):n.Lang.isFunction(t)&&t("cannot find model")):n.Lang.isFunction(t)&&t("view is not passed")},disappear:function(i,e,s){if(n.Lang.isFunction(s)||(s=n.Af.Utils.noop),e=e||a,i)if(n.UA.ie&&n.UA.ie<9)s();else switch(e){case a:i.transition({opacity:"0",duration:o},function(){try{i.transition({overflow:"hidden",height:t,margin:t,padding:t,border:t,easing:"ease-out",duration:o})}catch(n){}}),n.later(3e3,null,s);break;default:s()}else s("node is not defined")},addTransition:function(n,i){switch(i=i||a){case a:n.addClass("SlowTrans"),setTimeout(function(){n.insertBefore('<i class="'+e+'"></i>',n),n.addClass("Op-33")},10)}},removeTransition:function(n,i){switch(i=i||a){case a:n.previous("."+e).remove(!0),n.removeClass("Op-33"),setTimeout(function(){n.removeClass("SlowTrans")},1e3)}}}},"@VERSION@",{requires:["node-base","transition","af-utils"]});YUI.add("af-transport",function(t,e){"use strict";var o=t.Af,n=o.Config,r=t.TDAPI.RemoteStore,a=t.Lang.isFunction;function c(e){var r=n.get("context"),a={config:n.get("transport"),context:{}};return r&&t.Array.forEach(n.contextKeys(),function(t){Object.prototype.hasOwnProperty.call(r,t)&&(a.context[t]=r[t])}),o.Utils.objectMerge(a,e)}function i(n,r,a,c,i){return function(s,u){var f,d,g;if(s){f="",d={code:s.code||s.statusCode,message:s.message||s.statusText},s.timeout&&(d.timeout=s.timeout),s.timeoutBy&&(d.timeoutBy=s.timeoutBy);try{f=t.JSON.stringify(a)}catch(p){}g={resource:n,operation:r,params:f},c.config&&c.config.beaconMeta&&(g=t.merge(g,c.config.beaconMeta)),o.Beacon.error(e,g,d)}return i&&i(s,u)}}t.namespace("Af").Transport={create:function(t,e,o,n,s){a(n)&&(s=n,n={}),r.create(t,e,o,c(n),i(t,"create",e,n,s))},read:function(t,e,o,n){a(o)&&(n=o,o={}),r.read(t,e,c(o),i(t,"read",e,o,n))},update:function(t,e,o,n,s){a(n)&&(s=n,n={}),r.update(t,e,o,c(n),i(t,"update",e,n,s))},del:function(t,e,o,n){a(o)&&(n=o,o={}),r.del(t,e,c(o),i(t,"delete",e,o,n))}},t.Af.Transport["delete"]=t.Af.Transport.del},"@VERSION@",{requires:["af-beacon","af-config","af-utils","json-stringify","tdapi-remotestore"]});YUI.add("af-utils",function(n){"use strict";var e,r=n.Cookie,t=n.Lang,i=n.Array,o=n.Object,u=t.isObject,a=t.isArray,f=t.isString,c=t.trim,l=/^([\w!.%+\-])+@([\w\-])+(?:\.[\w\-]+)+$/,s=/((ftp|https?):\/\/)?(www\.)?[a-z0-9\-\.]+\.[a-z0-9\/]+$/,d={},p=n.Intl,w=n.config.win,g=" START",m=null;n.namespace("Af").Utils={i18n:function(e){return p.get(e,null,n.config.lang)||{}},urlParseQuery:function(){var e=window.location.search;return e&&e.length>1?n.QueryString.parse(e.substring(1)):{}},urlParseBoolean:function(n){return""!==(n=n?n.toString().toLowerCase():"")&&"null"!==n&&"undefined"!==n&&"0"!==n&&"false"!==n&&"no"!==n},objectGetValue:function(n,e,r){f(e)&&(e=""===(e=c(e))?[]:e.split("."));var t=o.getValue(n,e);return t===undefined?r:t},objectSetValue:function(n,e,r){if(f(e)&&(e=""===(e=c(e))?[]:e.split(".")),!a(e)||0===e.length)return undefined;var i,o=e.length,u=n;for(i=0;i<o;i++)i===o-1?u[e[i]]=r:(t.isUndefined(u[e[i]])&&(u[e[i]]={}),u=u[e[i]]);return n},objectEqual:function(e,r){var t,i;if(e===r)return!0;if(typeof e!=typeof r)return!1;if(u(e))return o.size(e)===o.size(r)&&!o.some(e,function(t,i){return!n.Af.Utils.objectEqual(e[i],r[i])});if(a(e)){if(e.length!==r.length)return!1;for(t=0,i=e.length;t<i;t++)if(!n.Af.Utils.objectEqual(e[t],r[t]))return!1;return!0}return!1},objectMerge:function(){var e,r=Array.prototype.slice.call(arguments),t={};for(e=0;e<r.length;e++)u(r[e])&&!a(r[e])&&n.mix(t,n.clone(r[e]),!0,undefined,0,!0);return t},stringParseKV:function(n,e,r){var t={};return n?(e=e||";",r=r||":",i.each(n.split(e),function(n){if(n.length>0){var e=n.indexOf(r),i=c(n.substring(0,e)),o=c(n.substring(e+1));i&&(t[i]=o)}}),t):t},noop:function(){},use:function(){var r=Array.prototype.slice.call(arguments,0),o=r[r.length-1];t.isFunction(o)?r.pop():o=m,t.isArray(r[0])&&(r=r[0]),d.mods=(d.mods||[]).concat(r),o&&(d.cbs=d.cbs||[],d.cbs.push(o)),e||(e=n.Af.Utils.throttle(function(){var e=i.dedupe(d.mods),r=d.cbs||[];d={},n.use(e,function(n){var e,t;for(e=0,t=r.length;e<t;e++)r[e].call(m,n)})},40,{leading:!1})),e()},userSignedIn:function(){return!(!r.getSub("Y","n")||!r.getSub("Y","l"))},urlValidate:function(n){return s.test(n)},emailValidate:function(n){return l.test(n)},screenTouchable:function(){var n=document.documentElement.className;return Modernizr&&Modernizr.touch||!(n&&n.indexOf("no-touch")>=0)},getObjectInArray:function(n,e,r){if(!n)return m;var t,i,o,u=n;for(i=u.length,t=0;t<i;t+=1)if((o=u[t]).hasOwnProperty(e)&&o[e]===r)return{index:t,data:o};return m},perfStart:function(e,r){w.Af=w.Af||{},w.Af.perf=w.Af.perf||{},w.Af.perf[n.id]=w.Af.perf[n.id]||{},w.Af.perf[n.id][e]={start:t.now()},window&&window.performance&&window.performance.mark&&r&&window.performance.mark(e+g)},perfStop:function(e,r){var i,o=w.Af&&w.Af.perf&&w.Af.perf[n.id]&&w.Af.perf[n.id][e];o&&o.start&&(o.took=t.now()-o.start),window&&window.performance&&window.performance.mark&&window.performance.measure&&r&&(i=e+" STOP",window.performance.mark(i),window.performance.measure(e+" DUR",e+g,i))},throttle:function(n,e,r){var t,i,o,u=m,a=0;function f(){a=!1===r.leading?0:new Date,u=m,o=n.apply(t,i)}return r=r||{},function(){var c,l=new Date;return a||!1!==r.leading||(a=l),t=this,i=arguments,(c=e-(l-a))<=0?(window.clearTimeout(u),u=m,a=l,o=n.apply(t,i)):u||!1===r.trailing||(u=window.setTimeout(f,c)),o}}}},"@VERSION@",{requires:["cookie","intl","oop","querystring-parse-simple"]});YUI.add("ape-af-templates-message",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(e){function t(e,t){return e.w('<div role="alertdialog" tabindex="0" class="').f(t.get(["stencilLevel"],!1),t,"h").w(" ").f(t.get(["stencilType"],!1),t,"h").w('Alert js-msg" aria-labelledby="desc-').f(t.get(["guid"],!1),t,"h").w('">\n\t').x(t.get(["glyphHook"],!1),t,{"else":s,block:n},{}).w('\n<p id="desc-').f(t.get(["guid"],!1),t,"h").w('" class="Bfc Reset Mt-2">').f(t.get(["content"],!1),t,"h",["s"]).w("</p>\n</div>\n")}function s(e,t){return e.w('\n<span class="Alert').f(t.get(["stencilLevel"],!1),t,"h").w('Icon Icon Fl-start Mend-10"> ').f(t.get(["stencilIcon"],!1),t,"h",["s"]).w('<b class="Hidden">').f(t.get(["stencilLevel"],!1),t,"h").w('</b></span>\n\t    <button class="AlertCloseBtn Icon Fl-end Mstart-10 ButtonNaked js-msg-close">&#xe009;<b class="Hidden">Close</b></button>\n    ')}function n(e,t){return e.w('\n<span class="').f(t.get(["glyphHook"],!1),t,"h").w(' AlertIcon Fl-start Mend-10"><b class="Hidden">').f(t.get(["stencilLevel"],!1),t,"h").w('</b></span>\n\t    <button class="').f(t.get(["glyphHook"],!1),t,"h").w(' AlertCloseBtn Fl-end Mstart-10 ButtonNaked js-msg-close"><b class="Hidden">Close</b></button>\n    ')}return dust.register("ape-af-templates-message",t),t.__dustBody=!0,s.__dustBody=!0,n.__dustBody=!0,t}(),dust.cache["ape-af:message.dust"]=dust.cache["ape-af:message"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["ape-af/templates/message"]=function(e,s){e=e||{},dust.render(t,e,s)}},"@VERSION@",{requires:["template-base","dust"]});YUI.add("gallery-storage-lite",function(e,t){"use strict";var r,n,a=e.config.doc,o=e.config.win,i=e.JSON,l=e.namespace("StorageLite"),c="yui_storage_lite",u="ready",s="yui_storage_lite",m="data",g={};try{n=o.localStorage?1:o.globalStorage?2:o.openDatabase&&-1===navigator.userAgent.indexOf("Chrome")?3:e.UA.ie>=5?4:0}catch(f){n=0}e.StorageFullError=function(t){e.StorageFullError.superclass.constructor.call(t),this.name="StorageFullError",this.message=t||"Maximum storage capacity reached",e.UA.ie&&(this.description=this.message)},e.extend(e.StorageFullError,Error),e.augment(l,e.EventTarget,!0,null,{emitFacade:!0,prefix:"storage-lite",preventable:!1}),l.publish(u,{fireOnce:!0}),e.mix(l,{clear:function(){},getItem:function(e,t){return null},length:function(){return 0},removeItem:function(e){},setItem:function(e,t){}}),1===n||2===n?(e.mix(l,{length:function(){return r.length},removeItem:function(e){r.removeItem(e)},setItem:function(e,t,n){r.setItem(e,n?i.stringify(t):t)}},!0),1===n?(r=o.localStorage,e.Node.DOM_EVENTS.pageshow=1,e.on("pageshow",function(){r=o.localStorage}),e.mix(l,{clear:function(){r.clear()},getItem:function(e,t){try{return t?i.parse(r.getItem(e)):r.getItem(e)}catch(f){return null}}},!0)):2===n&&(r=o.globalStorage[o.location.hostname],e.mix(l,{clear:function(){var e;for(e in r)r.hasOwnProperty(e)&&(r.removeItem(e),delete r[e])},getItem:function(e,t){try{return t?i.parse(r[e].value):r[e].value}catch(f){return null}}},!0)),l.fire(u)):3===n||4===n?(e.mix(l,{clear:function(){g={},l._save()},getItem:function(e,t){return g.hasOwnProperty(e)?g[e]:null},length:function(){var e,t=0;for(e in g)g.hasOwnProperty(e)&&(t+=1);return t},removeItem:function(e){delete g[e],l._save()},setItem:function(e,t,r){g[e]=t,l._save()}},!0),3===n?(r=o.openDatabase(c,"1.0","YUI StorageLite data",1048576),e.mix(l,{_save:function(){r.transaction(function(e){e.executeSql("REPLACE INTO "+c+" (name, value) VALUES ('data', ?)",[i.stringify(g)])})}},!0),r.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS "+c+"(name TEXT PRIMARY KEY, value TEXT NOT NULL)"),e.executeSql("SELECT value FROM "+c+" WHERE name = 'data'",[],function(e,t){if(t.rows.length)try{g=i.parse(t.rows.item(0).value)}catch(f){g={}}l.fire(u)})})):4===n&&((r=a.createElement("span")).addBehavior("#default#userData"),e.mix(l,{_save:function(){var t=i.stringify(g);a.body.appendChild(r);try{r.setAttribute(m,t),r.save(s)}catch(f){throw new e.StorageFullError}finally{a.body.removeChild(r)}}},!0),e.on("domready",function(){a.body.appendChild(r),r.load(s);try{g=i.parse(r.getAttribute(m)||"{}")}catch(f){g={}}finally{a.body.removeChild(r)}l.fire(u)}))):l.fire(u)},"@VERSION@",{requires:["event-base","event-custom","event-custom-complex","json","node-base"]});YUI.add("media-rapid-tracking",function(e){"use strict";var n,i="rapid-tracker:",t=i+"click",o=i+"event",a=i+"reinit",u=i+"destroy-instance",c=null;function r(e){r.superclass.constructor.apply(this,arguments)}r.NAME="RapidTracking",r.ATTRS={},e.extend(r,e.Base,{config:null,refererSpaceid:null,currentSpaceid:null,rapidConfig:null,_globalEvents:{},moduleQueue:null,beaconQueue:[],initializer:function(e){var n=this;c=c||e.instance||null,n.moduleQueue=n.moduleQueue||e.moduleQueue||[],n.config=n.config||e.config||{},n.rapidConfig=n.rapidConfig||e.rapidConfig||{},n._initEventListeners(),n._initPublish(),c&&n._processQueue()},initRapid:function(){this._initRapid(),this._processQueue()},_initRapid:function(e){var n=this;c&&!e||(c&&c.destroy(),n.updateRequestAttributes(),n.rapidConfig.tracked_mods=n._getTrackedMods(),"undefined"!=typeof YAHOO.i13n.Rapid&&(c=new YAHOO.i13n.Rapid(n.rapidConfig),n.currentSpaceid=n.rapidConfig.spaceid,window.rapidInstance=c,YAHOO&&YAHOO.i13n&&(YAHOO.i13n.currentSID=n.getCurrentSID())))},getCurrentSID:function(e){return c&&c.getCurrentSID?c.getCurrentSID():null},getRefererSpaceid:function(){return this.refererSpaceid||null},_getTrackedMods:function(){var n=this,i=n.rapidConfig&&n.rapidConfig.tracked_mods||[];return e.Lang.isArray(i)&&(i=n._getModulesArrayFromQueue(!0).concat(i),i=e.Array.dedupe(i)),i},_initPublish:function(){e.publish("rapid:init",{fireOnce:!0}).fire()},_initEventListeners:function(){var n=this;n._globalEvents[t]||(e.Global.on(t,n._handleBeaconing,n,"click"),n._globalEvents[t]=!0),n._globalEvents[o]||(e.Global.on(o,n._handleBeaconing,n,"event"),n._globalEvents[o]=!0),n._globalEvents[a]||(e.Global.on(a,n._handleReInit,n),n._globalEvents[a]=!0),n._globalEvents[u]||(e.Global.on(u,n._handleDestroyInstance,n),n._globalEvents[u]=!0)},updateRequestAttributes:function(){var e=this;window.YMEDIA_REQ_ATTR&&"object"==typeof YMEDIA_REQ_ATTR.instr&&(e.rapidConfig.keys=e.rapidConfig.keys||{},e.rapidConfig.keys.authfb=YMEDIA_REQ_ATTR.instr.authfb,e.rapidConfig.keys.rid=YMEDIA_REQ_ATTR.instr.request_id)},addModules:function(e,n,i){c?c.addModules(e,n,i):this._addModulesQueue(e)},refreshModule:function(e,n,i,t){c&&c.refreshModule(e,n,i,t)},refreshModuleAsRichView:function(n,i){c&&(e.Lang.isFunction(c.refreshModuleAsRichView)?c.refreshModuleAsRichView(n,i):this.refreshModule(n))},removeModule:function(e){c&&c.removeModule(e)},isModuleTracked:function(e){if(c)return c.isModuleTracked(e)},setRapidAttribute:function(e){c&&"function"==typeof c.setRapidAttribute&&c.setRapidAttribute(e)},clearRapidAttribute:function(e){c&&"function"==typeof c.clearRapidAttribute&&c.clearRapidAttribute(e)},beaconPageview:function(e){c&&c.beaconPageview(e)},beaconClick:function(e,n,i,t,o,a,u){var r={};r.sec=e||"",r.linkname=n||"",r.pos=i&&"number"==typeof i?i:0,r.keys="object"==typeof t?t:{},r.outcome=o||"",r.callback="function"==typeof a?a:null,r.sec?c?r.outcome?c.beaconClick(r.sec,r.linkname,r.pos,r.keys,r.outcome,r.callback,u):c.beaconClick(r.sec,r.linkname,r.pos,r.keys,null,r.callback,u):this._addBeaconQueue(r,"click"):r.callback&&r.callback()},beaconLinkViews:function(e,n,i){c&&c.beaconLinkViews&&c.beaconLinkViews(e,n,i)},beaconPerformanceData:function(e,n){c&&c.beaconPerformanceData&&c.beaconPerformanceData(e,n)},beaconEvent:function(e){arguments.length>1&&(e={name:arguments[0],keys:arguments[1]},arguments.length>2&&arguments[2]&&(e.outcome=arguments[2]),arguments.length>3&&arguments[3]&&(e.callback="function"==typeof arguments[3]?arguments[3]:null)),c?e.name&&e.keys?(e.keys="object"==typeof e.keys?e.keys:{},e.outcome?c.beaconEvent(e.name,e.keys,e.outcome,e.callback):c.beaconEvent(e.name,e.keys,null,e.callback)):e.callback&&e.callback():this._addBeaconQueue(e,"event")},updateConfig:function(e){if(c){this.refererSpaceid=this.currentSpaceid||null,this.currentSpaceid=e.spaceid||null,c.reInit(e)}},addModuleAPV:function(e){if(c&&c.addModuleAPV)return c.addModuleAPV(e)},beaconAPV:function(e,n){c&&c.beaconAPV&&c.beaconAPV(e,n)},_addModulesQueue:function(e){e&&this.moduleQueue.push(e)},_addBeaconQueue:function(e,n){this.beaconQueue.push({data:e,type:n})},_processQueue:function(){var n,i,t,o,a=this,u=a.beaconQueue.length;if(c){for((t=a._getModulesArrayFromQueue(!0)).length>0&&a.addModules(t),n=a.moduleQueue.length,o=0;o<n;o++)"object"==typeof a.moduleQueue[o]&&(i=e.merge(i,a.moduleQueue[o]));for(i&&a.addModules(i),o=0;o<u;o++)a._handleBeaconing(a.beaconQueue[o].data,a.beaconQueue[o].type);a.moduleQueue=[],a.beaconQueue=[]}},_getModulesArrayFromQueue:function(n){var i,t=this,o=t.moduleQueue.length,a=[],u=[];for(i=0;i<o;i++)e.Lang.isArray(t.moduleQueue[i])?a=a.concat(t.moduleQueue[i]):"object"==typeof t.moduleQueue[i]&&n?u.push(t.moduleQueue[i]):a.push(t.moduleQueue[i]);return a.length>0&&n&&(t.moduleQueue=u),a},_handleBeaconing:function(e,n){var i=e&&"object"==typeof e.data?e.data:null,t=e.mod_id?e.mod_id:"";c?i&&(i.keys=this._addMpos(i.keys,t),"click"===n?this.beaconClick(i.sec,i.linkname,i.pos,i.keys,i.outcome,i.callback):this.beaconEvent(i)):this._addBeaconQueue(e,n)},_handleDestroyInstance:function(){c&&(this.rapidConfig={},c.destroy(),c=null)},_handleReInit:function(e){this.rapidConfig=e,this._initRapid(!0)},_addMpos:function(i,t){var o,a,u=this.config.selectors;return t&&i&&!i.mpos?(o=(n=n||u&&e.one(u.bd))&&n.all(u.mods),a=t&&o?o.indexOf(e.one("#"+t))+1:0,"object"==typeof i?i.mpos=a:i={mpos:a},i):i}}),e.namespace("Media").RapidTracking=r},"@VERSION@",{requires:["event-custom","base","node"]});YUI.add("tdapi-remotestore",function(t,e){"use strict";var n,o=["resource","operation","params","body"],c="/_td_api",r="read",i=t.Object,a=t.Array,u=t.Lang,s=t.Mjata,f=s.REST.HTTP,l=t.Af.Utils;function g(e){if(e&&e.responseText)try{return t.JSON.parse(e.responseText)}catch(n){return null}return null}function p(e){return u.isArray(e)||u.isObject(e)?t.JSON.stringify(e):e}function h(t,e){var n=[],o=t;return i.each(e.context,function(t,e){n.push(e+"="+encodeURIComponent(t))}),n.length>0&&(o+="?"+n.sort().join("&")),o}n={_constructGetUri:function(t,e,n,o){var c,r=[],a=[],u=o.config.id_param,s=t+"/resource/"+e;return i.each(n,function(t,e){if(e===u)c=encodeURIComponent(t);else try{a.push(e+"="+encodeURIComponent(p(t)))}catch(n){}}),i.each(o.context,function(t,e){("crumb"!==e||o.config.crumbForGET)&&r.push(e+"="+encodeURIComponent(p(t)))}),o.config.enableEdgePipeFallback&&(r.push("enable_edgepipe_fallback=1"),r.push("_enable_edgepipe=1")),c&&(s+="/"+u+"/"+c),a.length>0&&(s+=";"+a.sort().join(";")),r.length>0&&(s+="?"+r.sort().join("&")),s},batch:function(t){if(!u.isArray(t)||t.length<=1)return t;var e,n={};return a.each(t,function(t){var e,o,c;t.context&&t.context.config&&(e=t.context.config.uri||t.context.config.xhr||"",o=t.context.config.batch),c="uri:"+e,o&&(c+=";batch:"+o),n[c]||(n[c]=[]),n[c].push(t)}),(e=i.values(n)).length,t.length,e},single:function(e){if(e){var n,i,a,u,s,p=e.context,x=e.callback||l.noop,m=p.config&&(p.config.uri||p.config.xhr)||c;if(!(r===e.operation||p.context&&p.context.crumb))return x({statusCode:400,statusText:"missing crumb"});(n=e.operation!==r||p.config.post_for_read)||((a=this._constructGetUri(m,e.resource,e.params,p)).length<=2048?m=a:n=!0),n?((u={}).g0=t.mix({},e,!0,o),e.body||delete u.g0.body,s={requests:u,context:p.context},m=h(m,p),i=e.operation===r,f.post(m,{},s,t.merge({unsafeAllowRetry:i},p.config),function(t,e){if(t)return x(t);var n=g(e);n=n&&n.g0||{},x(n.err,n.data)})):f.get(m,{},p.config,function(t,e){if(t)return x(t);x(null,g(e))})}},multi:function(e){var n,u,s,l=0,p=!0,x={};a.some(e,function(t){return!!(t.context&&t.context.context&&t.context.context.crumb)&&(s=t.context,!0)},this),s&&s.context.crumb?(n=s.config&&(s.config.uri||s.config.xhr)||c,u={requests:{},context:s.context},a.each(e,function(e){var n="g"+l++;u.requests[n]=t.mix({},e,!0,o),x[n]=e,e.operation!==r&&(p=!1)}),n=h(n,s),f.post(n,{},u,t.merge({unsafeAllowRetry:p},s.config),function(t,n){if(t)a.each(e,function(e){e.callback(t)});else{var o=g(n);i.each(x,function(t,e){var n=o&&o[e]||{};t.callback&&t.callback(n.err||null,n.data||null)})}})):a.each(e,function(t){t.callback({statusCode:400,statusText:"missing crumb"})})}},t.namespace("TDAPI").RemoteStore=s.createStore("Store.TDAPI",{},n)},"@VERSION@",{requires:["mjata-store","mjata-rest-http","json"]});YUI.add("af-applet-action",function(e){"use strict";var t=".js-applet-action";function a(){}a.prototype={name:"applet.action",execute:function(e,t,a){"page.init"===t.action&&this.attachListeners(e),a()},attachListeners:function(a){var i=e.one("body"),n="a"+t+", button"+t,o="select"+t;function p(i){i.preventDefault();var n,o,p,c=i.target.ancestor(t,!0);c&&(n=c.getData("applet-action"))&&((o={action:n,params:e.Af.Utils.stringParseKV(c.getData("applet-actioncfg"))||{}}).params.guid||(p=c.ancestor(".js-applet"))&&(o.params.guid=e.Af.AppletDom.getGuid(p)),a.execControllers(o))}i.delegate("click",p,n,this),e.UA.ie&&e.UA.ie<9?i.delegate(["click","keydown","keyup"],function(e){if(!(e.keyCode&&e.keyCode>=16&&e.keyCode<=20)){var t,a=e.target,i="keyup"===e.type&&9===e.keyCode,n="keydown"===e.type&&9===e.keyCode,o="previous";(i||"click"===e.type||"keydown"===e.type)&&(a.hasAttribute(o)||a.setAttribute(o,a.get("value"))),(n||"click"===e.type||"keyup"===e.type)&&a.getAttribute(o)!==(t=a.get("value"))&&(a.setAttribute(o,t),p(e))}},o,this):i.delegate("change",p,o,this)}},e.namespace("Af").AppletAction=a},"@VERSION@",{requires:["af-applet-dom","af-utils","node-event-delegate","node-base"]});YUI.add("af-applet-dom",function(e,t){"use strict";var n={applet:"js-applet",container:"js-applet-container",container_content:"js-applet-container-content",view_container_prefix:"js-applet-view-container-"},i={applet:"."+n.applet,container:"."+n.container,container_content:"."+n.container_content,view_container_prefix:"div."+n.view_container_prefix};e.namespace("Af").AppletDom={selectors:function(){return i},classes:function(){return n},all:function(t,n){(t=e.one(t))&&t.all(i.applet).each(function(e){n(e)})},getGuid:function(e){return e.getData("applet-guid")},getType:function(t){return e.Lang.isString(t)&&(t=this.getNode(t)),t?t.getData("applet-type"):null},getNode:function(t){return e.one('[data-applet-guid="'+t+'"]')},getLocation:function(t){var n,a,o,r=this.getNode(t);return r?(a=(n=r.ancestor(i.container,!0))?n.getData("applet-container-guid"):"page",n||(n=e),(o=n.all(i.applet).indexOf(r))<0?{}:{container:a,index:o}):{}},getContainerGuid:function(e){return e.getData("applet-container-guid")},getContainerNode:function(t){return e.one('[data-applet-container-guid="'+t+'"]')},getContainerContentNode:function(e){return e.one(i.container_content)||e},getViewContainerNode:function(e,t){return this.getNode(e).one(i.view_container_prefix+t)},getLayout:function(){var t={};return e.all(i.container).each(function(e){var n=this.getContainerGuid(e);t[n]=[],e.all(i.applet).each(function(e){var i=this.getGuid(e);i&&t[n].push(i)},this)},this),t},remove:function(t,n){var i=this.getNode(t);if(!i)return n&&n("non-exist applet node: "+t);e.Af.Trans.disappear(i,"fade",function(){return i.purge(!0).remove(),n&&n()})},move:function(e,t,n){var i,a,o,r=this.getNode(e),p=this.getContainerNode(n.container),c=this.getContainerContentNode(p);return!!r&&(!(!p||!c)&&(o=this.selectors(),(i=p.all(o.applet)).size(),"undefined"==typeof n.index?c.append(r):0===n.index?c.prepend(r):(a=i.item(n.index))?a.insert(r,"before"):c.append(r),!0))},getGuidAt:function(e,t){var n,a=this.getContainerNode(e);return a&&(n=a.all(i.applet).item(t))?this.getGuid(n):null}}},"@VERSION@",{requires:["node-core","af-trans"]});YUI.add("af-applet-editview",function(e){"use strict";e.namespace("Af").AppletEditView=e.Base.create("AfAppletEditView",e.Af.AppletView,[],{autoRender:!1,isEditView:!0})},"@VERSION@",{requires:["af-applet-view","ape-applet-templates-moreinfo","ape-applet-templates-remove"]});YUI.add("af-applet-headerview",function(e){"use strict";e.namespace("Af").AppletHeaderView=e.Base.create("AfAppletHeaderView",e.Af.AppletView,[],{autoRender:!1})},"@VERSION@",{requires:["af-applet-view","stencil-selectbox"]});YUI.add("af-applet-init",function(e,t){"use strict";var i=e.Af,a=i.AppletDom,n=i.Utils,p=i.Config,o=e.Lang,s=i.Bootstrap,r=e.Object,l=e.DOM,c=i.Beacon,f="appletinit",d="data-applet-init",u="appletsinit",h="viewport",g="js-appletiniting",w=n.perfStart,v=n.perfStop,y=p.isDev();function A(){this._defInit=p.getContext("default_appletinit")||h}A.prototype={name:"applet.init",execute:function(e,t,i){switch(t.action){case"page.init":this.initApplets(e),e.after("*:initapplet",function(t){var i=t.initapplet;this.initApplet(e,i)},this);break;case"applet.init":this.initApplet(e,t.params)}t.callback&&t.callback(),i()},initApplets:function(t){var i,a,p=this,o=[],c=n.screenTouchable()?"touchstart":"mouseenter";a=this._scan(t),o=(o=(o=o.concat(r.keys(a.now))).concat(r.keys(a.lazy))).concat(r.keys(a.viewport)),s.load(o,{},function(){r.each(a.now,function(i){e.later(5,p,function(){this.initApplet(t,{node:i})})})}),r.each(a.lazy,function(e){e.once(c,function(){this.initApplet(t,{node:e})},this)},this),r.size(a.viewport)&&(r.each(a.viewport,function(e,i){e.once(c,function(){delete a.viewport[i],this.initApplet(t,{node:e})},this)},this),i=e.one(window).after("scroll",n.throttle(function(){var n=l.viewportRegion();r.each(a.viewport,function(i,p){l.inRegion(i.getDOMNode(),n,!1)&&(delete a.viewport[p],e.later(5,this,function(){this.initApplet(t,{node:i})}))},p),i&&0===r.size(a.viewport)&&i.detach()},200))),e.publish(u,{fireOnce:!0,async:!0}),e.fire(u,{applets:t})},_scan:function(t){var i,n=this,p="aptsScanDOM",s={deferred:{},now:{},viewport:{},lazy:{}};return w(p),a.all(e.one("body"),function(e){var p=e.getData(),r=p["applet-defer"],c=p["applet-init"],f=a.getGuid(e);if(!o.isValue(r))switch(c=c||n._defInit){case"critical":n.initApplet(t,{node:e});break;case"now":s.now[f]=e;break;case"lazy":s.lazy[f]=e;break;case h:i=i||l.viewportRegion(),l.inRegion(e.getDOMNode(),i,!1)?s.now[f]=e:s.viewport[f]=e}}),v(p),s},initApplet:function(e,n){!(n=n||{}).node&&n.guid&&(n.node=a.getNode(n.guid));var p,o,s,r,l=n.node;if(!l||!l._node||l.hasClass(g))return null;if(p=a.getGuid(l),o=a.getType(l),e.applets[p]){if(!n.replace)return e.applets[p];try{e.applets[p].destroy()}catch(u){if(y)throw u;c.error(t,{},{code:"appdestroy",message:u.stack||u.message,appletType:o})}delete e.applets[p]}if(l.addClass(g),w(s=o+"_aptNew",!0),r={guid:p,type:o,container:"#"+l.get("id")},y)return e.applets[p]=new i.Applet(r),e.applets[p].addTarget(e),v(s,!0),e.fire(f,{applet:{guid:p,type:o}}),l.removeClass(g),l.removeAttribute(d),e.applets[p];try{return e.applets[p]=new i.Applet(r),e.applets[p].addTarget(e),v(s,!0),e.fire(f,{applet:{guid:p,type:o}}),l.removeAttribute(d),e.applets[p]}catch(h){return c.error(t,{},{code:"appinit",message:h.stack||h.message,appletType:o}),null}finally{l.removeClass(g)}}},e.namespace("Af").AppletInit=A},"@VERSION@",{requires:["af-applet","af-beacon","af-bootstrap","af-config","af-utils","event-touch","oop"]});YUI.add("af-applet-load",function(e){"use strict";var t=e.Af.AppletDom,a=e.Af.Utils,p=a.stringParseKV,l="applet-defer";function o(){}o.prototype={name:"applet.load",execute:function(a,o,n){if("applet.load"===o.action||"loadapplet"===o.action){var i=o.params.guid?t.getNode(o.params.guid):o.params.node;this.loadApplet(a,i,p(i.getData(l)),o.callback)}else"page.init"===o.action&&t.all(e.one("body"),e.bind(function(e){var t=e.getData(l);t&&"custom"!==(t=p(t)).when&&this.loadApplet(a,e,t,o.callback)},this));n()},replaceAppletContent:function(t,a){if(t&&a&&a.html){var p,l=e.Node.create(a.html);l=l.one("div.js-applet")||l,e.Af.Dom.setHTML(t,l.getHTML()),(p=a.js||a.assets)&&e.Af.Dom.jsAttach(p)}},loadApplet:function(o,n,i,r){if(!n)return r&&r("invalid node");var c=this,s=t.getGuid(n),d=t.getType(n),m=p(n.getData("applet-params")),u=e.merge({guid:s,type:d,content_id:"chrome"},m),f={id_param:"guid"};i&&(i.batch&&(f.batch=i.batch),i.timeout&&(f.timeout=i.timeout)),e.Af.Transport.read("applet.content",u,{config:f},function(t,p){return t||!a.objectGetValue(p,"content.chrome.html")?(e.Af.Message.show(n,{level:"error",token:"ERR_LOAD",template:"ape-applet-templates-reload"}),r&&r(t)):(n.removeAttribute("data-"+l),c.replaceAppletContent(n,p.content.chrome),o.execControllers({action:"applet.init",params:{node:n,replace:!0}}),e.use("stencil",function(e){e.Stencil.initAll(n)}),o.fire("appletdeferload",{applet:{guid:s,type:d}}),r&&r(null))})}},e.namespace("Af").AppletLoad=o},"@VERSION@",{requires:["af-applet-dom","af-message","af-transport","ape-applet-templates-reload"]});YUI.add("af-applet-mgr",function(e,t){"use strict";var o=e.Af.AppletDom,a=e.Af.Beacon,p=e.Af.Transport,n=e.Af.Utils,i=e.Lang.isFunction;function r(){}function l(){}function c(){}function m(){}r.prototype={name:"applet.add",execute:function(e,t,o){if("applet.add"!==t.action)return o();this.addApplet(e,t.params.type,t.params.config,t.params.settings,t.params.location,t.callback),o()},addApplet:function(t,a,i,r,l,c){c=c||n.noop,a?((l=l||{}).container=l.container||o.getContainerGuid(e.one(o.selectors().container)),l.index=l.index||0,p.create("applet",{type:a},{config:i,settings:r,location:l},function(a,p){if(!a&&n.objectGetValue(p,"content.chrome.html")){var i,r,m=o.getContainerNode(l.container),s=p.content.chrome;i=e.Node.create(s.html),(m=o.getContainerContentNode(m)).insert(i,l.index),s.assets&&e.Af.Dom.jsAttach(s.assets),t.execControllers({action:"applet.init",params:{node:i,replace:!1}}),e.use("stencil",function(e){e.Stencil.initAll(i)}),r=o.getGuid(i),t.fire("appletadd",{applet:{guid:r,type:o.getType(i)}}),c(null,null)}else c(a||"no content")})):c("missing type")}},l.prototype={name:"applet.move",execute:function(e,t,o){"applet.move"===t.action&&this.moveApplet(e,t.params.guid,t.params.from,t.params.to,t.params,t.callback),o()},moveApplet:function(e,t,a,r,l,c){i(l)&&(c=l,l={}),c=c||n.noop;var m,s=!0===(l&&l.moveBeforePersist),f=!1!==(l&&l.save),u=this;if((a=a||o.getLocation(t))&&r){if(m=o.getType(t),!f)return u._updateDom(e,t,a,r),void c();s&&u._updateDom(e,t,a,r),p.update("applet.layout",{guid:t,type:m},{from:a,to:r},function(o){o?c(o):(s||u._updateDom(e,t,a,r),c())})}else c("invalid from/to location")},_updateDom:function(e,p,n,i){var r=e.applets[p];if(o.getContainerNode(i.container))o.move(p,n,i);else if(o.remove(p),r){try{r.destroy({remove:!0})}catch(l){a.error(t+":destroy",{applet:r.get("type")},l)}delete e.applets[p]}e.fire("appletmove",{applet:{guid:p,type:r?r.get("type"):null,from:n,to:i}})}},c.prototype={name:"applet.remote",execute:function(t,o,a){var p=e.Af.Content;"applet.remote"===o.action?p.remoteApplet(t,o.params,o.callback):"page.init"===o.action&&t.after("*:remoteapplet",function(e){var o=e.remoteapplet;p.remoteApplet(t,o,o&&o.callback)}),a()}},m.prototype={name:"applet.remove",execute:function(e,t,o){"applet.remove"===t.action||"removeapplet"===t.action?this.removeApplet(e,t.params.guid,t.params,t.callback):"page.init"===t.action&&e.after("*:removeapplet",function(t){this.removeApplet(e,t.removeapplet.guid||t.applet.guid,t.removeapplet)},this),o()},removeApplet:function(e,r,l,c){if(i(l)&&(c=l,l={}),c=c||n.noop,r){var m=o.getType(r)||null,s=!0===(l&&l.removeBeforePersist);if(!(!1!==(l&&l.save)))return f(),void c();s&&f(),p.update("applet.layout",{guid:r,type:m},{from:o.getLocation(r),to:null},function(e){e?c(e):(s||f(),c())})}else c("missing guid");function f(){o.remove(r,function(){e.fire("appletremove",{applet:{guid:r,type:m}})});var p=e.applets[r];if(p){try{p.destroy({remove:!0})}catch(n){a.error(t+":destroy",{applet:m},n)}delete e.applets[r]}}}},e.namespace("Af").AppletAdd=r,e.Af.AppletMove=l,e.Af.AppletRemote=c,e.Af.AppletRemove=m},"@VERSION@",{requires:["af-applet-dom","af-beacon","af-content","af-transport","af-utils"]});YUI.add("af-applet-model",function(t){"use strict";var e=t.Af.Bootstrap,s=t.Af.Config,n=t.Af.Utils,i=t.Lang,a="context",o="data",r="guid",c="settings",g=["crumb","locdrop_crumb","lang","region"],l=n.perfStart,u=n.perfStop,p=s.get(a),d=s.get("transport");t.namespace("Af").AppletModel=t.Base.create("AfAppletModel",t.Model,[t.Mjata.JSON,t.Af.Sync],{idAttribute:r,settingsOpts:{critical:!1},settingsResource:"applet.settings",initializer:function(){var s,c=e.getMeta(this.get(r))||{},f={},h={silent:!0},m=this.get("type"),y={},x=t.merge(p,c.context),A=this;this.set(a,x,{silent:!0}),this.syncContext={config:t.merge(d,c.transport,{beaconMeta:{_appletType:m||""}}),context:{_appletType:m||""}},t.Array.forEach(g,function(t){x[t]&&(A.syncContext.context[t]=x[t])}),c.applet_type&&(y.applet_type=c.applet_type),c.i13n&&(y.i13n=c.i13n),c.i18n=t.merge(n.i18n("ape-applet/strings"),c.i18n),y.i18n=c.i18n,y.intl={locales:x.lang,messages:c.i18n},c.models&&(f=c.models.applet_model||{}),t.each(["config","data","state"],function(t){f[t]&&(y[t]=f[t])}),(f.settings||f.user_settings)&&(y.settings=f.settings||f.user_settings),this.setAttrs(y,h),f.models&&(l(s=m+":aptCreateDataModels"),t.Array.each(f.models,function(t){var s=e.createModel(this.get(r),t),n=this.get(o);s&&n&&(i.isObject(n[t])&&s.setAttrs(n[t],h),this.addDataModel(t,s))},this),u(s)),this.settingsResource="settings."+(y.applet_type||m)},addDataModel:function(e,s){s&&(this.get(o)[e]=s,(s._isYUIModel||s._isYUIModelList)&&(s.syncContext=this.syncContext,s.after(["*:change","reset","add","remove"],function(e){var s=t.merge(this.get(o));this.set(o,s,{submodel_evt:e})},this)))},getDataModel:function(t){return this.get(o)[t]},loadDataModel:function(e,s,n){var i,a=this;s=t.merge({resource:e},s),i={context:t.merge(a.syncContext.context,s.context&&s.context.context),config:t.merge(a.syncContext.config,s.context&&s.context.config)},t.Af.Transport.read(s.resource,s.params,i,function(t,s){return!t&&s&&a.set(o+"."+e,s),n&&n(t,s)})},setConfig:function(t,e){this.set("config."+t,e)},getSettings:function(){return this.get(c)},saveSettings:function(e,s,i){var a,o,g=this.get(c),l=this;if(t.Lang.isFunction(s)&&(i=s,s=null),i=i||n.noop,e=t.merge(g,e),(s=t.merge(this.settingsOpts,s)).critical===undefined&&(s.critical=this.settingsOpts.critical),n.objectEqual(g,e))i(null,e);else{if(a={resource:this.settingsResource,params:{guid:this.get(r)},body:e},o=n.userSignedIn(),!s.critical)return this.set(c,e),i(null,e),void(o&&this.save(a));o?this.save(a,function(t){t?i("ERR_SAVE_SETTINGS"):(l.set(c,e),i(null,e))}):i("ERR_AUTH")}}},{ATTRS:{guid:{},type:{},config:{value:{}},settings:{},user_settings:{getter:function(){return this.get(c)}},context:{value:{}},state:{value:{}},data:{value:{}}}})},"@VERSION@",{langBundles:["strings"],requires:["af-bootstrap","af-config","af-sync","base-build","mjata-json","model"]});YUI.add("af-applet-savesettings",function(e){"use strict";var t="container";function s(){}s.prototype={name:"applet.savesettings",execute:function(e,t,s){"applet.savesettings"!==t.action&&"savesettings"!==t.action||this.saveSettings(e,t.params.guid,t.params),s()},saveSettings:function(s,a,i){if(s.applets&&s.applets[a]){i=i||{};var n,o,r=s.applets[a];(n=i.src?r.get(t).one(i.src):(o=r.getView("settings"))&&o.get("container").one("form"))&&r.get("model").saveSettings(e.Af.Dom.parseForm(n),{critical:i.critical},function(n){if(n&&"invalid_settings"===n.code)e.Af.Message.show(r.get(t),{level:"error",content:n.message});else{if(i.showview){var o=r.getView(i.showview);o||(o=r.createView(i.showview))&&o.render(),o&&s.execControllers({action:"showview",params:{guid:a,view:i.showview}})}n&&e.Af.Message.show(r.get(t),{level:"error",token:n})}})}}},e.namespace("Af").AppletSaveSettings=s},"@VERSION@",{requires:["af-dom","af-message"]});YUI.add("af-applet-settingsview",function(t,e){"use strict";t.namespace("Af").AppletSettingsView=t.Base.create("AfAppletSettingsView",t.Af.AppletView,[],{isEditView:!0,useWrap:!0,initializer:function(e){t.each(["useWrap"],function(i){t.Object.owns(e,i)&&(this[i]=e[i])},this)},refresh:function(){},_render:function(){var e,i=this.getTemplate();return i?(e=this.get("model").toJSON(),dust.render(i,e,t.bind(function(i,s){if(!i){if(!this.useWrap)return this.setHTML(s),this.isDirty=!1,void this.fireEvent("viewrender");var n={guid:e.guid,config:e.config,html:s,i18n:e.i18n};dust.render(this.tmplPrefix+"settingswrap",n,t.bind(function(t,e){t||(this.setHTML(e),this.isDirty=!1,this.fireEvent("viewrender"))},this))}},this)),this):this}})},"@VERSION@",{requires:["af-applet-view","ape-applet-templates-settingswrap"]});YUI.add("af-applet-view",function(e,t){"use strict";var i=e.Af.Utils.perfStart,n=e.Af.Utils.perfStop,s=e.Af.Bootstrap,r=e.Lang.isFunction,a="error",d="viewrender",h="viewupdate";e.namespace("Af").AppletView=e.Base.create("AfAppletView",e.View,[],{isDirty:!1,tmplPrefix:"ape-applet-templates-",_handles:[],autoRender:!0,isEditView:!1,initializer:function(t){this._handles.push(this.after("displayChange",function(e){this.fireEvent("viewdisplay",{prevRegion:e.prevVal,newRegion:e.newVal})},this)),this._handles.push(this.after("viewrender",function(){var t=this;e.use("stencil",function(e){e.Stencil.initAll(t.get("container"))})},this)),e.each(["autoRender"],function(i){e.Object.owns(t,i)&&(this[i]=t[i])},this),this.autoRender&&(this._dataHandle=this.get("model").after("dataChange",function(){this.isDirty=!0,this.render()},this))},destructor:function(){this._dataHandle&&(this._dataHandle.detach(),delete this._dataHandle),this.get("container").destroy(!0),e.Array.each(this._handles,function(e){e.detach()}),delete this.tmplPrefix,delete this.isDirty,delete this._handles},getTemplate:function(){if(this._template)return this._template;var e=this.get("name"),t=s.getTemplateName(this.get("guid"),e);return dust.cache[t]?(this._template=t,t):(t=this.tmplPrefix+e,dust.cache[t]?(this._template=t,t):null)},loadLazyTemplates:function(t){r(t)||(t=null);var i=s.getLazyLoadYuiModules(this.get("guid"),"templates"),n=e.Array.filter(i,function(e){return!dust.cache[e]});0!==n.length?e.use(n,function(){if(t){var i=e.Array.filter(n,function(e){return!dust.cache[e]});i&&i.length>0?t(i):t()}}):t&&t()},refresh:function(){throw"refresh() not implemented"},setHTML:function(t){return e.Af.Dom.setHTML(this.get("container"),t),this},shouldRender:function(){return this.isDirty||!this.hasContent()},render:function(){return this.shouldRender()&&this.loadLazyTemplates(e.bind(this._render,this)),this},_render:function(){var t,s,r,h=this.getTemplate();return h?(r=this.get("type")+":"+this.get("name")+":",i(s=r+"tojson"),t=this.get("model").toJSON(),n(s),i(s=r+"dust"),dust.render(h,t,e.bind(function(e,t){n(s),e?this.fireEvent(a,{code:d,message:e.message||e}):(this.setHTML(t),this.isDirty=!1,this.fireEvent(d))},this)),this):(this.fireEvent(a,{code:d,message:"no template found"}),this)},forceRender:function(){return this.isDirty=!0,this.render()},update:function(t,i,n,s,r){"function"==typeof(s=s||{})&&(r=s,s={});var d,u,o=this.get("container"),l=this.get("model");return t="string"==typeof t?o.one(t):t,i&&dust.cache[i]?n?t||(d="can't find node"):d="missing data":d="missing template:"+i,d?(this.fireEvent(a,{code:h,message:d}),r&&window.setTimeout(function(){r(d)},0),this):(u=e.merge(n,{i18n:l.get("i18n"),intl:l.get("intl")}),dust.render(i,u,e.bind(function(i,n){return i?(this.fireEvent(a,{code:h,message:i.message||i}),r&&r(i)):("append"===s.mode?t.append(n):e.Af.Dom.setHTML(t,n),o.contains(t)&&this.fireEvent(h),r&&r(null,n))},this)),this)},hasContent:function(){var t=this.get("container");return""!==e.Lang.trim(t.getHTML())},fireEvent:function(e,t){var i={applet:{guid:this.get("guid"),type:this.get("type"),view:{name:this.get("name")}}};i[e]=t||{},this.fire(e,i)},getRapid:function(){var t=e.Af.rapid;return(t&&r(t.getRapidTracker)?t.getRapidTracker():e.rapid)||null},rapidBeaconClick:function(t,i){var n=e.Af.rapid;t&&n&&r(n.triggerBeaconClickEvent)&&n.triggerBeaconClickEvent(t,i)},rapidParseYLK:function(t){var i=e.Af.rapid;if(t&&i&&r(i.parseYLK))return i.parseYLK(t)},rapidGetSec:function(t){var i=e.Af.rapid;if(t&&i&&r(i.getSecValue))return i.getSecValue(t)}},{ATTRS:{guid:{},type:{},name:{},model:{},display:{value:null}}})},"@VERSION@",{requires:["af-bootstrap","af-utils","base-build","dust","view"]});YUI.add("af-applet-viewmgr",function(e){"use strict";var i="main",t="App-Chrome-on",a="container";function o(e){return e&&(e.isEditView||"settings"===e.get("name"))}function s(e,i){e&&i&&e.destroyView(i,{remove:!0,async:!0})}function p(){}function n(){}function r(){}p.prototype={name:"applet.showview",execute:function(e,i,t){"applet.showview"===i.action||"showview"===i.action?this.showView(e,i.params.guid,i.params):"page.init"===i.action&&e.after("*:showview",function(i){this.showView(e,i.applet&&i.applet.guid||i.target.get("guid"),i.showview)},this),t()},showView:function(e,p,n){if(e.applets&&e.applets[p]){n=n||{};var r,w=e.applets[p],c=n.view||i,l=n.region||w.regionForView(c)||i,f="true"===n.destroy||!0===n.destroy,g=w.getRegion(l),u=w.getView(c);u||(u=w.createView(n.view))&&u.render(),u&&(r=g.getView(),g.showView(u),o(u)?w.get(a).addClass(t):w.get(a).removeClass(t),r&&r!==u&&(o(r)||f)&&s(w,r))}}},n.prototype={name:"applet.closeview",execute:function(e,i,t){"applet.closeview"===i.action||"closeview"===i.action?this.closeView(e,i.params.guid,i.params):"page.init"===i.action&&e.after("*:closeview",function(i){this.closeView(e,i.applet&&i.applet.guid||i.target.get("guid"),i.closeview)},this),t()},closeView:function(e,t,a){if(e.applets&&e.applets[t]){a=a||{};var p,n,r,w=e.applets[t],c="true"===a.destroy||!0===a.destroy;p=o(r=w.getView(a.view))?"edit":w.regionForView(a.view)||i,(n=w.getRegion(p))&&(p===i?n.showView(w.getView(i)):n.closeView()),w.get("container").removeClass("App-Chrome-on"),(o(r)||c)&&s(w,r)}}},r.prototype={name:"applet.refreshview",execute:function(e,i,t){"applet.refreshview"!==i.action&&"refreshview"!==i.action||this.refreshView(e,i.params.guid,i.params),t()},refreshView:function(e,i,t){if(e.applets&&e.applets[i]){t=t||{};var a=e.applets[i],o=a.getView(t.view||"main");o||(o=a.createView(t.view)),o&&o.refresh(t)}}},e.namespace("Af").AppletShowView=p,e.namespace("Af").AppletCloseView=n,e.namespace("Af").AppletRefreshView=r},"@VERSION@",{requires:["af-applet-dom"]});YUI.add("af-applet",function(e,t){"use strict";var i=e.Af,n=i.Utils,r=e.Lang,a=e.Object,s=e.Array,o=i.Config,l=i.Bootstrap,g="container",p="guid",c="model",f="type",d="footer",v="header",u="edit",w="main",h=o.isDev(),V=r.isFunction,_=n.objectGetValue,m=n.objectMerge,y=n.perfStart,A=n.perfStop;function M(e){if(!e)return e;var t=e.split("-");return(t=s.map(t,function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(".")}function C(t){e.EventTarget.prototype.constructor.call(this),this.initializer(t)}e.extend(C,i.CompositeView,{views:{main:{region:w},settings:{region:u},remove:{region:u},moreinfo:{region:u},header:{region:v},footer:{region:d}},regions:{main:{view:w},header:{view:v},footer:{view:d},edit:{defer:!0,view:"settings"}},allowRegionLateBind:!1,initializer:function(n){var s=this;s.guid=n.guid,s.type=n.type,s.clientId=e.guid("appletClientId_"),s.container=e.one(n.container),s._destroyed=!1,s.views=m(s.views,n.views),s.regions=m(s.regions,n.regions),a.each(s.regions,function(e,t){var i=s.getRegion(t);i||(i=s.createRegion(t,e.selector))}),s._bootstrapMV(function(e){try{if(e)return;var o=n.type+":aptShowViews";y(o),a.each(s.regions,function(e,t){if(e&&e.view){var i,n=s.getRegion(t);n&&(i=r.isString(e.view)?s.getView(e.view):e.view)&&n.showView(i)}}),A(o)}catch(l){if(h)throw l;i.Beacon.error(t,{},{code:"appbstrap",message:l.stack||l.message,appletType:s.type})}}),s._eventHandlers=[],s._eventHandlers.push(s.after("*:showmessage",function(e){i.Message.show(s.get(g),e.showmessage)}))},destroy:function(){var e=this,t=e.get(c);e.destroyViews(),e._regions=e._views=e.views=e.regions=null,t&&(e.set(c,null,{silent:!0}),t.destroy()),s.each(e._eventHandlers,function(e){e&&e.detach()}),e._eventHandlers=null,e._destroyed=!0,e.fireEvent("appletdestroyed"),e.detachAll()},createView:function(t){var n,r,a,s=this,o=s.views[t],d=i.AppletDom.classes().view_container_prefix+t;return o&&o.region&&!s.getRegion(o.region)?null:(r=s._getViewClass(t))?((n=e.merge({applet:s,name:t,guid:s.get(p),type:s.get(f),model:s.get(c),container:s.get(g).one("div."+d)},l.getViewMeta(s.get(p),t).config)).container||(n.container=e.Node.create('<div class="'+d+'"/>')),(a=new r(n)).addTarget(s),s.setView(t,a),a):null},fireEvent:function(e){this.fire(e,{applet:{guid:this.get(p),type:this.get(f),clientId:this.clientId}})},getViews:function(){return this._views},get:function(e){return this[e]},set:function(e,t){this[e]=t},regionForView:function(e){var t=this.views&&this.views[e];return t?t.region:null},_bootstrapMV:function(e){var t=this,i=t.get(g),n={batch:r.isValue(i.getData("applet-defer"))};i.one(".App-Toolbar_v2")&&(n.extraMods=["af-applet-editview","af-applet-settingsview"]),l.load(t.get(p),n,function(i){if(i)e(i);else if(t._destroyed)e("applet was destroyed");else{var n=t.get(f),r=n+":aptCreateModel";y(r),t._createModel(),A(r),y(r=n+":aptCreateViews"),t._createViews(),A(r),e()}})},_createModel:function(){var e=this._getModelClass();this.set(c,new e({guid:this.get(p),type:this.get(f)}))},_createViews:function(){var t=this,n=t.get(g),r=l.getMeta(t.get(p)).views,o=i.AppletDom.classes().view_container_prefix;a.each(r,function(i,n){var r;(i=e.merge(t.views[n],i)).isActiveView&&i.region&&(r=t.regions[i.region])&&(r.view=n)}),a.each(t.regions,function(e,i){var r,a,l,g;if(r=i,a=e.view,l=["js-applet-view-container"],(g=n.one("div[data-region="+r+"]"))&&(r!==a&&l.push(o+r),s.forEach(l,function(e){var t=g.one("div."+e);t&&t.replaceClass(e,o+a)})),!e.defer){var p=e.view&&t.createView(e.view);p&&p.render()}})},_getModelClass:function(){var t=l.getModelClass(this.get(p),"applet_model");return V(t)?t:(t=_(e,M(this.get(f))+"AppletModel"),V(t)?t:i.AppletModel)},_getViewClass:function(t){var n,r=this.get(p),s=l.getViewClass(r,t);if(V(s))return s;if(s=_(e,M(this.get(f))+M(t)+"View"),V(s))return s;if(n=l.getViewMeta(r,t),0===a.size(n)){if(t===d)return null;if(t===v)return null}return s=_(e.Af,"Applet"+M(t)+"View"),V(s)?s:this.views[t]&&this.views[t].region===u?e.Af.AppletEditView:i.AppletView}}),e.EventTarget&&e.augment(C,e.EventTarget,!0,null,{emitFacade:!0,prefix:"AfApplet"}),e.namespace("Af").Applet=C},"@VERSION@",{requires:["af-applet-dom","af-applet-model","af-applet-headerview","af-bootstrap","af-compositeview","af-config","af-utils","array-extras","event-custom","node","stencil-tooltip"]});YUI.add("af-applets",function(e,t){"use strict";var l=e.Lang.isFunction;function o(){var e=this;YUI.Env.Af=YUI.Env.Af||{},YUI.Env.Af.Applets=e,e.applets={},e._firstControllerNode=null,l(e.after)&&e.after("*:appletdestroyed",function(t){var l=t.applet||{},o=e.applets[l.guid];o&&l.clientId===o.clientId&&delete e.applets[l.guid]})}o.prototype={addController:function(e){if(!e||!e.name||"function"!=typeof e.execute)return!1;if(!this._firstControllerNode)return this._firstControllerNode={controller:e,next:null},!0;for(var t,l=this._firstControllerNode;l;){if(l.controller.name===e.name)return l.controller=e,!0;t=l,l=l.next}return t.next={controller:e,next:null},!0},execControllers:function(e){e&&e.action&&this._firstControllerNode&&this._execController(e,this._firstControllerNode)},_execController:function(e,t){if(e&&e.action&&t&&t.controller){var l=this;t.controller.execute(this,e,function(o){o||l._execController(e,t.next)})}},initializer:function(t){t=t||{};var l=e.Af,o="aptsInitializer",n=this;l.Utils.perfStart(o),n.addController(new l.AppletInit),n.addController(new l.AppletLoad),n.addController(new l.AppletAdd),n.addController(new l.AppletRemote),n.addController(new l.AppletRemove),n.addController(new l.AppletMove),n.addController(new l.AppletAction),n.addController(new l.AppletShowView),n.addController(new l.AppletCloseView),n.addController(new l.AppletRefreshView),n.addController(new l.AppletSaveSettings),e.Array.forEach(t.controllers,function(e){n.addController(e)}),n.execControllers({action:"page.init"}),l.Utils.perfStop(o)},getAppletLayout:function(){return e.Af.AppletDom.getLayout()},addApplet:function(e,t,l,o,n){var r={type:e,config:t,settings:l,location:o};this.execControllers({action:"applet.add",params:r,callback:n})},initApplet:function(e,t,o){l(t)&&(o=t,t=!1);var n={replace:!!t};"string"==typeof e?n.guid=e:n.node=e,this.execControllers({action:"applet.init",params:n,callback:o})},loadApplet:function(e,t){var l={};"string"==typeof e?l.guid=e:l.node=e,this.execControllers({action:"applet.load",params:l,callback:t})},moveApplet:function(t,o,n,r,a){l(r)&&(a=r,r={});var p={action:"applet.move",params:e.merge({guid:t,from:o,to:n},r),callback:a};this.execControllers(p)},removeApplet:function(t,o,n){l(o)&&(n=o,o={});var r={action:"applet.remove",params:e.merge({guid:t},o),callback:n};this.execControllers(r)}},e.namespace("Af").Applets=o,e.Af.getApplet=function(t){return e.Af.Utils.objectGetValue(YUI.Env.Af,"Applets.applets."+t)||null}},"@VERSION@",{requires:["af-applet-action","af-applet-init","af-applet-load","af-applet-mgr","af-applet-savesettings","af-applet-viewmgr","af-dom","af-utils"]});YUI.add("ape-applet-templates-moreinfo",function(t,e){dust.cache=dust.cache||{},dust.cache[e]=function(t){function e(t,e){return t.w('<div class="App-PanelHd Fz-l Fw-200">\n    <span>').s(e.getPath(!1,["i18n","MORE_INFO"]),e,{"else":n,block:a},{}).w('</span>\n</div>\n<div class="App-PanelBd">\n    ').s(e.getPath(!1,["config","moreinfo"]),e,{block:o},{}).w('\n</div>\n<div class="App-PanelFt GridSpread">\n    <button class="Btn UserPrimary js-applet-action" data-applet-action="closeview" data-applet-actioncfg="view:moreinfo">').s(e.getPath(!1,["i18n","DONE"]),e,{"else":i,block:r},{}).w("</button>\n</div>\n")}function n(t,e){return t.w("More Info")}function a(t,e){return t.f(e.getPath(!1,["i18n","MORE_INFO"]),e,"h")}function o(t,e){return t.w("\n<p>").s(e.getPath(!1,["i18n","POWERED_BY"]),e,{"else":s,block:c},{}).w(' <a href="').f(e.get(["link"],!1),e,"h").w('">').x(e.get(["img"],!1),e,{block:u},{}).f(e.get(["text"],!1),e,"h").w("</a></p>\n    ")}function s(t,e){return t.w("Powered by")}function c(t,e){return t.f(e.getPath(!1,["i18n","POWERED_BY"]),e,"h")}function u(t,e){return t.h("img",e,{},{"class":"Va-m",src:d})}function d(t,e){return t.f(e.get(["img"],!1),e,"h")}function i(t,e){return t.w("Done")}function r(t,e){return t.f(e.getPath(!1,["i18n","DONE"]),e,"h")}return dust.register("ape-applet-templates-moreinfo",e),e.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,o.__dustBody=!0,s.__dustBody=!0,c.__dustBody=!0,u.__dustBody=!0,d.__dustBody=!0,i.__dustBody=!0,r.__dustBody=!0,e}(),dust.cache["ape-applet:moreinfo.dust"]=dust.cache["ape-applet:moreinfo"]=dust.cache[e],t.Template._cache=t.Template._cache||{},t.Template._cache["ape-applet/templates/moreinfo"]=function(t,n){t=t||{},dust.render(e,t,n)}},"@VERSION@",{requires:["template-base","dust"]});YUI.add("ape-applet-templates-remove",function(t,e){dust.cache=dust.cache||{},dust.cache[e]=function(t){function e(t,e){return t.w('<div class="App-PanelHd Fz-l Fw-200">\n    <span>').s(e.getPath(!1,["i18n","REMOVE"]),e,{"else":n,block:a},{}).w('</span>\n</div>\n<div class="App-PanelBd">\n    <p>').s(e.getPath(!1,["i18n","DOUBLE_CONFIRM"]),e,{"else":u,block:s},{}).w('</p>\n</div>\n<div class="App-PanelFt Cf">\n    <button class="Btn Important Fl-start js-applet-action" data-applet-action="removeapplet" data-applet-actioncfg="guid:').f(e.get(["guid"],!1),e,"h").w('">').s(e.getPath(!1,["i18n","REMOVE"]),e,{"else":c,block:o},{}).w('</button>\n    <button class="ButtonNaked C-p-light Fl-end My-10 js-applet-action" data-applet-action="closeview" data-applet-actioncfg="view:remove">').s(e.getPath(!1,["i18n","CANCEL"]),e,{"else":p,block:d},{}).w("</button>\n</div>\n")}function n(t,e){return t.w("Remove")}function a(t,e){return t.f(e.getPath(!1,["i18n","REMOVE"]),e,"h")}function u(t,e){return t.w("Are you sure?")}function s(t,e){return t.f(e.getPath(!1,["i18n","DOUBLE_CONFIRM"]),e,"h")}function c(t,e){return t.w("Remove")}function o(t,e){return t.f(e.getPath(!1,["i18n","REMOVE"]),e,"h")}function p(t,e){return t.w("Cancel")}function d(t,e){return t.f(e.getPath(!1,["i18n","CANCEL"]),e,"h")}return dust.register("ape-applet-templates-remove",e),e.__dustBody=!0,n.__dustBody=!0,a.__dustBody=!0,u.__dustBody=!0,s.__dustBody=!0,c.__dustBody=!0,o.__dustBody=!0,p.__dustBody=!0,d.__dustBody=!0,e}(),dust.cache["ape-applet:remove.dust"]=dust.cache["ape-applet:remove"]=dust.cache[e],t.Template._cache=t.Template._cache||{},t.Template._cache["ape-applet/templates/remove"]=function(t,n){t=t||{},dust.render(e,t,n)}},"@VERSION@",{requires:["template-base","dust"]});YUI.add("ape-applet-templates-settingswrap",function(t,e){dust.cache=dust.cache||{},dust.cache[e]=function(t){function e(t,e){return t.w('<form id="applet_settings-').f(e.get(["guid"],!1),e,"h").w('" action="#" method="POST">\n    <div class="App-PanelHd Fz-l Fw-200">\n        <span>').s(e.getPath(!1,["i18n","EDIT_SETTINGS"]),e,{"else":a,block:n},{}).w('</span>\n    </div>\n    <div class="App-PanelBd Fz-s">\n    ').f(e.get(["html"],!1),e,"h",["s"]).w('\n</div>\n    <div class="App-PanelFt GridSpread">\n        <button class="Btn UserPrimary Mend-10 js-applet-action" data-applet-action="savesettings" data-applet-actioncfg="src:#applet_settings-').f(e.get(["guid"],!1),e,"h").w(';showview:main">').s(e.getPath(!1,["i18n","SAVE"]),e,{"else":s,block:p},{}).w('</button>\n        <button class="ButtonNaked C-p-light Fz-m js-applet-action" data-applet-action="closeview" data-applet-actioncfg="view:settings">').s(e.getPath(!1,["i18n","CANCEL"]),e,{"else":i,block:c},{}).w("</button>\n    </div>\n</form>\n")}function a(t,e){return t.w("Edit Settings")}function n(t,e){return t.f(e.getPath(!1,["i18n","EDIT_SETTINGS"]),e,"h")}function s(t,e){return t.w("Save")}function p(t,e){return t.f(e.getPath(!1,["i18n","SAVE"]),e,"h")}function i(t,e){return t.w("Cancel")}function c(t,e){return t.f(e.getPath(!1,["i18n","CANCEL"]),e,"h")}return dust.register("ape-applet-templates-settingswrap",e),e.__dustBody=!0,a.__dustBody=!0,n.__dustBody=!0,s.__dustBody=!0,p.__dustBody=!0,i.__dustBody=!0,c.__dustBody=!0,e}(),dust.cache["ape-applet:settingswrap.dust"]=dust.cache["ape-applet:settingswrap"]=dust.cache[e],t.Template._cache=t.Template._cache||{},t.Template._cache["ape-applet/templates/settingswrap"]=function(t,a){t=t||{},dust.render(e,t,a)}},"@VERSION@",{requires:["template-base","dust"]});YUI.add("af-location-panel",function(e,t){"use strict";var a="displayState",n=!1,i="favorite",o="searchResults",s=null,l=!0;e.namespace("Af").LocationPanel=e.Base.create("AfLocationPanel",e.View,[],{autohide_timer:s,animation_timer:s,can_render:l,events:{".js-panel-trigger":{click:"toggle"},".Tooltip":{click:"handleClick",focus:"toggle",blur:"toggle"},".location-list-ta":{focus:function(){this.search_gui.addClass("Focused")},blur:function(){this.search_gui.removeClass("Focused")}}},i13n:{sec:"locpanl",bucket:0},input_node:s,keypress_event:s,keypress_throttle:s,list_item_height:0,list_node:s,list_template:"ape-location-templates-location-list",list_items:s,search_gui:s,model_loaded:n,model_bootstrap:{alias:"Locations",current:s,id:"location",favorite:s,user_crumb:s},panel_node:s,panel_template:"ape-location-templates-location-panel",tooltip_conf:{id:s,position:"bfr",container:s,classes:"ThemeReset Tooltip FancyBox Arrow Bgc-w Mt-10 Lh-14 Z-5 Pos-a Cur-a",contentClasses:"TooltipContent Pos-r js-location-panel",role:"popover",width:"250px",minWidth:"150px",autohide:!1},trigger_node:s,show_manage_link:l,search_type:null,initializer:function(t){var a=this;if(!t)return n;t.show_manage_link===n&&(a.show_manage_link=n),t.list_template&&(a.list_template=t.list_template),t.panel_template&&(a.panel_template=t.panel_template),t.user_crumb&&(t.i13n&&(a.i13n=e.merge(a.i13n,t.i13n)),t.hasOwnProperty("tooltip_conf")&&(a.tooltip_conf=e.merge(a.tooltip_conf,t.tooltip_conf)),!1!==t.useplus&&(t.useplus=!0),a.i18n=e.Af.Utils.i18n("ape-location/strings"),t.search_type&&"string"==typeof t.search_type&&""!==t.search_type&&(a.search_type=t.search_type),a.model_bootstrap=e.merge(a.model_bootstrap,t),a.render("location-panel",function(t,n){!t&&n&&(a.keypress_event=e.bind(a.handleKeypress,a),a.after("displayStateChange",a.resetView,a),a.search_gui=a.get("container").one(".LookupBox"))}),t.autoDetectLocation===l&&(a.lazyLoadLocationsModel(),a.getCurrentLocation(n)))},activatePanel:function(){var t=this;t.lazyLoadLocationsModel(),t.trigger_node.hasClass("active")||(t.trigger_node.addClass("active"),t.trigger_node.removeClass("C-2"),t.trigger_node.addClass("C-e"),t.handleTypeAhead({type:"focus"}),t.tooltip_conf.id=t.panel_node.generateID(),t.resetView(),e.Stencil.Tooltip("show",t.trigger_node,t.tooltip_conf),e.later(100,t,function(){e.UA.ios&&e.UA.ios>=8&&e.UA.safari||t.input_node.focus(),t.resizeResultsList(n)},n))},resizeResultsList:function(){var t=this;t.list_node&&(t.animation_timer&&t.animation_timer.cancel(),t.animation_timer=e.later(100,t,function(){var e=t.getResultsHeight();t.list_node.setStyles({height:e,opacity:1})},!1))},getResultsHeight:function(){var e,t=this,a=t.get("data"),n="0px";return!t.list_item_height&&t.list_items&&t.list_items.item&&t.list_items.item(0)&&(t.list_item_height=t.list_items.item(0).get("offsetHeight")),e=t.list_item_height,a&&(1===a.length?n=e+"px":2===a.length?n=2*e+"px":a.length>2&&(n=3*e+"px")),n},deactivatePanel:function(){var t=this;t.animation_timer&&t.animation_timer.cancel(),e.Stencil.Tooltip("hide",t.trigger_node),t.handleTypeAhead({type:"blur"}),t.trigger_node.removeClass("active"),t.trigger_node.removeClass("C-e"),t.trigger_node.addClass("C-2"),t.input_node.setContent(""),t.input_node.blur()},focusCurrentTypeaheadItem:function(e,t,a){if(e){if("up"===a)t=t<0?e.item(0):e.item(t-1);else{if(t>=e)return;t=e.item(t+1)}t&&t.one("a")&&t.one("a.js-ta-item").focus()}},handleClick:function(e){var t=e.target.ancestor(".js-location-select",l,"li"),a=e.target.ancestor(".js-location-detect",l,"button"),n=e.target.ancestor("a",l,"a"),i=this;if(n&&!n.hasClass("js-location-detect")){if(t){if(e.preventDefault(),n.hasClass("js-user-favorite"))return i.toggleFavoriteLocation(t,n);if(n.hasClass("js-ta-item"))return i.updateSelectedLocation(t)}}else a&&(e.preventDefault(),i.getCurrentLocation(l))},handleKeypress:function(t){var a,i,o,r=this,c=t.keyCode,d=t.target.ancestor(".location-list-ta",l,"input"),u=c&&40===c,p=c&&38===c,g=s;switch(!r.list_items&&r.list_node&&(r.list_items=r.list_node.all(".js-location-select")),g=r.list_items,r.keypress_throttle&&r.keypress_throttle.cancel(),t.type){case"keyup":if(27===c)return void r.toggle({type:"click"});32!==c&&13!==c||((o=t.target.ancestor("a",l,"a"))&&o.hasClass("js-ta-item")?(i=o,g&&i!==r.input_node&&(a=g.indexOf(i.ancestor("li.js-location-select",l,"li")))>=0&&(t.preventDefault(),r.updateSelectedLocation(g.item(a)))):o&&o.hasClass("remove-location")&&r.deleteLocation(o)),u||p||!d||(r.keypress_throttle=e.later(250,r,function(){r.handleSearch(t.target.get("value"))},n));break;case"keydown":g&&(p||u)&&(t.halt(),a=g.indexOf(t.target.ancestor("li.js-location-select")),r.focusCurrentTypeaheadItem(g,a,p===l?"up":"down"))}},handleSearch:function(t){var n=this,s=n.get(o),l={};if("string"!=typeof t||!t.length)return n.set(a,i);(t=e.Lang.trim(t)).length>2?s&&s.text===t?n.set(o,s):(l.text=t,n.search_type&&(l.type=n.search_type),n.get("model").search(l,function(e,t){!e&&t&&n.set(o,t)})):n.set(a,i)},handleTypeAhead:function(e){switch(e.type){case"focus":this.toggleInputListener(l);break;case"blur":this.toggleInputListener(n)}},lazyLoadLocationsModel:function(){var e=this;e.model_loaded||(e.model_loaded=l,e.loadModel(e.model_bootstrap,function(){"undefined"!=typeof e.model_bootstrap.show_favorite&&!0!==e.model_bootstrap.show_favorite||e.set(a,i,l)}))},loadModel:function(t,a){var n=t.alias,o=e.Mjata.ModelStore.getByAlias(n),s=this;o?(s.set("model",o),t.current&&o.setCurrent(t.current,l),t.favorite&&o.set(i,t.favorite,{silent:l}),s.syncLocationData()):(o=new e.Af.Locations(t),s.set("model",o),e.Mjata.ModelStore.alias(n,o)),e.Mjata.ModelStore.after("AfLocations:favoriteChange",s.syncLocationData,s),e.Lang.isFunction(a)&&a()},resetView:function(){this.can_render&&this.render("locations-list")},toggleFavoriteLocation:function(t,r){var c,d=r.getData(),u=t.getData(),p=e.Af.Utils.getObjectInArray(this.get("data"),"woeid",u.woeid),g=this;function _(e,t){
g.get("data")[e.index].type=t,g.resetView(),r.focus(),g.autohide_timer&&g.autohide_timer.cancel()}r.focus(),p&&p.data&&("remove"===d["user-action"]?g.get(a)===i?(g.can_render=n,g.get("model").deleteLocation(p.data,function(){g.panel_node.removeClass("animated"),g.animation_timer&&g.animation_timer.cancel(),g.autohide_timer&&g.autohide_timer.cancel(),t.transition({height:"0px",opacity:0,duration:.5},function(){t.remove(),e.UA.ios&&e.UA.ios>=8&&e.UA.safari||g.input_node.focus(),g.list_items=s,g.panel_node.addClass("animated"),g.can_render=l,g.resizeResultsList()}),g.set(o,null)})):g.get("model").deleteLocation(p.data,function(){_(p,"search")}):(c=p.data,g.get("model").createLocation(i,c,function(e,t){!e&&t&&_(p,i)})))},syncLocationData:function(){var e=this;e.get(a)===i&&(e.set("data",e.get("model").get(i)),e.resetView(),e.resizeResultsList())},getCurrentLocation:function(t){var a=this,i=a.model_bootstrap.glyphHook,o=i?{glyphHook:i}:s;a.get("model").getCurrentLocation(function(n){if(n){e.Af.Message.show(a.get("container").ancestor(".js-applet",l),{level:"error",token:n.message,content:n.message},o,"app");var i=a.getRapid();i&&i.beaconClick(a.i13n.sec,"dterr",1,e.merge(a.i13n,{mid:"locwgt"}))}t&&a.deactivatePanel()},n)},getRapid:function(){var t=e.Af.rapid;return(t&&"function"==typeof t.getRapidTracker?t.getRapidTracker():e.rapid)||null},render:function(t,a){var n,i=this;switch(t){case"location-panel":dust.render(i.panel_template,{i13n:i.i13n,i18n:i.i18n,show_manage_link:i.show_manage_link,lang:e.config.lang||"en-US",config:i.model_bootstrap},function(e,t){i.get("container").setContent(t),i.trigger_node=i.get("container").one(".js-panel-trigger"),i.panel_node=i.get("container").one(".js-location-panel"),i.input_node=i.get("container").one(".location-list-ta"),i.theForm=i.get("container").one(".js-location-panel-form"),i.theForm.on("submit",function(e){e.preventDefault()}),i.attachEvents(),a&&"function"==typeof a&&a(null,!0)});break;case"locations-list":i.list_node=i.get("container").one(".af-locations-list"),i.list_node&&(n={locations:i.get("data"),i13n:i.i13n,i18n:i.i18n},dust.render(i.list_template,{data:n,config:i.model_bootstrap},function(e,t){e||(i.list_node.setContent(t),t.length>0&&(i.list_items=i.list_node.all(".js-location-select")))}))}return this},updateSelectedLocation:function(t){var o,s,r=this;(o=t.getData())&&o.woeid&&(s=e.Af.Utils.getObjectInArray(r.get("data"),"woeid",o.woeid))&&s.data&&(r.get("model").updateLocation(s.data),r.autohide_timer=e.later(500,r,function(){r.deactivatePanel(),r.set(a,i,{silent:l}),r.input_node.set("value","")},n))},toggle:function(t){var a=this;if(a.trigger_node)switch(t.type){case"focus":a.autohide_timer&&a.autohide_timer.cancel(),a.activatePanel();break;case"blur":a.autohide_timer=e.later(500,a,function(){a.deactivatePanel()},n);break;case"click":a.panel_node&&a.trigger_node&&(a.trigger_node.hasClass("active")?a.deactivatePanel:a.activatePanel).apply(a)}},toggleInputListener:function(e){var t=this;e?(t.panel_node.on("keyup",t.keypress_event),t.panel_node.on("keydown",t.keypress_event)):(t.panel_node.detach("keyup",t.keypress_event),t.panel_node.detach("keydown",t.keypress_event))},getFavsList:function(){var t=this.get("model"),a=e.clone(t.get(i));this.set("data",a),this.panel_node.hasClass("D-n")||this.resizeResultsList(!1)}},{ATTRS:{container:{writeOnce:n},data:{},model:{},searchResults:{setter:function(e){e&&e.data&&e.data.length&&(this.set(a,"search"),this.set("data",e.data),this.resetView(),this.resizeResultsList())}},displayState:{setter:function(e,t,a){var n=this.get("model");"search"!==e&&n&&(a&&a.silent||this.getFavsList())}}}})},"@VERSION@",{langBundles:["strings"],requires:["view","mjata-model-store","af-config","af-message","af-locations","af-utils","ape-location-templates-location-list","ape-location-templates-location-panel","stencil-toggle","stencil-tooltip"]});YUI.add("af-locations",function(e){"use strict";e.namespace("Af").Locations=e.Mjata.ModelBase.createModelListClass("AfLocations","1.0",e.Mjata.LazyModelList,e.Mjata.Model,[e.Af.Sync],{currentLocation:null,isGeoCapable:null,readonly:!1,resource:"location",consolidate:!1,favCache:null,syncContext:{config:{uri:"/_td_api"},context:{crumb:"",helper:"ugeo"}},selectedLocation:null,EVT_FAV_LOC_ADDED:"favLocationAdded",EVT_FAV_LOC_DELETED:"favLocationDeleted",initializer:function(e){var t=this;t.favCache={},t.syncContext.config.uri=e.xhr_path||t.syncContext.config.uri,t.syncContext.context.crumb=e.user_crumb,t.geoCapable(),e.current&&e.current.woeid?t.setCurrent(e.current,!0):t._getLocationData("location.user.current",{},function(e,o){!e&&o&&t.setCurrent(o,!0)}),e.favorite||t.getFavoriteLocations()},geoCapable:function(){var e=this;return null===e.isGeoCapable&&(e.isGeoCapable=!!window.navigator.geolocation),e.isGeoCapable},getCurrentLocation:function(e,t){var o=this,a=o.isGeoCapable||o.geoCapable();t=t||!1,a?o.getUserCurrentPosition(function(a,n){a||o.setCurrent(n,t),"function"==typeof e&&e(a,n)}):o._getLocationData("location.user.current",{},function(a,n){!a&&n&&o.setCurrent(n,t),"function"==typeof e&&e(a,n||null)})},_roundFloats:function(e,t){return Math.round(e*t)/t},getUserCurrentPosition:function(t){var o=this,a=e.Af.Utils.i18n("ape-location/strings");navigator.geolocation.getCurrentPosition(function(e){o.createLocation("location.user.current",{lat:String(e.coords.latitude),lon:String(e.coords.longitude),radius:parseInt(e.coords.accuracy)},t)},function(e){var o={1:{code:401,message:a.BROWSER_DENIED_PERMISSION||"Browser denied permission to get your current location"},2:{code:500,message:a.BROWSER_LOCATION_NOT_FOUND||"Browser was unable to find your current location"},3:{code:408,message:a.BROWSER_TIMEOUT_LOCATION||"Browser timed out getting your location"}};t(o[e.code],null)},{timeout:1e4,maximumAge:0})},getFavoriteLocations:function(t,o){t=t||{};var a=this;a._getLocationData("location.user.favorite",t,function(t,n){!t&&n&&(e.Lang.isArray(n)||(n=[n]),a.set("favorite",n)),"function"==typeof o&&o(t,n)})},createLocation:function(e,t,o){if(!e||!t)return o(null,null);var a,n=null,i=this;switch(e){case"current":case"location.user.current":n="location.user.current";break;case"favorite":case"location.user.favorite":n="location.user.favorite";break;default:return o(null,null)}a=t.woeid?{resource:n,params:{woeid:t.woeid}}:{resource:n,params:{latitude:t.lat,longitude:t.lon,radius:t.radius}},i.sync("create",a,function(e,a){!e&&a&&a.woeid&&"location.user.favorite"===n&&(t.id=i._createLocationCacheKey(a),i.appendFavoriteLocation(a,!0)),"function"==typeof o&&o(e,a)})},appendFavoriteLocation:function(e,t){if(e){var o=this,a=o._createLocationCacheKey(e);o.favCache.hasOwnProperty(a)||(e.type="favorite",e.id=a,o.set("favorite",e),o.updateLocation(e,t)),o.fire(o.EVT_FAV_LOC_ADDED,{location:e})}},deleteLocation:function(t,o){var a,n=this;t.id?(a={resource:"location.user.favorite"},t.canonical&&"woe"===t.canonical?a.params={woeid:t.woeid}:a.params={latitude:t.lat,longitude:t.lon,radius:t.radius},n.sync("delete",a,function(a,i){var r,c,s;a||(r=n.get("favorite"),c=e.Af.Utils.getObjectInArray(r,"id",t.id),s=t.id,n.favCache.hasOwnProperty(s)&&delete n.favCache[s],r.splice(c.index,1),n.set("favorite",r)),o(a,i)}),n.fire(n.EVT_FAV_LOC_DELETED,{location:t})):o({error:400,message:"Missing id field"},null)},updateLocation:function(e,t){t=t||!1,e&&e.woeid&&(this.selectedLocation=e,this.set("location",e.woeid,{silent:t}),t||this._setSelected(e,t))},search:function(e,t){if(e&&e.hasOwnProperty("text")){var o=this,a=e.text,n=o.getCurrent(),i={text:a},r=e.hasOwnProperty("resource")?e.resource:"location.search";n&&n.hasOwnProperty("lat")&&n.hasOwnProperty("lon")&&(i.radius=o._roundFloats(n.lon,1e3)+","+o._roundFloats(n.lat,1e3)),e.hasOwnProperty("type")&&(i.type=e.type),o._findLocation(r,i,function(e,n){var i,r={text:a,data:null};if(!e&&n&&(o.set("displayState","search"),n.length)){if(!n[0]||!n[0].hasOwnProperty("woeid"))return t(null,r);i=o._mergeSearchWithFavorites(n),r.data=i}t(e,r)})}},_mergeSearchWithFavorites:function(t){var o,a,n,i,r,c,s=[],u=[];if(e.Lang.isArray(t)||(t=[t]),a=t.length,!(c=this.get("favorite"))||!c.length)return t;for(o=0;o<a;o+=1)n=t[o],i=this._createLocationCacheKey(n),this.favCache.hasOwnProperty(i)?(r=this.favCache[i])?s.push(r):(n.type="favorite",n.id=i,s.push(n)):u.push(n);return s.concat(u)},_setSelected:function(e,t){var o=this,a=this.getCurrent(),n=o.getSelectedLocation();a.woeid&&a.woeid!==e.woeid?this.createLocation("location.user.current",e,function(e,a){e||(o.setCurrent(a,!0),o.selectedLocation=a,t||o.fire("selectedLocationChange",{newVal:a,prevVal:n}))}):t||o.fire("selectedLocationChange",{newVal:e,prevVal:n})},getSelectedLocation:function(){return this.selectedLocation},setCurrent:function(e,t){if(e){var o=this.getCurrent();e.qualifiedName=e.qualifiedName||e.city+", "+(e.statecode||e.state),this.currentLocation=e,this.updateLocation(e,t),t||this.fire("currentChange",{newVal:e,prevVal:o})}},getCurrent:function(){return this.currentLocation},_getLocationData:function(e,t,o){this.load({resource:e,params:{}},o)},_findLocation:function(e,t,o){this.load({resource:e,params:t},o)},_createLocationCacheKey:function(e){if(!e||!e.city)return null;var t=e.city+"_";return t+=e.statecode?e.statecode:e.state,t.replace(/\s/g,"_").toLowerCase()}},{ATTRS:{locdrop_crumb:{},location:{},favorite:{setter:function(t){if(!t)return null;var o,a,n,i,r=this.get("favorite")||[],c=[];for(e.Lang.isArray(t)||(t=[t]),a=t.length,o=0;o<a;o+=1)n=t[o],(i=this._createLocationCacheKey(n))&&!this.favCache.hasOwnProperty(i)&&(this.favCache[i]=n,n.type="favorite",n.id=i,c.push(n)),n.qualifiedName=n.qualifiedName||n.city+", "+(n.statecode||n.state);return c.length&&r&&r.length?t=c.concat(r):r&&r.length>0?t=r:c&&(t=c),t}}}})},"@VERSION@",{
requires:["af-sync","af-utils","mjata-model-base","mjata-model","mjata-lazy-modellist","mjata-model-store"]});YUI.add("ape-location-templates-location-list",function(t,n){dust.cache=dust.cache||{},dust.cache[n]=function(t){function n(t,n){return t.s(n.get(["data"],!1),n,{block:e},{}).w("\n")}function e(t,n){return t.w("\n").s(n.get(["locations"],!1),n,{block:o},{i13n:n.get(["i13n"],!1)}).w("\n")}function o(t,n){return t.w('\n<li class="Bfc Fw-200 js-location-select" role="presentation" data-type="').f(n.get(["type"],!1),n,"h").w('" data-woeid="').f(n.get(["woeid"],!1),n,"h").w('" data-address="').f(n.get(["city"],!1),n,"h").w(", ").nx(n.get(["statecode"],!1),n,{block:c},{}).x(n.get(["statecode"],!1),n,{block:s},{}).w('">\n\t').h("select",n,{block:a},{key:d}).w("\n").h("select",n,{block:l},{key:q}).w("\n</li>\n")}function c(t,n){return t.f(n.get(["state"],!1),n,"h")}function s(t,n){return t.f(n.get(["statecode"],!1),n,"h")}function a(t,n){return t.w("\n").h("eq",n,{block:i},{value:"favorite"}).w("\n").h("default",n,{block:u},{}).w("\n")}function i(t,n){return t.w('\n<a role="button" data-ylk="sec:').f(n.getPath(!1,["i13n","sec"]),n,"h").w(";mid:locwgt;elm:itm;slk:loc-pr;itc:1;test:").f(n.getPath(!1,["i13n","bucket"]),n,"h").w('" data-action="click" data-action-outcome="slctloc" class="Ell Bfc C-2 Fl-start W-80 Whs-nw Td-n P-6 js-ta-item rapidnofollow" href="#">').f(n.get(["qualifiedName"],!1),n,"h").w("</a>\n\t\t")}function u(t,n){return t.w('\n<a role="button" data-ylk="sec:').f(n.getPath(!1,["i13n","sec"]),n,"h").w(";mid:locwgt;elm:itm;slk:loc-sug;itc:1;test:").f(n.getPath(!1,["i13n","bucket"]),n,"h").w('" data-action="click" data-action-outcome="slctloc" class="Ell Bfc Fl-start W-80 Whs-nw Td-n P-6 js-ta-item rapidnofollow" href="#">').f(n.get(["qualifiedName"],!1),n,"h").w("</a>\n\t\t")}function d(t,n){return t.f(n.get(["type"],!1),n,"h")}function l(t,n){return t.w("\n").h("eq",n,{block:r},{value:"favorite"}).w("\n").h("default",n,{block:I},{}).w("\n")}function r(t,n){return t.w('\n<a role="button" href="#" data-ylk="sec:').f(n.getPath(!1,["i13n","sec"]),n,"h").w(";mid:locwgt;elm:btn;slk:rm;itc:1;test:").f(n.getPath(!1,["i13n","bucket"]),n,"h").w('" data-action="click" data-action-outcome="rmloc" class="D-ib Pos-a End-0 Td-n Ta-c ').x(n.getPath(!1,["config","useplus"]),n,{"else":f,block:_},{}).w(" js-user-favorite rapidnofollow favorite").x(n.getPath(!1,["config","useplus"]),n,{block:h},{}).w('" data-id="').f(n.get(["id"],!1),n,"h").w('" data-user-action="remove" title="').s(n.getPath(!1,["i18n","REMOVE_LOCATION_TITLE"]),n,{"else":w,block:g},{}).w('">\n            ').x(n.getPath(!1,["config","useplus"]),n,{"else":y,block:p},{}).w("\n</a>\n\t\t")}function f(t,n){return t.w("Py-6 Px-10")}function _(t,n){return t.w("Py-2 Px-6")}function h(t,n){return t.w(" My-4 favbtn favbgc")}function w(t,n){return t.w("Remove this Location")}function g(t,n){return t.f(n.getPath(!1,["i18n","REMOVE_LOCATION_TITLE"]),n,"h")}function y(t,n){return t.w("\n").x(n.getPath(!1,["config","glyphHook"]),n,{"else":k,block:P},{}).w('\n<b class="Hidden">').s(n.getPath(!1,["i18n","REMOVE_LOCATION"]),n,{"else":b,block:B},{}).w("</b></i>\n            ")}function k(t,n){return t.w('\n<i class="Fz-xs C-e Icon">&#xe023;\n            ')}function P(t,n){return t.w('\n<i class="Fz-xs C-e ').f(n.getPath(!1,["config","glyphHook"]),n,"h",["s"]).w(' IconLocationStar">\n            ')}function b(t,n){return t.w("Remove from Favorite Locations")}function B(t,n){return t.f(n.getPath(!1,["i18n","REMOVE_LOCATION"]),n,"h")}function p(t,n){return t.w("\n").x(n.getPath(!1,["config","glyphHook"]),n,{"else":m,block:x},{}).w('\n<span class="Fz-xs C-w Hidden">').s(n.getPath(!1,["i18n","SAVED"]),n,{"else":T,block:E},{}).w("</span>\n            ")}function m(t,n){return t.w('\n<i class="Fz-2xs C-w Icon">&#xe063;</i>\n            ')}function x(t,n){return t.w('\n<i class="Fz-2xs C-w ').f(n.getPath(!1,["config","glyphHook"]),n,"h",["s"]).w(' IconLocationCheck"></i>\n            ')}function T(t,n){return t.w("Saved")}function E(t,n){return t.f(n.getPath(!1,["i18n","SAVED"]),n,"h")}function I(t,n){return t.w('\n<a role="button" href="#" data-ylk="sec:').f(n.getPath(!1,["i13n","sec"]),n,"h").w(";mid:locwgt;elm:btn;slk:add;itc:1;test:").f(n.getPath(!1,["i13n","bucket"]),n,"h").w('" data-action="click" data-action-outcome="addloc" class="D-ib Pos-a End-0 Td-n Ta-c ').x(n.getPath(!1,["config","useplus"]),n,{"else":O,block:C},{}).w(" js-user-favorite rapidnofollow").x(n.getPath(!1,["config","useplus"]),n,{block:L},{}).w('" data-id="').f(n.get(["id"],!1),n,"h").w('" data-user-action="add" title="').s(n.getPath(!1,["i18n","ADD_LOCATION_TITLE"]),n,{"else":A,block:v},{}).w('">\n            ').x(n.getPath(!1,["config","useplus"]),n,{"else":F,block:S},{}).w("\n</a>\n\t\t")}function O(t,n){return t.w("Py-6 Px-10")}function C(t,n){return t.w("Py-2 Px-4")}function L(t,n){return t.w(" My-4 favbtn")}function A(t,n){return t.w("Add this Location")}function v(t,n){return t.f(n.getPath(!1,["i18n","ADD_LOCATION_TITLE"]),n,"h")}function F(t,n){return t.w("\n").x(n.getPath(!1,["config","glyphHook"]),n,{"else":D,block:H},{}).w('\n<b class="Hidden">').s(n.getPath(!1,["i18n","ADD_LOCATION"]),n,{"else":N,block:z},{}).w("</b></i>\n            ")}function D(t,n){return t.w('\n<i class="Fz-xs C-2 Icon">&#xe061;\n            ')}function H(t,n){return t.w('\n<i class="Fz-xs C-2 ').f(n.getPath(!1,["config","glyphHook"]),n,"h",["s"]).w(' IconLocationEmptyStar">\n            ')}function N(t,n){return t.w("Add to Favorite Locations")}function z(t,n){return t.f(n.getPath(!1,["i18n","ADD_LOCATION"]),n,"h")}function S(t,n){return t.w("\n").x(n.getPath(!1,["config","glyphHook"]),n,{"else":V,block:R},{}).w('\n<span class="Fz-xs C-w Hidden">').s(n.getPath(!1,["i18n","SAVE"]),n,{"else":M,block:j},{}).w("</span>\n            ")}function V(t,n){return t.w('\n<i class="Fz-xs C-w Icon">&#xe066;</i>\n            ')}function R(t,n){return t.w('\n<i class="Fz-xs C-w ').f(n.getPath(!1,["config","glyphHook"]),n,"h",["s"]).w(' IconLocationPlus"></i>\n            ')}function M(t,n){return t.w("Save")}
function j(t,n){return t.f(n.getPath(!1,["i18n","SAVE"]),n,"h")}function q(t,n){return t.f(n.get(["type"],!1),n,"h")}return dust.register("ape-location-templates-location-list",n),n.__dustBody=!0,e.__dustBody=!0,o.__dustBody=!0,c.__dustBody=!0,s.__dustBody=!0,a.__dustBody=!0,i.__dustBody=!0,u.__dustBody=!0,d.__dustBody=!0,l.__dustBody=!0,r.__dustBody=!0,f.__dustBody=!0,_.__dustBody=!0,h.__dustBody=!0,w.__dustBody=!0,g.__dustBody=!0,y.__dustBody=!0,k.__dustBody=!0,P.__dustBody=!0,b.__dustBody=!0,B.__dustBody=!0,p.__dustBody=!0,m.__dustBody=!0,x.__dustBody=!0,T.__dustBody=!0,E.__dustBody=!0,I.__dustBody=!0,O.__dustBody=!0,C.__dustBody=!0,L.__dustBody=!0,A.__dustBody=!0,v.__dustBody=!0,F.__dustBody=!0,D.__dustBody=!0,H.__dustBody=!0,N.__dustBody=!0,z.__dustBody=!0,S.__dustBody=!0,V.__dustBody=!0,R.__dustBody=!0,M.__dustBody=!0,j.__dustBody=!0,q.__dustBody=!0,n}(),dust.cache["ape-location:location-list.dust"]=dust.cache["ape-location:location-list"]=dust.cache[n],t.Template._cache=t.Template._cache||{},t.Template._cache["ape-location/templates/location-list"]=function(t,e){t=t||{},dust.render(n,t,e)}},"@VERSION@",{requires:["template-base","dust"]});YUI.add("ape-location-templates-location-panel",function(t,n){dust.cache=dust.cache||{},dust.cache[n]=function(t){function n(t,n){return t.w('<button title="').s(n.getPath(!1,["i18n","VIEW_LOCATION_TITLE"]),n,{"else":o,block:a},{}).w('" aria-haspopup="1" class="ButtonNaked C-2 js-panel-trigger rapidnofollow" data-ylk="sec:').f(n.getPath(!1,["i13n","sec"]),n,"h").w(";mid:locwgt;elm:inpt;slk:mu;itc:1:test:").f(n.getPath(!1,["i13n","bucket"]),n,"h").w('" data-action="click" data-action-outcome="op">\n    ').x(n.getPath(!1,["config","glyphHook"]),n,{"else":i,block:e},{}).w('\n<b class="Hidden">').s(n.getPath(!1,["i18n","LOCATION_PICKER"]),n,{"else":c,block:s},{}).w('</b>\n</button>\n<style>\n    .af-locations-list li a {color: #373737;}\n    .af-locations-list li a:hover,\n    .af-locations-list li a:focus {\n        background: #EDECEC;\n        color: #373737;\n        outline:none;\n    }\n\n    .af-locations-list li .hovertxt {\n        display: none;\n    }\n    .af-locations-list li:hover .hovertxt {\n        display: inline;\n    }\n    .af-locations-list li .favbtn {\n        border-radius: 2px;\n        background-color: #ABAEB7;\n        margin-right: 4px;\n    }\n    .af-locations-list li .favbgc {\n        background-color: #1DA09C;\n    }\n    .af-locations-list li .favbtn:hover,\n    .af-locations-list li .favbtn:focus {\n        background-color: #ABAEB7;\n        color: white;\n    }\n    .af-locations-list li .favbgc:hover,\n    .af-locations-list li .favbgc:focus {\n        background-color: #1DA09C;\n    }\n    .animated {\n        -webkit-transition: all .3s ease-out;\n        -moz-transition: all .3s ease-out;\n        -ms-transition: all .3s ease-out;\n        -o-transition: all .3s ease-out;\n        transition: all .3s ease-out;\n    }\n\n    /* Let\'s get this party started */\n    .af-locations-list::-webkit-scrollbar {\n        width: 6px;\n    }\n\n    .af-locations-list::-webkit-scrollbar-button {\n        width: 0px;\n        height: 0px;\n    }\n    .af-locations-list::-webkit-scrollbar-thumb {\n        background: rgba(155,155,155,0.2);\n        -webkit-border-radius: 6px;\n    }\n    .af-locations-list::-webkit-scrollbar-thumb:active {\n        background: rgba(0,0,0,0.4);\n    }\n    .af-locations-list::-webkit-scrollbar-thumb:hover {\n        background: rgba(90,90,90,0.3);\n    }\n    /* Track */\n    .af-locations-list::-webkit-scrollbar-track {\n        background-clip:padding-box;\n        -webkit-box-shadow: inset 0 0 10px rgba(0,0,0,0.1);\n        width: 5px;\n    }\n    .af-locations-list::-webkit-scrollbar-track:hover {\n        -webkit-box-shadow: inset 0 0 10px rgba(0,0,0,0.3);\n        width: 20px;\n    }\n    .af-locations-list::-webkit-scrollbar-track:active {\n        -webkit-box-shadow: inset 0 0 10px rgba(0,0,0,0.2);\n    }\n\n    .af-locations-list::-webkit-scrollbar-thumb:window-inactive {\n        background: transparent;\n    }\n</style>\n\n<div class="js-location-panel D-n">\n    <div class="Bfc Pos-r js-location-picker">\n        <div class="Row Bd-b Py-8 Pos-r">\n            <a href="#" title="').s(n.getPath(!1,["i18n","DETECT_YOUR_LOCATION_TITLE"]),n,{"else":l,block:r},{}).w('" data-ylk="sec:').f(n.getPath(!1,["i13n","sec"]),n,"h").w(";mid:locwgt;elm:itm;slk:dtct;itc:1;test:").f(n.getPath(!1,["i13n","bucket"]),n,"h").w('" data-action="click" data-action-outcome="dtcloc" class="Grid-U Fw-200 Fz-s Va-m Mstart-10 rapidnofollow js-location-detect">').s(n.getPath(!1,["i18n","DETECT_MY_LOCATION"]),n,{"else":d,block:u},{}).w('</a>\n            <button title="').s(n.getPath(!1,["i18n","DETECT_YOUR_LOCATION_TITLE"]),n,{"else":h,block:f},{}).w('" data-ylk="sec:').f(n.getPath(!1,["i13n","sec"]),n,"h").w(";mid:locwgt;elm:itm;slk:dtct;itc:1;test:").f(n.getPath(!1,["i13n","bucket"]),n,"h").w('" data-action="click" data-action-outcome="dtcloc" class=\'Pos-a End-0 Mend-10 Ta-c ButtonNaked js-location-detect rapidnofollow\'>\n                ').x(n.getPath(!1,["config","glyphHook"]),n,{"else":_,block:b},{}).w('\n<b class="Hidden">').s(n.getPath(!1,["i18n","DETECT_YOUR_LOCATION"]),n,{"else":g,block:w},{}).w('</b>\n            </button>\n        </div>\n        <div class="Bfc Py-8">\n            <form class="Bfc Td-n M-0 Mx-10 Bd-1 LookupBox js-location-panel-form">\n            <label class="Hidden">').s(n.getPath(!1,["i18n","ENTER_CITY_ZIPCODE_LABEL"]),n,{"else":k,block:p},{}).w("</label>\n            ").x(n.getPath(!1,["config","glyphHook"]),n,{"else":y,block:T},{}).w('\n<div class="LookupBoxWrap">\n                <input tabindex="0" class="LookupBoxInput Lh-14 H-a O-0 location-list-ta" type="text" value="" placeholder="').s(n.getPath(!1,["i18n","ENTER_CITY_ZIPCODE_PLACEHOLDER"]),n,{"else":E,block:m},{}).w('" autocomplete="off">\n            </div>\n            <noscript><input class="Hidden" type="submit" value="').s(n.getPath(!1,["i18n","GO"]),n,{"else":P,block:B},{}).w('"></noscript>\n            </form>\n        </div>\n        <div class="Bfc Ov-h">\n            <ul class="af-locations-list Pstart-10 M-0 Mb-6 Mend-6 Bfc Divided-h Pos-r Ov-h Ovy-s animated" style="height: 0px; opacity: 0"></ul>\n        </div>\n        ').x(n.get(["show_manage_link"],!1),n,{block:O},{}).w("\n</div>\n</div>\n")}function o(t,n){return t.w("View your Locations")}function a(t,n){return t.f(n.getPath(!1,["i18n","VIEW_LOCATION_TITLE"]),n,"h")}function i(t,n){return t.w('\n<i class="Icon Fz-m Va-m">&#xe062;</i>\n    ')}function e(t,n){return t.w('\n<i class="').f(n.getPath(!1,["config","glyphHook"]),n,"h",["s"]).w(' IconLocationPicker Fz-m Va-m"></i>\n    ')}function c(t,n){return t.w("Location Picker")}function s(t,n){return t.f(n.getPath(!1,["i18n","LOCATION_PICKER"]),n,"h")}function l(t,n){return t.w("Detect Your Location")}function r(t,n){return t.f(n.getPath(!1,["i18n","DETECT_YOUR_LOCATION_TITLE"]),n,"h")}function d(t,n){return t.w("Detect my Location")}function u(t,n){return t.f(n.getPath(!1,["i18n","DETECT_MY_LOCATION"]),n,"h")}function h(t,n){
return t.w("Detect Your Location")}function f(t,n){return t.f(n.getPath(!1,["i18n","DETECT_YOUR_LOCATION_TITLE"]),n,"h")}function _(t,n){return t.w("\n<i class='Icon Fz-m Va-m C-2'>&#xe06f;</i>\n                ")}function b(t,n){return t.w("\n<i class='").f(n.getPath(!1,["config","glyphHook"]),n,"h",["s"]).w(" IconLocationLocate Fz-m Va-m C-2'></i>\n                ")}function g(t,n){return t.w("Detect Your Location")}function w(t,n){return t.f(n.getPath(!1,["i18n","DETECT_YOUR_LOCATION"]),n,"h")}function k(t,n){return t.w("Enter City or Zipcode")}function p(t,n){return t.f(n.getPath(!1,["i18n","ENTER_CITY_ZIPCODE_LABEL"]),n,"h")}function y(t,n){return t.w('\n<b class="LookupBoxIcon Icon Fl-start">&#xe01b;</b>\n            ')}function T(t,n){return t.w('\n<b class="LookupBoxIcon ').f(n.getPath(!1,["config","glyphHook"]),n,"h",["s"]).w(' IconLocationLookup Fl-start"></b>\n            ')}function E(t,n){return t.w("Enter City or Zipcode")}function m(t,n){return t.f(n.getPath(!1,["i18n","ENTER_CITY_ZIPCODE_PLACEHOLDER"]),n,"h")}function P(t,n){return t.w("Go")}function B(t,n){return t.f(n.getPath(!1,["i18n","GO"]),n,"h")}function O(t,n){return t.w('\n<div class="Row Ta-end" style="*height:1%">\n            <a class="Dimmed D-b Py-4 Px-10 Bd-t" href="https://login.yahoo.com/account/preferences?lang=').f(n.get(["lang"],!1),n,"h").w('" data-ylk="sec:').f(n.getPath(!1,["i13n","sec"]),n,"h").w(";mid:locwgt;elm:itm;slk:mng;test:").f(n.getPath(!1,["i13n","bucket"]),n,"h").w(';itc:0;tar:http://info.yahoo.com/locationmgt/" data-action="click" data-action-outcome="nav">').s(n.getPath(!1,["i18n","MANAGE_LOCATION"]),n,{"else":L,block:C},{}).w("</a>\n        </div>\n        ")}function L(t,n){return t.w("Manage locations")}function C(t,n){return t.f(n.getPath(!1,["i18n","MANAGE_LOCATION"]),n,"h")}return dust.register("ape-location-templates-location-panel",n),n.__dustBody=!0,o.__dustBody=!0,a.__dustBody=!0,i.__dustBody=!0,e.__dustBody=!0,c.__dustBody=!0,s.__dustBody=!0,l.__dustBody=!0,r.__dustBody=!0,d.__dustBody=!0,u.__dustBody=!0,h.__dustBody=!0,f.__dustBody=!0,_.__dustBody=!0,b.__dustBody=!0,g.__dustBody=!0,w.__dustBody=!0,k.__dustBody=!0,p.__dustBody=!0,y.__dustBody=!0,T.__dustBody=!0,E.__dustBody=!0,m.__dustBody=!0,P.__dustBody=!0,B.__dustBody=!0,O.__dustBody=!0,L.__dustBody=!0,C.__dustBody=!0,n}(),dust.cache["ape-location:location-panel.dust"]=dust.cache["ape-location:location-panel"]=dust.cache[n],t.Template._cache=t.Template._cache||{},t.Template._cache["ape-location/templates/location-panel"]=function(t,o){t=t||{},dust.render(n,t,o)}},"@VERSION@",{requires:["template-base","dust"]});/*! Dust - Asynchronous Templating - v2.6.3
* http://linkedin.github.io/dustjs/
* Copyright (c) 2016 Aleksander Williams; Released under the MIT License */
!function(e,t){"function"==typeof define&&define.amd&&!0===define.amd.dust?define("dust.core",[],t):"object"==typeof exports?module.exports=t():e.dust=t()}(this,function(){var f,HCHARS,AMP,LT,GT,QUOT,SQUOT,BS,FS,CR,LS,PS,NL,LF,SQ,DQ,TB,dust={version:"2.6.3"},NONE="NONE",ERROR="ERROR",WARN="WARN",INFO="INFO",DEBUG="DEBUG",EMPTY_FUNC=function(){},c,d,b;function Context(e,t,r,n){this.stack=e,this.global=t,this.blocks=r,this.templateName=n}function getWithResolvedData(e,t,r){return function(n){return e.push(n)._get(t,r)}}function Stack(e,t,r,n){this.tail=t,this.isObject=e&&"object"==typeof e,this.head=e,this.index=r,this.of=n}function Stub(e){this.head=new Chunk(this),this.callback=e,this.out=""}function Stream(){this.head=new Chunk(this)}function Chunk(e,t,r){this.root=e,this.next=t,this.data=[],this.flushable=!1,this.taps=r}for(f in dust.config={whitespace:!1,amd:!1},dust._aliases={write:"w",end:"e",map:"m",render:"r",reference:"f",section:"s",exists:"x",notexists:"nx",block:"b",partial:"p",helper:"h"},b={DEBUG:0,INFO:1,WARN:2,ERROR:3,NONE:4},"undefined"!=typeof console&&console.log?(c=console.log,d="function"==typeof c?function(){c.apply(console,arguments)}:function(){c(Array.prototype.slice.apply(arguments).join(" "))}):d=EMPTY_FUNC,dust.log=function(e,t){b[t=t||INFO]>=b[dust.debugLevel]&&d("[DUST:"+t+"]",e)},dust.debugLevel=NONE,"undefined"!=typeof process&&process.env&&/\bdust\b/.test(process.env.DEBUG)&&(dust.debugLevel=DEBUG),dust.helpers={},dust.cache={},dust.register=function(e,t){e&&(dust.cache[e]=t)},dust.render=function(e,t,r){var n=new Stub(r).head;try{dust.load(e,n,Context.wrap(t,e)).end()}catch(o){n.setError(o)}},dust.stream=function(e,t){var r=new Stream,n=r.head;return dust.nextTick(function(){try{dust.load(e,r.head,Context.wrap(t,e)).end()}catch(o){n.setError(o)}}),r},dust.renderSource=function(e,t,r){return dust.compileFn(e)(t,r)},dust.compileFn=function(e,t){t=t||null;var r=dust.loadSource(dust.compile(e,t));return function(e,n){var o=n?new Stub(n):new Stream;return dust.nextTick(function(){"function"==typeof r?r(o.head,Context.wrap(e,t)).end():dust.log(new Error("Template `"+t+"` could not be loaded"),ERROR)}),o}},dust.load=function(e,t,r){var n=dust.cache[e];return n?n(t,r):dust.onLoad?t.map(function(t){dust.onLoad(e,function(n,o){if(n)return t.setError(n);dust.cache[e]||dust.loadSource(dust.compile(o,e)),dust.cache[e](t,r).end()})}):t.setError(new Error("Template Not Found: "+e))},dust.loadSource=function(source,path){return eval(source)},Array.isArray?dust.isArray=Array.isArray:dust.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},dust.nextTick=function(e){setTimeout(e,0)},dust.isEmpty=function(e){return 0!==e&&(!(!dust.isArray(e)||e.length)||!e)},dust.isEmptyObject=function(e){var t;if(null===e)return!1;if(e===undefined)return!1;if(e.length>0)return!1;for(t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},dust.isThenable=function(e){return e&&"object"==typeof e&&"function"==typeof e.then},dust.filter=function(e,t,r){var n,o,i;if(r)for(n=0,o=r.length;n<o;n++)"s"===(i=r[n])?t=null:"function"==typeof dust.filters[i]?e=dust.filters[i](e):dust.log("Invalid filter `"+i+"`",WARN);return t&&(e=dust.filters[t](e)),e},dust.filters={h:function(e){return dust.escapeHtml(e)},j:function(e){return dust.escapeJs(e)},u:encodeURI,uc:encodeURIComponent,js:function(e){return dust.escapeJSON(e)},jp:function(e){return JSON?JSON.parse(e):(dust.log("JSON is undefined; could not parse `"+e+"`",WARN),e)}},dust.makeBase=function(e){return new Context(new Stack,e)},Context.wrap=function(e,t){return e instanceof Context?e:new Context(new Stack(e),{},null,t)},Context.prototype.get=function(e,t){return"string"==typeof e&&("."===e[0]&&(t=!0,e=e.substr(1)),e=e.split(".")),this._get(t,e)},Context.prototype._get=function(e,t){var r,n,o,i,s,a=this.stack||{},u=1;if(n=t[0],o=t.length,e&&0===o)i=a,a=a.head;else{if(e)a&&(a=a.head?a.head[n]:undefined);else{for(;a&&(!a.isObject||(i=a.head,(r=a.head[n])===undefined));)a=a.tail;a=r!==undefined?r:this.global?this.global[n]:undefined}for(;a&&u<o;){if(dust.isThenable(a))return a.then(getWithResolvedData(this,e,t.slice(u)));i=a,a=a[t[u]],u++}}return"function"==typeof a?((s=function(){try{return a.apply(i,arguments)}catch(e){throw dust.log(e,ERROR),e}}).__dustBody=!!a.__dustBody,s):(a===undefined&&dust.log("Cannot find reference `{"+t.join(".")+"}` in template `"+this.getTemplateName()+"`",INFO),a)},Context.prototype.getPath=function(e,t){return this._get(e,t)},Context.prototype.push=function(e,t,r){return new Context(new Stack(e,this.stack,t,r),this.global,this.blocks,this.getTemplateName())},Context.prototype.pop=function(){var e=this.current();return this.stack=this.stack&&this.stack.tail,e},Context.prototype.rebase=function(e){return new Context(new Stack(e),this.global,this.blocks,this.getTemplateName())},Context.prototype.clone=function(){var e=this.rebase();return e.stack=this.stack,e},Context.prototype.current=function(){return this.stack&&this.stack.head},Context.prototype.getBlock=function(e,t,r){var n,o,i;if("function"==typeof e&&(e=e(new Chunk,this).data.join("")),!(n=this.blocks))return dust.log("No blocks for context `"+e+"` in template `"+this.getTemplateName()+"`",DEBUG),!1;for(o=n.length;o--;)if(i=n[o][e])return i;return dust.log("Malformed template `"+this.getTemplateName()+"` was missing one or more blocks."),!1},Context.prototype.shiftBlocks=function(e){var t,r=this.blocks;return e?(t=r?r.concat([e]):[e],new Context(this.stack,this.global,t,this.getTemplateName())):this},Context.prototype.resolve=function(e){var t;return"function"!=typeof e?e:(t=(new Chunk).render(e,this),e.__dustBody?t.data.join(""):t)},Context.prototype.getTemplateName=function(){return this.templateName},Stub.prototype.flush=function(){for(var e=this.head;e;){if(!e.flushable)return e.error?(this.callback(e.error),dust.log("Rendering failed with error `"+e.error+"`",ERROR),void(this.flush=EMPTY_FUNC)):void 0
;this.out+=e.data.join(""),e=e.next,this.head=e}this.callback(null,this.out)},Stream.prototype.flush=function(){for(var e=this.head;e;){if(!e.flushable)return e.error?(this.emit("error",e.error),dust.log("Streaming failed with error `"+e.error+"`",ERROR),void(this.flush=EMPTY_FUNC)):void 0;this.emit("data",e.data.join("")),e=e.next,this.head=e}this.emit("end")},Stream.prototype.emit=function(e,t){var r,n,o=(this.events||{})[e]||[];if(o.length)for(r=0,n=(o=o.slice(0)).length;r<n;r++)o[r](t);else dust.log("Stream broadcasting, but no listeners for `"+e+"`",DEBUG)},Stream.prototype.on=function(e,t){var r=this.events=this.events||{},n=r[e]=r[e]||[];return"function"!=typeof t?dust.log("No callback function provided for `"+e+"` event listener",WARN):n.push(t),this},Stream.prototype.pipe=function(e){return this.on("data",function(t){try{e.write(t,"utf8")}catch(r){dust.log(r,ERROR)}}).on("end",function(){try{e.end()}catch(t){dust.log(t,ERROR)}}).on("error",function(t){e.error(t)})},Chunk.prototype.write=function(e){var t=this.taps;return t&&(e=t.go(e)),this.data.push(e),this},Chunk.prototype.end=function(e){return e&&this.write(e),this.flushable=!0,this.root.flush(),this},Chunk.prototype.map=function(e){var t=new Chunk(this.root,this.next,this.taps),r=new Chunk(this.root,t,this.taps);this.next=r,this.flushable=!0;try{e(r)}catch(n){dust.log(n,ERROR),r.setError(n)}return t},Chunk.prototype.tap=function(e){var t=this.taps;return this.taps=t?t.push(e):new Tap(e),this},Chunk.prototype.untap=function(){return this.taps=this.taps.tail,this},Chunk.prototype.render=function(e,t){return e(this,t)},Chunk.prototype.reference=function(e,t,r,n){return"function"==typeof e&&(e=e.apply(t.current(),[this,t,null,{auto:r,filters:n}]))instanceof Chunk?e:dust.isThenable(e)?this.await(e,t):dust.isEmpty(e)?this:this.write(dust.filter(e,r,n))},Chunk.prototype.section=function(e,t,r,n){var o,i,s=r.block,a=r["else"],u=this;if("function"==typeof e&&!e.__dustBody){try{e=e.apply(t.current(),[this,t,r,n])}catch(c){return dust.log(c,ERROR),this.setError(c)}if(e instanceof Chunk)return e}if(n&&!dust.isEmptyObject(n)&&(t=t.push(n)),dust.isArray(e)){if(s){if((i=e.length)>0){for(t.stack.head&&(t.stack.head.$len=i),o=0;o<i;o++)t.stack.head&&(t.stack.head.$idx=o),u=s(u,t.push(e[o],o,i));return t.stack.head&&(t.stack.head.$idx=undefined,t.stack.head.$len=undefined),u}if(a)return a(this,t)}}else{if(dust.isThenable(e))return this.await(e,t,r);if(!0===e){if(s)return s(this,t)}else if(e||0===e){if(s)return s(this,t.push(e))}else if(a)return a(this,t)}return dust.log("Section without corresponding key in template `"+t.getTemplateName()+"`",DEBUG),this},Chunk.prototype.exists=function(e,t,r){var n=r.block,o=r["else"];if(dust.isEmpty(e)){if(o)return o(this,t)}else{if(n)return n(this,t);dust.log("No block for exists check in template `"+t.getTemplateName()+"`",DEBUG)}return this},Chunk.prototype.notexists=function(e,t,r){var n=r.block,o=r["else"];if(dust.isEmpty(e)){if(n)return n(this,t);dust.log("No block for not-exists check in template `"+t.getTemplateName()+"`",DEBUG)}else if(o)return o(this,t);return this},Chunk.prototype.block=function(e,t,r){var n=e||r.block;return n?n(this,t):this},Chunk.prototype.partial=function(e,t,r){var n;return r&&!dust.isEmptyObject(r)&&(n=(t=t.clone()).pop(),t=t.push(r).push(n)),e.__dustBody||"function"==typeof e?this.capture(e,t,function(e,r){t.templateName=e,dust.load(e,r,t).end()}):(t.templateName=e,dust.load(e,this,t))},Chunk.prototype.helper=function(e,t,r,n){var o,i=this;if(!dust.helpers[e])return dust.log("Helper `"+e+"` does not exist",WARN),i;try{return o=dust.helpers[e](i,t,r,n),dust.isThenable(o)?this.await(o,t,r):o}catch(s){return dust.log("Error in helper `"+e+"`: "+s.message,ERROR),i.setError(s)}},Chunk.prototype.await=function(e,t,r){var n=r&&r.block,o=r&&r.error;return this.map(function(r){e.then(function(e){n?r.render(n,t.push(e)).end():r.end(e)},function(e){o?r.render(o,t.push(e)).end():(dust.log("Unhandled promise rejection in `"+t.getTemplateName()+"`"),r.end())})})},Chunk.prototype.capture=function(e,t,r){return this.map(function(n){var o=new Stub(function(e,t){e?n.setError(e):r(t,n)});e(o.head,t).end()})},Chunk.prototype.setError=function(e){return this.error=e,this.root.flush(),this},Chunk.prototype)dust._aliases[f]&&(Chunk.prototype[dust._aliases[f]]=Chunk.prototype[f]);function Tap(e,t){this.head=e,this.tail=t}return Tap.prototype.push=function(e){return new Tap(e,this)},Tap.prototype.go=function(e){for(var t=this;t;)e=t.head(e),t=t.tail;return e},HCHARS=/[&<>"']/,AMP=/&/g,LT=/</g,GT=/>/g,QUOT=/\"/g,SQUOT=/\'/g,dust.escapeHtml=function(e){return"string"==typeof e||e&&"function"==typeof e.toString?("string"!=typeof e&&(e=e.toString()),HCHARS.test(e)?e.replace(AMP,"&amp;").replace(LT,"&lt;").replace(GT,"&gt;").replace(QUOT,"&quot;").replace(SQUOT,"&#39;"):e):e},BS=/\\/g,FS=/\//g,CR=/\r/g,LS=/\u2028/g,PS=/\u2029/g,NL=/\n/g,LF=/\f/g,SQ=/'/g,DQ=/"/g,TB=/\t/g,dust.escapeJs=function(e){return"string"==typeof e?e.replace(BS,"\\\\").replace(FS,"\\/").replace(DQ,'\\"').replace(SQ,"\\'").replace(CR,"\\r").replace(LS,"\\u2028").replace(PS,"\\u2029").replace(NL,"\\n").replace(LF,"\\f").replace(TB,"\\t"):e},dust.escapeJSON=function(e){return JSON?JSON.stringify(e).replace(LS,"\\u2028").replace(PS,"\\u2029").replace(LT,"\\u003c"):(dust.log("JSON is undefined; could not escape `"+e+"`",WARN),e)},dust}),"function"==typeof define&&define.amd&&!0===define.amd.dust&&define(["require","dust.core"],function(e,t){return t.onLoad=function(t,r){e([t],function(){r()})},t}),function(dust){var helpers,_console="undefined"!=typeof console?console:{log:function(){}};function isSelect(e){var t=e.current();return"object"==typeof t&&!0===t.isSelect}function jsonFilter(e,t){return"function"==typeof t?t.toString():t}function filter(e,t,r,n,o){n=n||{};var i,s=r.block,a=n.filterOpType||"";if("undefined"!=typeof n.key)i=dust.helpers.tap(n.key,e,t);else{
if(!isSelect(t))return _console.log("No key specified for filter in:"+a+" helper "),e;i=t.current().selectKey,t.current().isResolved&&(o=function(){return!1})}return o(coerce(dust.helpers.tap(n.value,e,t),n.type,t),coerce(i,n.type,t))?(isSelect(t)&&(t.current().isResolved=!0),s?e.render(s,t):(_console.log("Missing body block in the "+a+" helper "),e)):r["else"]?e.render(r["else"],t):e}function coerce(e,t,r){if(e)switch(t||typeof e){case"number":return+e;case"string":return String(e);case"boolean":return e="false"!==e&&e,Boolean(e);case"date":return new Date(e);case"context":return r.get(e)}return e}helpers={tap:function(e,t,r){var n=e;return"function"==typeof e&&(!0===e.isFunction?n=e():(n="",t.tap(function(e){return n+=e,""}).render(e,r).untap(),""===n&&(n=!1))),n},sep:function(e,t,r){var n=r.block;return t.stack.index===t.stack.of-1?e:n?r.block(e,t):e},idx:function(e,t,r){return r.block?r.block(e,t.push(t.stack.index)):e},contextDump:function(e,t,r,n){var o,i=n||{},s=i.to||"output",a=i.key||"current";return s=dust.helpers.tap(s,e,t),o="full"===(a=dust.helpers.tap(a,e,t))?JSON.stringify(t.stack,jsonFilter,2):JSON.stringify(t.stack.head,jsonFilter,2),"console"===s?(_console.log(o),e):e.write(o)},"if":function(chunk,context,bodies,params){var cond,body=bodies.block,skip=bodies["else"];if(params&&params.cond){if(cond=params.cond,cond=dust.helpers.tap(cond,chunk,context),eval(cond))return body?chunk.render(bodies.block,context):(_console.log("Missing body block in the if helper!"),chunk);if(skip)return chunk.render(bodies["else"],context)}else _console.log("No condition given in the if helper!");return chunk},math:function(e,t,r,n){if(n&&"undefined"!=typeof n.key&&n.method){var o=n.key,i=n.method,s=n.operand,a=n.round,u=null;switch(o=dust.helpers.tap(o,e,t),s=dust.helpers.tap(s,e,t),i){case"mod":0!==s&&-0!==s||_console.log("operand for divide operation is 0/-0: expect Nan!"),u=parseFloat(o)%parseFloat(s);break;case"add":u=parseFloat(o)+parseFloat(s);break;case"subtract":u=parseFloat(o)-parseFloat(s);break;case"multiply":u=parseFloat(o)*parseFloat(s);break;case"divide":0!==s&&-0!==s||_console.log("operand for divide operation is 0/-0: expect Nan/Infinity!"),u=parseFloat(o)/parseFloat(s);break;case"ceil":u=Math.ceil(parseFloat(o));break;case"floor":u=Math.floor(parseFloat(o));break;case"round":u=Math.round(parseFloat(o));break;case"abs":u=Math.abs(parseFloat(o));break;default:_console.log("method passed is not supported")}return null!==u?(a&&(u=Math.round(u)),r&&r.block?e.render(r.block,t.push({isSelect:!0,isResolved:!1,selectKey:u})):e.write(u)):e}return _console.log("Key is a required parameter for math helper along with method/operand!"),e},select:function(e,t,r,n){var o,i=r.block;return n&&"undefined"!=typeof n.key?(o=dust.helpers.tap(n.key,e,t),i?e.render(r.block,t.push({isSelect:!0,isResolved:!1,selectKey:o})):(_console.log("Missing body block in the select helper "),e)):(_console.log("No key given in the select helper!"),e)},eq:function(e,t,r,n){return n&&(n.filterOpType="eq"),filter(e,t,r,n,function(e,t){return t===e})},ne:function(e,t,r,n){return n?(n.filterOpType="ne",filter(e,t,r,n,function(e,t){return t!==e})):e},lt:function(e,t,r,n){if(n)return n.filterOpType="lt",filter(e,t,r,n,function(e,t){return t<e})},lte:function(e,t,r,n){return n?(n.filterOpType="lte",filter(e,t,r,n,function(e,t){return t<=e})):e},gt:function(e,t,r,n){return n?(n.filterOpType="gt",filter(e,t,r,n,function(e,t){return t>e})):e},gte:function(e,t,r,n){return n?(n.filterOpType="gte",filter(e,t,r,n,function(e,t){return t>=e})):e},"default":function(e,t,r,n){return n&&(n.filterOpType="default"),filter(e,t,r,n,function(e,t){return!0})},size:function(e,t,r,n){var o,i,s,a=0;if((o=(n=n||{}).key)&&!0!==o)if(dust.isArray(o))a=o.length;else if(!isNaN(parseFloat(o))&&isFinite(o))a=o;else if("object"==typeof o){for(s in i=0,o)Object.hasOwnProperty.call(o,s)&&i++;a=i}else a=(o+"").length;else a=0;return e.write(a)}},dust.helpers=helpers}("undefined"!=typeof exports?module.exports=require("dustjs-linkedin"):dust),YUI.add("dust",function(e,t){!function(){"use strict";var t,r,n;function o(){return DARLA.inProgress()}t={adsBase:function(){return function(e){return e.write("\x3c!-- adsBase: Client-Side ads-helpers.js executed --\x3e"),e}},ads:function(e){return function(t,r,n,i){var s,a,u,c,l,d,p=i.pos,f=i.spaceid||"",h=[];return""===p?(t.end("\x3c!-- ads: Client-Side ads-helpers.js executed --\x3e"),!0):(""===f&&(s=r.get("config"),h=r.get("context"),f=e.Af.HelperUtil.getSpaceId(h,s)),a=t,u="yom-ad-"+p+"-iframe",null===document.getElementById(u)&&a.write("<div id="+u+"></div>"),c=p,l=f,d=null,!window.DARLA_CONFIG||!window.DARLA||!DARLA_CONFIG.hasOwnProperty("events")||!DARLA_CONFIG.events.hasOwnProperty("darla_td")||(d=DARLA_CONFIG.events.darla_td,o()&&DARLA.abort(),o()||(d.ps=c,d.name="darla_td",d.sp=l,DARLA.add(d))),t.write("\x3c!-- ads: Client-Side ads-helpers.js executed --\x3e"),t)}}},r=dust,(n=e).Object.each(t,function(e,o){r.helpers[o]=t[o](n)})}(),function(){"use strict";var e,t;function r(e){e.helpers.date=t(e)}t=function(){return function(t,r,n,o){var i,s,a,u,c,l,d,p,f,h,y=e||moment;return(o=o||{}).val?(o.format||(o.format="ll"),i=y(o.val),i="fromNow"===o.format?i.fromNow():o.hasOwnProperty("zone")?(s=i,a=o.zone,null!=a?("number"==typeof a&&(a=-a),s.utcOffset(a,u),s):-s.utcOffset()).format(o.format):i.format(o.format),c=t,l=r,p=o,f=i,(d=n)&&d.block?((h={})[p._name||"selectKey"]=f,c.render(d.block,l.push(h))):c.write(f),c):(console.log("[moment helper] val is a required parameter."),t)}},"undefined"!=typeof exports?module.exports=function(t){e=require("moment"),r(t)}:r(dust)}(),function(){"use strict";var e=function(e){return function(t,r,n,o){var i,s=null;for(i in o)o.hasOwnProperty(i)&&(o[i]=e.helpers.tap(o[i],t,r))
;if("undefined"!=typeof o.index&&o.array&&o.array[o.index])s=o.array[o.index];else if("undefined"!=typeof o.val&&"undefined"!=typeof o.key&&o.array)for(i in o.array)o.array.hasOwnProperty(i)&&"undefined"!=typeof o.array[i][o.key]&&o.array[i][o.key]===o.val&&(s=o.array[i]);return s?t.render(n.block,r.push(s)):(console.error("[deref helper] incorrect params provided"),t)}};function t(t){t.helpers.deref=e(t)}"undefined"!=typeof exports?module.exports=function(e){t(e)}:t(dust)}(),function(){"use strict";var e,t;function r(e){e.helpers.duration=t(e)}t=function(t){return function(r,n,o,i){if(!i)return console.log("[duration helper] we need parameters!"),r;var s,a,u,c,l=e||moment,d="",p=t.helpers.tap(i.delimiter,r,n)||":",f=t.helpers.tap(i.val,r,n)||0,h=t.helpers.tap(i.format,r,n),y=l.duration(Number(f),"seconds");return f?isNaN(Number(f))?(console.log("[duration helper] val has to be a valid number in seconds."),r):("iso8601"===h?d="PY"+y.years()+"M"+y.months()+"D"+y.days()+"TH"+y.hours()+"M"+y.minutes()+"S"+y.seconds():(s=(s=y.days())?s+p:"",a=y.hours(),d=s+(a=s&&a<10?"0"+a+p:a>0?a+p:"")+(u=(u=y.minutes())<10&&a?"0"+u+p:u+p)+(c=(c=y.seconds())<10?"0"+c:c)),r.write(d)):(console.log("[duration helper] duration is a required parameter."),r)}},"undefined"!=typeof exports?module.exports=function(t){e=require("moment"),r(t)}:r(dust)}(),function(){"use strict";var e;function t(t){var r;for(r in e)e.hasOwnProperty(r)&&(t.helpers[r]=e[r](t))}e={i18n_string:function(){return function(e,t,r,n){var o,i,s,a,u,c,l=function(e,t,r){var n={template:"",params:{}},o=r.get("i18n");try{if(n.params=function(e,t,r){var n,o,i,s=function(e){return i+=e,""};for(o in e)e.hasOwnProperty(o)&&(n=o.replace(/v([0-9])*/,"$1"),"function"==typeof e[o]?(i="",t.tap(s).render(e[o],r).untap(),e[n]=i):e[n]=e[o]);return e}(e,t,r),!o[n.params._key])return{template:"\x3c!-- err i18n:"+n.params._key+" not found --\x3e",params:{}};n.template=o[n.params._key]}catch(i){}return n}(n,e,t);return o=e,i=t,s=r,a=n,u=function(e,t){var r;for(r in t)t.hasOwnProperty(r)&&(e=e.replace("{"+r+"}",t[r]));return e}(l.template,l.params),s&&s.block?((c={})[a._name||"selectKey"]=u,o.render(s.block,i.push(c))):o.write(u),o}},l10n_datetime:function(e){return function(t,r,n,o){var i=e.helpers.tap(o.value,t,r),s=new Date(1e3*i);return t.write(s.toLocaleString())}}},"undefined"!=typeof exports?module.exports=function(e){t(e)}:t(dust)}(),function(){"use strict";function e(e,t){if(!e)return undefined;var r,n=t.length;for(r=0;e!==undefined&&r<n;r+=1)e=e[t[r]];return e}function t(){return"undefined"!=typeof exports}var r=function(r){return function(n,o,i,s){var a,u,c,l,d,p,f,h="",y=!1,m="ImageLoader",g=m,k=o.get("context")||{},w=(l=k,p=!1,t()?p=l.ssl&&"0"!==l.ssl:(d=e(document,["location","protocol"]))&&-1!==d.indexOf("https")&&(p=!0),p),b=o.get("config")||{},v=b.params&&b.params.m_id,x=o.get("assetPrefix"),O=(x||(w?"https://s":"http://l")+".yimg.com/")+"os/mit/ape/m/81f43c2/t.gif";for(a in(s=s||{}).base&&delete(s=function(e,t){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}(s.base,s)).base,s)s.hasOwnProperty(a)&&(s[a]=r.helpers.tap(s[a],n,o));if(!s.src)return v?console.error("["+v+"][img helper] src is a required parameter."):console.error("[img helper] src is a required parameter."),n;if(w&&(-1===s.src.indexOf("https://")&&(s.src=s.src.replace(/^http:\/\/l/,"https://s")),s.style&&-1!==s.style.indexOf("url(")&&-1===s.style.indexOf("https://")&&/url\((.*)\)/i.test(s.style)&&(s.style=s.style.replace(/http:\/\/l/,"https://s"))),"string"!=typeof s.src||!s.src.length)return console.log("[img helper] wont render image without valid src"),n;if("undefined"==typeof s.defer&&(s.defer=t()?"1":"0"),"1"===e(b.params,["in_viewport"])&&(s.defer="0"),"svg"===(u=s.src.split(".").pop())&&!s.fallback)return console.log('[img helper] "fallback" image property is required if svg is used.'),n;for(a in s.group&&(m="ImageLoader-Group",delete s.group),"svg"===u&&(s["class"]=s["class"]?s["class"]+" "+m:m,s["data-imageloader-src"]=s.src,s["data-imageloader-fallback"]=s.fallback,s.src=O,y=!0,delete s.fallback),x&&(f=s.src,/^:\d{2,4}(?=\/)|^(?:[a-z]+:)?\/\//i.test(f))&&"gif"!==u&&-1!==s.src.indexOf("yimg.com")&&"1"!==s.defer&&("/"===x.substr(-1)&&(x=x.substr(0,x.length-1)),(c=s.src.match(/^[^#]*?:*?\/\/.*?(\/.*)$/i))&&c[1]&&(s.src=x+c[1])),"1"!==s.ondemand&&"1"!==s.defer||y||(h="background-image:url('"+s.src+"')",m="1"===s.ondemand?g+" ImageLoader-Delayed":m,s["class"]=s["class"]?s["class"]+" "+m:m,s.style=s.style?s.style+";"+h:h,s.src=O),s.alt||(s.alt=""),n.write("<img"),delete s.ondemand,delete s.defer,s)s.hasOwnProperty(a)&&n.write(" "+a+'="'+s[a]+'"');return n.write(">"),n}};function n(e){e.helpers.img=r(e)}t()?module.exports=function(e){n(e)}:n(dust)}(),function(){"use strict";var e;function t(){return"undefined"!=typeof exports}function r(t){t.helpers.link=e(t)}e=function(e){return function(r,n,o,i){var s,a,u,c="",l="",d="",p=null,f={},h={},y=n.get("state")||{},m="",g=[],k=[],w={write:function(e){m+=e}};for(s in i)i.hasOwnProperty(s)&&(c=e.helpers.tap(i[s],r,n),"name"===s?u=c:"query"===s?d=c:"class"===s?l=c:"rapid-"===s.substring(0,6)?(p||(p={}),"rapid-base"===s?p[s]=c:p[s.replace("rapid-","")]=c):"data-"===s.substring(0,5)?h[s]=c.replace(/"/g,"&quot"):f[s]=c);if(p&&(e.helpers.rapid_data_attr(w,n,o,p),m))for(s in g=m.split(" "))g.hasOwnProperty(s)&&"data-"===g[s].substring(0,5)&&(k=g[s].match(/(.*?)=\"(.*?)\"/))&&(h[k[1]]=k[2]);try{a=t()?y.genUrl:genUrl}catch(b){return console.log("getting routes or express map path to error: "+b),r}if(!a)return r;r.write("<a");try{r.write(' href="'+a(u,f)+(d?"?"+d:"")+'"')}catch(v){console.log("generate url fail with error: "+v)}for(s in l&&r.write(' class="'+l+'"'),h)h.hasOwnProperty(s)&&(c=h[s],r.write(" "+s+'="'+c+'"'));return r.write(">"),o.block&&o.block(r,n),r.write("</a>"),r}},t()?module.exports={linkInstance:function(e){r(e)},linkHelper:e}:r(dust)}(),function(){"use strict"
;var e=function(e){return function(t,r,n,o){return(o=o||{}).value?(t.write((i=e.helpers.tap(o.value,t,r))+((s=["th","st","nd","rd"])[((a=i%100)-20)%10]||s[a]||s[0])),t):(console.log("[ordinal helper] value is a required parameter."),t);var i,s,a}};function t(t){t.helpers.ordinal=e(t)}"undefined"!=typeof exports?module.exports=function(e){t(e)}:t(dust)}(),function(){"use strict";var e,t;function r(e){var r;for(r in t)t.hasOwnProperty(r)&&(e.helpers[r]=t[r](e))}t={rapid_init:function(){return function(t,r,n,o){return function(t,r,n){n=n||{};var o,i,s=r.get("context")||[],a=r.get("config")||{},u=n.spaceid||"";if(void 0===e)return t.write(""),void console.log("@rapid_init helper is only supported server side.");""===u&&(u=e.getSpaceId(s,a)),i=a.rapidSettings||{},o={spaceid:u||i.default_spaceid||"",client_only:i.hasOwnProperty("client_only")?i.client_only:1,test_id:i.test_id||"",compr_type:"deflate",webworker_file:i.webworker_file||"",text_link_len:i.text_link_len||8,keys:i.keys||{},tracked_mods:i.tracked_mods||[],perf_navigationtime:i.perf_navigationtime||0,perf_resourcetime:i.perf_resourcetime||0,nofollow_class:i.nofollow_class||[],pageview_on_init:i.pageview_on_init===undefined||!!i.pageview_on_init,ult_token_capture:"boolean"==typeof i.ult_token_capture&&i.ult_token_capture},t.write("<script>window.YAHOO = window.YAHOO || {}; window.YAHOO.i13n = window.YAHOO.i13n || {}; if (!window.YMedia) { var YMedia = YUI(); YMedia.includes = []; }<\/script>"),t.write("<script>YMedia.rapid = new YAHOO.i13n.Rapid("+JSON.stringify(o)+");<\/script>")}(t,r,o),t.write("\x3c!-- RAPID INIT --\x3e"),t}},rapid_data_attr:function(e){return function(t,r,n,o){var i=function(e,t,r,n){var o,i,s="",a="",u="";for(o in e["rapid-base"]&&delete(e=function(e,t){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}(e["rapid-base"],e))["rapid-base"],e)if(e.hasOwnProperty(o))switch(i=n.helpers.tap(e[o],t,r),o){case"outcome":s+='data-action-outcome="'+i+'"';break;case"action":a+='data-action="'+i+'"';break;default:u+=o+":"+i+";"}return""!==u&&(u='data-ylk="'+u+'"'),[s,a,u].join(" ")}(o,t,r,e);return t.write(i),t}}},"undefined"!=typeof exports?(e=require("./util"),module.exports={rapidInstance:function(e){r(e)},rapidHelpers:t}):r(dust)}(),function(){"use strict";var e=function(e){return function(t,r,n,o){return t.map(function(t){var n=o.tag||"div",i=e.helpers.tap(o.id,t,r),s=o["class"],a=undefined===o.wrap?1:o.wrap,u=e.helpers.tap(o.name,t,r),c=(r.get("regions")||{})[u];if(a&&(t.write("<"+n+' data-region="'+u+'"'),i&&t.write(' id="'+i+'"'),s&&t.write(' class="'+s+'"'),t.write(">")),c)if("string"==typeof c)t.write(c);else if("function"==typeof c)c(function(e){t.write(e)});else if("object"==typeof c&&"function"==typeof c.resume)return c.on("data",function(e){e&&t.write(e)}),c.on("end",function(){a?t.end("</"+n+">\x3c!--END "+u+"--\x3e"):t.end()}),void c.resume();a?t.end("</"+n+">\x3c!--END "+u+"--\x3e"):t.end()})}};function t(t){t.helpers.region=e(t)}"undefined"!=typeof exports?module.exports=function(e){t(e)}:t(dust)}(),function(){"use strict";var e;function t(t){t.helpers.share_btn=e(t)}e=function(e){return function(t,r,n,o){var i,s,a={},u={container:{}};for(i in o)o.hasOwnProperty(i)&&(s=e.helpers.tap(o[i],t,r),"data-"===i.substring(0,5)?u.container[i]=s:a[i]=s);switch(a.tag=a.tag||"span",a.url=a.url||"#",a.size=a.size||"Fz-3xl",a.code){case"facebook":a.code="&#xe000;";break;case"tumblr":a.code="&#xe071;";break;case"gplus":a.code="&#xe07e;";break;case"twitter":a.code="&#xe001;";break;case"pinterest":a.code="&#xe07f;";break;case"email":a.code="&#xe07d;";break;case"line":a.code="&#xe07b;";break;case"yahoo":a.code="&#xe051;"}if(a.code&&null===a.code.match(/&#.{5};/))t.write("");else{for(i in t.write("<"+a.tag),a.c0&&t.write(' class="'+a.c0+'"'),t.write(' tabindex="0"'),u.container)u.container.hasOwnProperty(i)&&(s=u.container[i],t.write(" "+i+'="'+s+'"'));t.write(">"),t.write('<a role="link" target="_blank" '),t.write('class="rapidnofollow Icon Mini Ta-c NoLinkColor NoTextDecoration '),a.c1&&t.write(a.c1+" "),t.write(a.size+'" href="'+a.url+'"'),a.tooltip&&t.write(' title="'+a.tooltip+'"'),n.block&&(t.write(" "),n.block(t,r)),t.write(">"),t.write(a.code),t.write("</a>"),t.write("</"+a.tag+">")}return t}},"undefined"!=typeof exports?module.exports=function(e){t(e)}:t(dust)}(),function(){"use strict";var e=new RegExp(/\s([^\s<]+)\s*$/),t=function(t){return function(r,n,o,i){return(i=i||{}).text?(r.write(t.helpers.tap(i.text).replace(e,"&nbsp;$1")),r):(console.log("[textNoWrapHelper helper] text is a required parameter."),r)}};function r(e){e.helpers.textNoWrap=t(e)}"undefined"!=typeof exports?module.exports=function(e){r(e)}:r(dust)}(),function(){"use strict";var t={getSpaceId:function(e,t){var r;if(t.hasOwnProperty("urlSpaceId")&&"true"===t.urlSpaceId&&null!==e.urlPath&&e.urlPath!==undefined&&t.hasOwnProperty("urlSpaceIdMap"))for(r in t.urlSpaceIdMap)if(t.urlSpaceIdMap.hasOwnProperty(r)&&!0===new RegExp(r).test(e.urlPath))return t.urlSpaceIdMap[r];return t.spaceid}};"object"==typeof module&&"undefined"!=typeof module.exports?module.exports=t:e.namespace("Af").HelperUtil=t}(),dust.load=function(e,t,r){var n,o=r.get("applet_type"),i=e;return o&&dust.cache[o+"-templates-"+e]&&(i=o+"-templates-"+e),(n=dust.cache[i])?n(t,r):dust.onLoad?t.map(function(e){dust.onLoad(i,function(t,n){if(t)return e.setError(t);dust.cache[i]||dust.loadSource(dust.compile(n,i)),dust.cache[i](e,r).end()})}):t.setError(new Error("Template Not Found: "+i))}},"@VERSION@",{requires:["stencil-imageloader","moment","intl-helper"]});(function(t){var e,n,s=Math.round,i={},r="undefined"!=typeof module&&module.exports,a=/^\/?Date\((\-?\d+)/i,o=/(\-)?(\d*)?\.?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,u=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,h=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,d=/\d\d?/,c=/\d{1,3}/,f=/\d{3}/,l=/\d{1,4}/,_=/[+\-]?\d{1,6}/,m=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,y=/Z|[\+\-]\d\d:?\d\d/i,M=/T/i,g=/[\+\-]?\d+(\.\d{1,3})?/,D=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,p=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Y=/([\+\-]|\d\d)/gi,w="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),k={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},v={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",M:"month",y:"year"},T={},b="DDD w W M D d".split(" "),S="M D H h m s w W".split(" "),F={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return W(this.year()%100,2)},YYYY:function(){return W(this.year(),4)},YYYYY:function(){return W(this.year(),5)},gg:function(){return W(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return W(this.weekYear(),5)},GG:function(){return W(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return W(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return W(~~(this.milliseconds()/10),2)},SSS:function(){return W(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+W(~~(t/60),2)+":"+W(~~t%60,2)},ZZ:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+W(~~(10*t/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};function O(t,e){return function(n){return W(t.call(this,n),e)}}function z(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}for(;b.length;)n=b.pop(),F[n+"o"]=z(F[n],n);for(;S.length;)n=S.pop(),F[n+n]=O(F[n],2);function C(){}function L(t){P(this,t)}function H(t){var e=t.years||t.year||t.y||0,n=t.months||t.month||t.M||0,s=t.weeks||t.week||t.w||0,i=t.days||t.day||t.d||0,r=t.hours||t.hour||t.h||0,a=t.minutes||t.minute||t.m||0,o=t.seconds||t.second||t.s||0,u=t.milliseconds||t.millisecond||t.ms||0;this._input=t,this._milliseconds=u+1e3*o+6e4*a+36e5*r,this._days=i+7*s,this._months=n+12*e,this._data={},this._bubble()}function P(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function U(t){return t<0?Math.ceil(t):Math.floor(t)}function W(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function x(t,n,s,i){var r,a,o=n._milliseconds,u=n._days,h=n._months;o&&t._d.setTime(+t._d+o*s),(u||h)&&(r=t.minute(),a=t.hour()),u&&t.date(t.date()+u*s),h&&t.month(t.month()+h*s),o&&!i&&e.updateOffset(t),(u||h)&&(t.minute(r),t.hour(a))}function A(t){return"[object Array]"===Object.prototype.toString.call(t)}function G(t,e){var n,s=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),r=0;for(n=0;n<s;n++)~~t[n]!=~~e[n]&&r++;return r+i}function Z(t){return t?v[t]||t.toLowerCase().replace(/(.)s$/,"$1"):t}function E(t){if(!t)return e.fn._lang;if(!i[t]&&r)try{require("./lang/"+t)}catch(n){return e.fn._lang}return i[t]}function N(t,e){var n=5;function s(e){return t.lang().longDateFormat(e)||e}for(;n--&&h.test(e);)e=e.replace(h,s);return T[e]||(T[e]=function(t){var e,n,s,i=t.match(u);for(e=0,n=i.length;e<n;e++)F[i[e]]?i[e]=F[i[e]]:i[e]=(s=i[e]).match(/\[.*\]/)?s.replace(/^\[|\]$/g,""):s.replace(/\\/g,"");return function(s){var r="";for(e=0;e<n;e++)r+=i[e]instanceof Function?i[e].call(s,t):i[e];return r}}(e)),T[e](t)}function I(t,e){switch(t){case"DDDD":return f;case"YYYY":return l;case"YYYYY":return _;case"S":case"SS":case"SSS":case"DDD":return c;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return m;case"a":case"A":return E(e._l)._meridiemParse;case"X":return g;case"Z":case"ZZ":return y;case"T":return M;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return d;default:return new RegExp(t.replace("\\",""))}}function V(t){var e=((y.exec(t)||[])[0]+"").match(Y)||["-",0,0],n=60*e[1]+~~e[2];return"+"===e[0]?-n:n}function J(t,e,n){var s,i=n._a;switch(t){case"M":case"MM":i[1]=null==e?0:~~e-1;break;case"MMM":case"MMMM":null!=(s=E(n._l).monthsParse(e))?i[1]=s:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":null!=e&&(i[2]=~~e);break;case"YY":i[0]=~~e+(~~e>68?1900:2e3);break;case"YYYY":case"YYYYY":i[0]=~~e;break;case"a":case"A":n._isPm=E(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":i[3]=~~e;break;case"m":case"mm":i[4]=~~e;break;case"s":case"ss":i[5]=~~e;break;case"S":case"SS":case"SSS":i[6]=~~(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=V(e)}null==e&&(n._isValid=!1)}function R(t){var e,n,s=[];if(!t._d){for(e=0;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e]
;s[3]+=~~((t._tzm||0)/60),s[4]+=~~((t._tzm||0)%60),n=new Date(0),t._useUTC?(n.setUTCFullYear(s[0],s[1],s[2]),n.setUTCHours(s[3],s[4],s[5],s[6])):(n.setFullYear(s[0],s[1],s[2]),n.setHours(s[3],s[4],s[5],s[6])),t._d=n}}function X(t){var e,n,s=t._f.match(u),i=t._i;for(t._a=[],e=0;e<s.length;e++)(n=(I(s[e],t).exec(i)||[])[0])&&(i=i.slice(i.indexOf(n)+n.length)),F[s[e]]&&J(s[e],n,t);i&&(t._il=i),t._isPm&&t._a[3]<12&&(t._a[3]+=12),!1===t._isPm&&12===t._a[3]&&(t._a[3]=0),R(t)}function $(e){var n=e._i,s=a.exec(n);n===t?e._d=new Date:s?e._d=new Date(+s[1]):"string"==typeof n?function(t){var e,n=t._i,s=D.exec(n);if(s){for(t._f="YYYY-MM-DD"+(s[2]||" "),e=0;e<4;e++)if(p[e][1].exec(n)){t._f+=p[e][0];break}y.exec(n)&&(t._f+=" Z"),X(t)}else t._d=new Date(n)}(e):A(n)?(e._a=n.slice(0),R(e)):e._d=n instanceof Date?new Date(+n):new Date(n)}function j(t,n,s){var i,r=s-n,a=s-t.day();return a>r&&(a-=7),a<r-7&&(a+=7),i=e(t).add("d",a),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function q(t){var n=t._i,s=t._f;return null===n||""===n?null:("string"==typeof n&&(t._i=n=E().preparse(n)),e.isMoment(n)?(t=P({},n))._d=new Date(+n._d):s?A(s)?function(t){var e,n,s,i,r,a=99;for(i=0;i<t._f.length;i++)(e=P({},t))._f=t._f[i],X(e),n=new L(e),r=G(e._a,n.toArray()),n._il&&(r+=n._il.length),r<a&&(a=r,s=n);P(t,s)}(t):X(t):$(t),new L(t))}function B(t,n){e.fn[t]=e.fn[t+"s"]=function(t){var s=this._isUTC?"UTC":"";return null!=t?(this._d["set"+s+n](t),e.updateOffset(this),this):this._d["get"+s+n]()}}for(F.DDDD=O(F.DDD,3),C.prototype={set:function(t){var e,n;for(n in t)"function"==typeof(e=t[n])?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var n,s,i;for(this._monthsParse||(this._monthsParse=[]),n=0;n<12;n++)if(this._monthsParse[n]||(s=e([2e3,n]),i="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),this._monthsParse[n].test(t))return n},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var n,s,i;for(this._weekdaysParse||(this._weekdaysParse=[]),n=0;n<7;n++)if(this._weekdaysParse[n]||(s=e([2e3,1]).day(n),i="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[n].test(t))return n},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase()[0]},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,s){var i=this._relativeTime[n];return"function"==typeof i?i(t,e,n,s):i.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return j(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}},(e=function(t,e,n){return q({_i:t,_f:e,_l:n,_isUTC:!1})}).utc=function(t,e,n){return q({_useUTC:!0,_isUTC:!0,_l:n,_i:t,_f:e})},e.unix=function(t){return e(1e3*t)},e.duration=function(t,n){var s,i,r=e.isDuration(t),a="number"==typeof t,u=r?t._input:a?{}:t,h=o.exec(t);return a?n?u[n]=t:u.milliseconds=t:h&&(s="-"===h[1]?-1:1,u={y:0,d:~~h[2]*s,h:~~h[3]*s,m:~~h[4]*s,s:~~h[5]*s,ms:~~h[6]*s}),i=new H(u),r&&t.hasOwnProperty("_lang")&&(i._lang=t._lang),i},e.version="2.1.0",e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.updateOffset=function(){},e.lang=function(t,n){if(!t)return e.fn._lang._abbr;var s,r;n?(s=t,(r=n).abbr=s,i[s]||(i[s]=new C),i[s].set(r),i[s]):i[t]||E(t),e.duration.fn._lang=e.fn._lang=E(t)},e.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),E(t)},e.isMoment=function(t){return t instanceof L},e.isDuration=function(t){return t instanceof H},e.fn=L.prototype={clone:function(){return e(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return N(e(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return null==this._isValid&&(this._a?this._isValid=!G(this._a,(this._isUTC?e.utc(this._a):e(this._a)).toArray()):this._isValid=!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var n=N(this,t||e.defaultFormat);return this.lang().postformat(n)},
add:function(t,n){return x(this,"string"==typeof t?e.duration(+n,t):e.duration(t,n),1),this},subtract:function(t,n){return x(this,"string"==typeof t?e.duration(+n,t):e.duration(t,n),-1),this},diff:function(t,n,s){var i,r,a=this._isUTC?e(t).zone(this._offset||0):e(t).local(),o=6e4*(this.zone()-a.zone());return"year"===(n=Z(n))||"month"===n?(i=432e5*(this.daysInMonth()+a.daysInMonth()),r=12*(this.year()-a.year())+(this.month()-a.month()),r+=(this-e(this).startOf("month")-(a-e(a).startOf("month")))/i,r-=6e4*(this.zone()-e(this).startOf("month").zone()-(a.zone()-e(a).startOf("month").zone()))/i,"year"===n&&(r/=12)):(i=this-a,r="second"===n?i/1e3:"minute"===n?i/6e4:"hour"===n?i/36e5:"day"===n?(i-o)/864e5:"week"===n?(i-o)/6048e5:i),s?r:U(r)},from:function(t,n){return e.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!n)},fromNow:function(t){return this.from(e(),t)},calendar:function(){var t=this.diff(e().startOf("day"),"days",!0),n=t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){var t=this.year();return t%4==0&&t%100!=0||t%400==0},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?"string"==typeof t&&"number"!=typeof(t=this.lang().weekdaysParse(t))?this:this.add({d:t-e}):e},month:function(t){var n,s=this._isUTC?"UTC":"";return null!=t?"string"==typeof t&&"number"!=typeof(t=this.lang().monthsParse(t))?this:(n=this.date(),this.date(1),this._d["set"+s+"Month"](t),this.date(Math.min(n,this.daysInMonth())),e.updateOffset(this),this):this._d["get"+s+"Month"]()},startOf:function(t){switch(t=Z(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),this},endOf:function(t){return this.startOf(t).add(t,1).subtract("ms",1)},isAfter:function(t,n){return n=void 0!==n?n:"millisecond",+this.clone().startOf(n)>+e(t).startOf(n)},isBefore:function(t,n){return n=void 0!==n?n:"millisecond",+this.clone().startOf(n)<+e(t).startOf(n)},isSame:function(t,n){return n=void 0!==n?n:"millisecond",+this.clone().startOf(n)==+e(t).startOf(n)},min:function(t){return(t=e.apply(null,arguments))<this?this:t},max:function(t){return(t=e.apply(null,arguments))>this?this:t},zone:function(t){var n=this._offset||0;return null==t?this._isUTC?n:this._d.getTimezoneOffset():("string"==typeof t&&(t=V(t)),Math.abs(t)<16&&(t*=60),this._offset=t,this._isUTC=!0,n!==t&&x(this,e.duration(n-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},daysInMonth:function(){return e.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(t){var n=s((e(this).startOf("day")-e(this).startOf("year"))/864e5)+1;return null==t?n:this.add("d",t-n)},weekYear:function(t){var e=j(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=j(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=j(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},lang:function(e){return e===t?this._lang:(this._lang=E(e),this)}},n=0;n<w.length;n++)B(w[n].toLowerCase().replace(/s$/,""),w[n]);function K(t){e.duration.fn[t]=function(){return this._data[t]}}function Q(t,n){e.duration.fn["as"+t]=function(){return+this/n}}for(n in B("year","FullYear"),e.fn.days=e.fn.day,e.fn.months=e.fn.month,e.fn.weeks=e.fn.week,e.fn.isoWeeks=e.fn.isoWeek,e.fn.toJSON=e.fn.toISOString,e.duration.fn=H.prototype={_bubble:function(){var t,e,n,s,i=this._milliseconds,r=this._days,a=this._months,o=this._data;o.milliseconds=i%1e3,t=U(i/1e3),o.seconds=t%60,e=U(t/60),o.minutes=e%60,n=U(e/60),o.hours=n%24,r+=U(n/24),o.days=r%30,a+=U(r/30),o.months=a%12,s=U(a/12),o.years=s},weeks:function(){return U(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*~~(this._months/12)},humanize:function(t){var e,n,i,r,a,o,u,h,d,c=+this,f=(e=c,n=!t,i=this.lang(),r=s(Math.abs(e)/1e3),a=s(r/60),o=s(a/60),u=s(o/24),h=s(u/365),(d=r<45&&["s",r]||1===a&&["m"]||a<45&&["mm",a]||1===o&&["h"]||o<22&&["hh",o]||1===u&&["d"]||u<=25&&["dd",u]||u<=45&&["M"]||u<345&&["MM",s(u/30)]||1===h&&["y"]||["yy",h])[2]=n,d[3]=e>0,d[4]=i,function(t,e,n,s,i){return i.relativeTime(e||1,!!n,t,s)}.apply({},d));return t&&(f=this.lang().pastFuture(c,f)),this.lang().postformat(f)},add:function(t,n){var s=e.duration(t,n);return this._milliseconds+=s._milliseconds,this._days+=s._days,this._months+=s._months,this._bubble(),this},subtract:function(t,n){var s=e.duration(t,n);return this._milliseconds-=s._milliseconds,this._days-=s._days,this._months-=s._months,this._bubble(),this},get:function(t){return this[(t=Z(t)).toLowerCase()+"s"]()},as:function(t){return this["as"+(t=Z(t)).charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:e.fn.lang},k)k.hasOwnProperty(n)&&(Q(n,k[n]),K(n.toLowerCase()));Q("Weeks",6048e5),e.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},e.lang("en",{ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),r&&(module.exports=e),"undefined"==typeof ender&&(this.moment=e),"function"==typeof define&&define.amd&&define("moment",[],function(){return e})}).call(this),YUI.add("moment",function(t,e){},"@VERSION@");YUI.add("highlander-client-templates-viewer-controls",function(e,n){dust.cache=dust.cache||{},dust.cache[n]=function(e){function n(e,n){return e.w('<style>\n.PageOverlay {\n    background-color: rgba(255,255,255,0.9);\n}\n@media all and (orientation:landscape) {\n    #Stencil #Share {\n        min-width: 350px;\n    }\n    #Stencil #Share a {\n        width: 25%;\n        border-bottom: none;\n        padding-top: 0;\n        text-align: center;\n    }\n    #Stencil #Share .Icon {\n        padding-bottom: 5px;\n    }\n    #Stencil #Share b {\n        display: block;\n    }\n}\n</style>\n<div class="Header Pos-f Z-10 T-0 W-100 NoLinkColor">\n    <a id="CloseReaderBtn" href="').x(n.get(["isDeepLink"],!1),n,{"else":t,block:a},{}).w('" class="Pos-r Z-3 Fl-start" data-ylk="sec:hl-viewer;slk:close;elm:btn;itc:0;">\n        <i class="Icon Fz-2xl Va-m W-a Px-10 Pend-20" style="color:#500095">&#xe603;</i>\n        <b class="Hidden">').f(n.get(["BACK"],!1),n,"h").w("</b>\n    </a>\n    ").nx(n.get(["canvassFullScreen"],!1),n,{block:l},{}).w("\n</div>\n").nx(n.get(["canvassFullScreen"],!1),n,{block:i},{})}function t(e,n){return e.w("/")}function a(e,n){return e.f(n.get(["frontpagePath"],!1),n,"h")}function l(e,n){return e.w('\n<button id="ShareBtn" class="ButtonNaked Fl-end Ta-c Va-m" data-plugin=\'lightbox\' data-lightbox=\'{"target":"#Share","default":{"show":{"autohide":1, "closebtn":".icon-share-close"}}}\'>\n        <i class="Icon W-a Va-m Fz-2xl P-10 Pt-8" style="color:#500095">').x(n.get(["isIos"],!1),n,{"else":s,block:o},{}).w('</i>\n        <b class="Hidden">').f(n.get(["SHARE"],!1),n,"h").w("</b>\n    </button>\n    ")}function s(e,n){return e.w("&#xe01c;")}function o(e,n){return e.w("&#xe600;")}function i(e,n){return e.w('\n<div id="Share" class="Modal Modal-off Dn Mx-10 Bd-1" aria-labbelledby="ModalTitle">\n    <div class="share">\n        <h2 id="ModalTitle" class="Fz-m">').f(n.get(["SHARE"],!1),n,"h").w('</h2>\n        <p class="Fz-l Fw-b js-hl-share-title">').f(n.get(["title"],!1),n,"h").w('</p>\n        <div role="menu" class="GridSpread My-20 Pt-20" style="border-top: 4px solid #555;">\n            <a href="#0" target="_blank" role="menuitem" class="Grid-U NoLinkColor js-hl-share-tumblr Td-n Bd-b W-45 Pb-20 Fz-s Bxz-bb">\n                <i class="Icon Fz-30 Tumblr-color Pend-5 Va-m">&#xe071;</i>\n                <b class="Va-m">').f(n.get(["TUMBLR"],!1),n,"h").w('</b>\n            </a>\n            <a href="#0" target="_blank" role="menuitem" class="Grid-U NoLinkColor js-hl-share-twitter Td-n Bd-b W-45 Pb-20 Fz-s Bxz-bb">\n                <i class="Icon Fz-30 Twitter-color Pend-5 Va-m">&#xe001;</i>\n                <b class="Va-m">').f(n.get(["TWITTER"],!1),n,"h").w('</b>\n            </a>\n            <a href="#0" target="_blank" role="menuitem" class="Grid-U NoLinkColor js-hl-share-facebook Td-n Pt-20 W-45 Fz-s Bxz-bb">\n                <i class="Icon Fz-30 Facebook-color Pend-5 Va-m">&#xe000;</i>\n                <b class="Va-m">').f(n.get(["FACEBOOK"],!1),n,"h").w('</b>\n            </a>\n            <a href="#0" role="menuitem" class="Grid-U NoLinkColor js-hl-share-mail Td-n W-45 Pt-20 Fz-s Bxz-bb">\n                <i class="Icon Fz-30 Mail-color Pend-5 Va-m">&#xe07d;</i>\n                <b class="Va-m">').f(n.get(["MAIL"],!1),n,"h").w('</b>\n            </a>\n        </div>\n    </div>\n    <button class="icon-share-close Pos-a T-0 End-0 M-10 Fz-xs P-2 Bd-0" data-plugin="lightbox" data-lightbox=\'{"default":"hide"}\'>\n        <b class="Hidden">').f(n.get(["CLOSE"],!1),n,"h").w("</b>\n    </button>\n</div>\n")}return dust.register("highlander-client-templates-viewer-controls",n),n.__dustBody=!0,t.__dustBody=!0,a.__dustBody=!0,l.__dustBody=!0,s.__dustBody=!0,o.__dustBody=!0,i.__dustBody=!0,n}(),dust.cache["highlander-client:viewer-controls.dust"]=dust.cache["highlander-client:viewer-controls"]=dust.cache[n],e.Template._cache=e.Template._cache||{},e.Template._cache["highlander-client/templates/viewer-controls"]=function(e,t){e=e||{},dust.render(n,e,t)}},"@VERSION@",{requires:["template-base","dust"]});YUI.add("highlander-client",function(e,i){"use strict";var t=e.Object.keys,n="td-applet-viewer",a={once:!0};function r(t){var r=this;e.Af.Config,this.inlineViewer=t&&t.inlineViewer,this.stickerTarget=t&&t.stickerTarget||"#UH",this.viewerAppletType=t&&t.viewerAppletType||n,this.magazineViewerEnabled=t&&t.magazineViewerEnabled,this.mode=t&&t.viewer&&t.viewer.highlanderMode||"",this.viewerBlacklistDisable=t&&t.viewerBlacklistDisable,this.viewerGuid=this.findViewer(),this.offnetDeeplink=t&&t.viewer&&t.viewer.offnetDeeplink||!1,this.viewerGuid?(this.viewer=new e.Highlander.Viewer(this,t),this.dwelltime=!!e.Af.Dwelltime&&new e.Af.Dwelltime,this.tracking=new e.Highlander.Tracking(this,t),this.content=new e.Highlander.Content(this,t)):e.Af.Beacon.error(i,{},{code:"noviewer"},a),e.Global.on(["stream:template","stream:filter"],function(e){r.inlineCapable="items"===e.template||"tiles"===e.template||"mags-tiles"===e.template,r.streamByRow="mags-tiles"===e.template,r.template=e.template})}r.prototype={initializer:function(){this.viewerGuid&&(this.routes=new e.Highlander.Routes(this))},findViewer:function(){var i=this,n=e.Af.Bootstrap.find(function(e,t){return!(!t||t.applet_type!==i.viewerAppletType)});return n?t(n)[0]:null},showViewer:function(i,t,n,a,r){var l="desktop"===e.Af.Config.getContext("device");this.inlineViewer&&this.inlineCapable?this.viewer.expand(i,t):this.viewer.show(i,t,n,a,r),l&&e.Af.Event.fire("video-manager:disable"),e.Af.Event.fire("modal:show")},hideViewer:function(i,t){var n="desktop"===e.Af.Config.getContext("device"),a=!0,r=!1;"mega-modal"!==this.mode&&(a=!!n&&"none"!==e.one("#MainView").getStyle("display"),r=this.inlineViewer&&this.inlineCapable&&a),r?this.viewer.collapse(i,t):this.viewer.hide(i,t),this.tracking.handlePageview({useAppSpaceId:!0,useFilterSpaceId:!0,isViewerHide:!0}),n&&e.Af.Event.fire("video-manager:enable"),e.Af.Event.fire("modal:hide")}},e.namespace("Highlander").Client=r},"@VERSION@",{langBundles:["strings"],requires:["event-custom-base","event-tap","af-beacon","af-bootstrap","af-config","af-content","af-event","af-dwelltime","af-utils","highlander-content","highlander-tracking","highlander-routes","highlander-viewer"]});YUI.add("mjata-bind-model2dom",function(t){"use strict";var e,n,a="tmpl",i=null,o=t.Lang,r=t.Mjata,c=r.ModelStore,d=r.Util,s=o.isFunction,u=o.isString,l=r.Template.render,h=t.Object.size,f={},g=!1,p=function(){},v={};function m(t,e){return t&&t._node&&t.empty().setHTML(e)}function b(t,e){var n=t&&e&&s(t.getData)&&t.getData(e);return n&&d.strParseKV(n)||{}}function _(t){var e,n,a;return t._isYUIModel?e="data-model":t._isYUIModelList&&(e="data-list"),n=t.constructor.NAME,a=t.get&&t.get("id"),e&&n&&a?"["+e+'="'+n+"@"+a+'"]':i}function k(e,n,a){var i=[];return e&&n&&e.all("[data-attr]").each(function(e){var o,r,c=e.getData("attr"),u=c.split("."),l=u.shift(),h=u.join(".");t.Object.owns(n,l)&&(o=h?d.objGet(n[l].prevVal,h):n[l].prevVal,r=h?d.objGet(n[l].newVal,h):n[l].newVal,d.objEqual(o,r)||(s(a)&&a(e,c,o,r),i.push(e)))}),i}function j(e,n){var a=n&&n["class"];e&&e.length&&a&&((e=t.all(e)).addClass("SlowTrans").addClass(a),window.setTimeout(function(){try{e.removeClass(a)}catch(t){}},500))}function y(i){var o,r;i._transaction&&i._transaction._mjatabind_processed||(i._transaction&&(i._transaction._mjatabind_processed=!0),t.Object.some(i.changed,function(t){return!d.objEqual(t.prevVal,t.newVal)})&&(o=i.target.get("id"),(r=v[o])?v[o].changed=t.merge(r.changed,i.changed):v[o]={changed:i.changed,target:i.target},n||(n=window.setTimeout(function(){t.each(v,function(n){var i=n.target;e.eachBinding(i,function(e,o){var r=b(o,a),c=b(o,"bindcfg"),d=e.getContext(),s=e.options.callback||p;r.change?l(r.change,i.toJSON(),d,function(e,a){var i,r,d,u;e?s(e):("true"===c.replace?(r=a,d=(i=o)._node,u=t.Node.create(r),d.parentNode.replaceChild(u._node,d),i._node=u._node):m(o,a),j(k(o,n.changed),c),s())}):j(k(o,n.changed,function(t,e,n,o){var r=b(t,a);r.change?l(r.change,i.toJSON([e]),d,function(e,n){e?s(e):(m(t,n),s())}):(function(t,e,n){var a;if(t)switch(t.get("tagName")){case"A":t.set("href",n);break;case"IMG":t.set("src",n);break;case"INPUT":"radio"===(a=t.get("type"))||"checkbox"===a?n===t.get("value")?t.setAttribute("checked","checked"):t.removeAttribute("checked"):t.set("value",n);break;case"SELECT":t.set("value",n);break;default:t.setHTML(n)}}(t,0,o),s())}),c)})}),n=null,v={}},250))))}function B(t){var n,i=t.target,o=t.model;s(o.get)?o.get("id"):o[i.model.prototype.idAttribute||"id"],(n=_(o))&&e.eachBinding(i,function(t,e){var o,r=t.options.callback||p;e.all(n).remove(!0),i.isEmpty()&&(o=b(e,a))&&o.placeholder?l(o.placeholder,{},t.getContext(),function(t,n){t||m(e,n),r()}):r()})}function N(t){var n=t.target,i=t.model,o=t.index;e.eachBinding(n,function(t,e){var r,c,d=b(e,a);d.add&&(r=s(i.toJSON)?i.toJSON():i,c=t.options.callback||p,l(d.add,r,t.getContext(),function(t,a){if(t)c(t);else{if(1===n.size())m(e,a);else{var i=e.get("children").item(o);i?e.insertBefore(a,i):e.append(a)}c()}}))})}function M(t){var n=t.target;e.eachBinding(n,function(t,e){var i=b(e,a),o=t.options.callback||p,r=t.getContext();i.reset?l(i.reset,n.toJSON(),r,function(t,n){t?o(t):(m(e,n),o())}):n.isEmpty()&&(i.placeholder?l(i.placeholder,{},r,function(t,n){t?o(t):(m(e,n),o())}):(m(e,""),o()))})}function w(e,n,a){this.key=e,this.node=n||"body",this.options=a||{},this.guid=t.guid()}w.prototype={getContext:function(){return s(this.options.ctx)?this.options.ctx.call():this.options.ctx||{}},isValid:function(){return u(this.node)||!!this.node._node},unbind:function(){this.node=i,this.options=i,f[this.key]&&(delete f[this.key][this.guid],0===h(f[this.key])&&delete f[this.key])}},e={_createBindKey:function(t){if(!t)return i;if(u(t))return t;if(s(t))return t.NAME||i;var e,n=t.constructor.NAME;return n?(s(t.get)&&(e=t.get("id")),e?n+"_"+e:n):i},_init:function(){g||(c.after("*:change",y),c.after("*:remove",B),c.after("*:reset",M),c.after("*:add",N),g=!0)},bind:function(t,e,n){var a,o=this._createBindKey(t);return o?(f[o]||(f[o]={}),a=new w(o,e,n),f[o][a.guid]=a,this._init(),a):i},unbind:function(){},isBound:function(t){var e=this._getBindings(t);return e&&h(e)>0},_getBindings:function(t){if(!t)return{};var e,n=this._createBindKey(t);return n?f[n]&&h(f[n])>0?f[n]:(e=t.constructor.NAME)&&f[e]||{}:{}},eachBinding:function(e,n){if(s(n)){var a,o=_(e),r=[];o&&(a=this._getBindings(e),t.each(a,function(e){if(e.isValid()){var a=t.one(e.node);a.all(o).each(function(t){n.call(i,e,t)}),a.test(o)&&n.call(i,e,a)}else r.push(e)}),t.each(r,function(t){t.unbind()}))}}},t.namespace("Mjata.Bind").Model2Dom=e},"@VERSION@",{requires:["mjata-model-store","mjata-template","mjata-util","node-base","node-core"]});YUI.add("mjata-binder",function(t,i){"use strict";var n=t.Mjata.Bind.Model2Dom,a=t.Mjata.ModelStore,d=t.Lang.isFunction;function o(){this._mjataBinding=[]}o._NON_ATTRS_CFG=["mjataAutoBind"],o.prototype={mjataAutoBind:!0,mjataBind:function(i,o,e){return!!i&&(!o&&d(this.get)&&(o=this.get("container")),!!o&&(!((i._isYUIModel||i._isYUIModelList)&&!a.add(i))&&(this._mjataBinding.push(n.bind(i,o,e)),e=e||{},!(t.Object.owns(e,"mjataAutoBind")?e.mjataAutoBind:this.mjataAutoBind)||(i._isYUIModelList?s=i.model:d(i)&&(s=i.prototype.model),d(s)&&this._mjataBinding.push(n.bind(s.NAME,o,e)),!0))));var s},mjataUnbind:function(){t.each(this._mjataBinding,function(t){t.unbind()}),this._mjataBinding=[]}},t.namespace("Mjata").Binder=o},"@VERSION@",{requires:["mjata-bind-model2dom"]});YUI.add("mjata-json",function(t,e){"use strict";var i=t.Lang,n=i.isString,r=i.isArray,a=i.isObject;function c(){}c.prototype={toJSON:function(e){var c,o;return r(e)?c=e:n(e)&&(c=[e]),delete(o=this.getAttrs(c)).clientId,delete o.destroyed,delete o.initialized,"id"!==this.idAttribute&&delete o.id,function d(e){var c;return e?i.isFunction(e.toJSON)?e.toJSON():r(e)?(c=[],t.Array.each(e,function(t){c.push(d(t))}),c):a(e)?(c={},t.Object.each(e,function(t,e){n(e)&&(c[e]=d(t))}),c):e:e}(o)}},t.namespace("Mjata").JSON=c},"@VERSION@");YUI.add("mjata-lazy-modellist",function(e){"use strict";var a,t,s=e.Mjata,n=YUI.namespace("Env.ModelList");a={_shareModelInstance:!0,idAttribute:"id",initializer:function(a){a&&!e.Lang.isUndefined(a.shareModelInstance)&&(this._shareModelInstance=a.shareModelInstance)},_revive:function(){var e=s.LazyModelList.superclass._revive.apply(this,arguments);return this._shareModelInstance&&s.ModelStore.addModel(e),e},_generateClientId:function(){return e.Lang.isUndefined(n.lastId)&&(n.lastId=0),this.constructor.NAME+"_"+(n.lastId+=1)}},t={NAME:"MjataLazyModelList",VERSION:"1.0",ATTRS:{clientId:{valueFn:"_generateClientId",readOnly:!0},id:{value:null}}},e.namespace("Mjata").LazyModelList=e.Base.create("MjataLazyModelList",e.LazyModelList,[],a,t),s.ModelStore.register(s.LazyModelList)},"@VERSION@",{requires:["lazy-model-list","mjata-model-store"]});YUI.add("mjata-model-base",function(e){"use strict";var a=e.Lang,t=e.Mjata,r=t.ModelStore,i=a.isFunction,s=a.isString;e.namespace("Mjata").ModelBase={createModelClass:function(a,t,l,o,n,d){if(!a||!s(a))throw"invalid name";if(!i(l))throw"invalid main";d=d||{};var M=e.Base.create(a,l,o,n,d);return r.register(M),M},createModelListClass:function(a,t,l,o,n,d,M){if(!a||!s(a))throw"invalid name";if(!i(l))throw"invalid main";if(!i(o))throw"invalid modelClass";var m=e.merge({model:o},d),c=e.merge(M,{NAME:a}),u=e.Base.create(a,l,n,m,c);return r.register(u),u}},e.Mjata.createModelClass=function(e,a,r,i,s){return t.ModelBase.createModelClass(e,"",a||t.Model,r||[],i||{},s||{})},e.Mjata.createModelListClass=function(e,a,r,i,s,l){return t.ModelBase.createModelListClass(e,"",a||t.ModelList,r||t.Model,i||[],s||{},l||{})}},"@VERSION@",{requires:["base","mjata-model","mjata-modellist","mjata-model-store"]});YUI.add("mjata-model-store",function(e,t){"use strict";var r,n="alias",i="id",a=!0,s=!1,o=null,c=e.config.win;function u(e){return e&&e.name&&e.id}function d(e){return e&&r.items&&r.items[e.name]||o}function l(e){var t,r=d(e);return r&&r._constructor&&(t=e[r._constructor.prototype.idAttribute||i]||e.id)&&r.instances&&r.instances[t]||o}function f(e){return e?{name:e.constructor.NAME,id:e.get(i)||e.idAttribute&&e.get(e.idAttribute)}:o}c.Mjata=c.Mjata||{},r=c.Mjata.ModelStore=c.Mjata.ModelStore||{items:{},aliases:{}},e.namespace("Mjata").ModelStore={register:function(t){if(!e.Lang.isFunction(t)||!t.NAME)return s;var n=t.NAME;return r.items[n]?s:(r.items[n]={_constructor:t,instances:{}},a)},alias:function(t,i,c){if(!t||!i)return s;c=e.merge({replace:a,remove:s},c);var u=this,d=u.getByAlias(t);return d===i?a:d&&!c.replace?s:(d&&c.replace&&u.unalias(t,{remove:c.remove,silent:a}),u.add(i,c)?(r.aliases[t]=i,i.onceAfter("destroy",function(){u.unalias(t)}),c.silent||u.fire(n,{alias:t,prevInstance:d?f(d):o,newInstance:f(i)}),a):s)},unalias:function(t,i){if(!t)return s;var c=r.aliases,u=c[t];return u?((i=e.merge({remove:a,silent:s},i)).remove&&this.remove(u),delete c[t],i.silent||this.fire(n,{alias:t,prevInstance:f(u),newInstance:o}),a):s},getByAlias:function(e){return e&&r.aliases[e]||o},promiseAlias:function(t){var r=this;return new e.Promise(function(e,i){if(!t)return i("invalid alias");var a=r.getByAlias(t);if(a)return e(a);r.on(n,function(r){r.alias===t&&(a=l(r.newInstance))&&e(a)})})},get:function(t,r,n){if(!u(t))return o;n=e.merge({create:a},n);var s,c,l=d(t);return l&&l._constructor&&(s=t[l._constructor.prototype.idAttribute||i]||t.id)?(r=e.merge(r,{id:s}),(c=l.instances)&&c[s]?(c[s].setAttrs(r),c[s]):n.create?this.create(t,r,{add:a}):o):o},create:function(t,r,n){if(!u(t))return o;n=e.merge({add:a,replace:a},n);var s,c,l=d(t);return l&&l._constructor&&(s=t[l._constructor.prototype.idAttribute||i]||t.id)?(r=e.merge(r,{id:s}),c=new l._constructor(r),n.add&&this.add(c,{replace:n.replace}),c):o},add:function(t,r){if(!t)return s;r=e.merge({replace:s},r);var n,o,c=f(t),u=l(c);if(u&&u===t)return a;if(u&&!r.replace)return s;if(!(n=d(c))){if(!this.register(t.constructor))return s;n=d(c)}return n.instances[c.id]=t,t.onceAfter("destroy",e.bind(function(){this.remove(t)},this)),t.addTarget(this),o=n._constructor.prototype.idAttribute||i,t.after(o+"Change",function(e){var t=e.target,r=d(f(t));r&&(r.instances[e.newVal]=t,delete r.instances[e.prevVal])}),a},remove:function(t,r){if(!t)return s;r=e.merge({destroy:s},r);var n=f(t),i=d(n),o=i&&i.instances,c=n&&n.id;return o&&o[c]===t?(t.removeTarget(this),r.destroy&&t.destroy(),delete o[c],a):s}},e.augment(e.Mjata.ModelStore,e.EventTarget,a,null,{emitFacade:a,prefix:"ModelStore"}),e.Mjata.ModelStore.publish(n,{preventable:s})},"@VERSION@",{requires:["event-custom","promise"]});YUI.add("mjata-model",function(a){"use strict";var e="MjataModel";a.namespace("Mjata").Model=a.Base.create(e,a.Model,[a.Mjata.JSON],{},{NAME:e}),a.Mjata.ModelStore.register(a.Mjata.Model)},"@VERSION@",{requires:["model","mjata-json","mjata-model-store"]});YUI.add("mjata-modellist",function(e){"use strict";var t,a,s=e.Mjata,r="MjataModelList",i=YUI.namespace("Env.ModelList"),l=e.Lang;t={_shareModelInstance:!0,idAttribute:"id",initializer:function(e){e&&!l.isUndefined(e.shareModelInstance)&&(this._shareModelInstance=e.shareModelInstance)},clear:function(e){this.reset(this,e)},_createModelObj:function(e){var t,a,r;if(!e._isYUIModel){if(r=e[a=this.model.prototype.idAttribute||"id"]||e.id,(t={name:this.model.NAME,id:r})[a]=r,this._shareModelInstance)return(e=s.ModelStore.get(t,e,{create:!0})).changed={},e;(e=new this.model(e)).changed={}}return e},create:function(e,t,a){var r=s.ModelList.superclass.create;return this._shareModelInstance&&e&&!e._isYUIModel?r.call(this,this._createModelObj(e),t,a):r.apply(this,arguments)},add:function(t,a){var r,i=this,n=s.ModelList.superclass.add;return!i._shareModelInstance||!t||t._isYUIModelList||t._isYUIModel?n.apply(i,arguments):l.isArray(t)?(r=e.Array.map(t,function(e){return i._createModelObj(e)}),n.call(i,r,a)):n.call(i,i._createModelObj(t),a)},reset:function(t,a){var r,i=this,n=s.ModelList.superclass.reset;return!i._shareModelInstance||!t||t._isYUIModelList||t._isYUIModel?n.apply(i,arguments):l.isArray(t)?(r=e.Array.map(t,function(e){return i._createModelObj(e)}),n.call(i,r,a)):n.call(i,i._createModelObj(t),a)},_generateClientId:function(){return l.isUndefined(i.lastId)&&(i.lastId=0),this.constructor.NAME+"_"+(i.lastId+=1)}},a={NAME:r,ATTRS:{clientId:{valueFn:"_generateClientId",readOnly:!0},id:{value:null}}},e.namespace("Mjata").ModelList=e.Base.create(r,e.ModelList,[],t,a),s.ModelStore.register(s.ModelList)},"@VERSION@",{requires:["model-list","mjata-model-store"]});YUI.add("mjata-queue",function(e){"use strict";var t={wait:20};function i(i,a,n,r){var u=this;u.id=i,u.config=e.merge(t,a),u._sweep=n,u._cb=r,u._items=[]}i.prototype={push:function(t){var i=this;return t?i.config.wait<=0?(i._cb(t),i._items=[],i):(i._items.push(t),i._timer||(i._timer=setTimeout(function(){var t=i._items;i._items=[],clearTimeout(i._timer),i._timer=null,t=i._sweep(t),e.Array.each(t,function(e){i._cb(e)})},i.config.wait)),i):i}},e.namespace("Mjata").Queue=i},"@VERSION@");YUI.add("mjata-rest-http",function(t){"use strict";var e={timeout:3e3,retry:{interval:200,max_retries:2},cors:!1},r="Content-Type",s="application/json",n="timeout",o="GET",a="PUT",i="POST",u="DELETE",c=null,m=t.Lang,y=m.isNumber;function l(p,f,x,T,d,v){var _,E,j,w,C,I,R,g,h,A,L,O;j=d,R={timeout:e.timeout,unsafeAllowRetry:j.unsafeAllowRetry||!1,retry:{interval:e.retry.interval,max_retries:e.retry.max_retries},cors:e.cors},j&&(w=parseInt(j.timeout,10),y(w)&&w>0&&(R.timeout=w),j.retry&&(C=parseInt(j.retry&&j.retry.interval,10),y(C)&&C>0&&(R.retry.interval=C),I=parseInt(j.retry&&j.retry.max_retries,10),y(I)&&I>=0&&(R.retry.max_retries=I)),j.tmp&&(R.tmp=j.tmp),j.cors&&(R.cors=j.cors)),d=R,g=x,A={},L=(h=p)===a||h===i,t.Object.each(g,function(t,e){"content-type"===e.toLowerCase()?L&&(A[r]=t):A[e]=t}),L&&!A[r]&&(A[r]=s),x=A,d.tmp=d.tmp||{retry_counter:0},E=d.timeout,_={method:p,timeout:E,headers:x,on:{success:function(t,e){v(c,e)},failure:function(e,r){var s,i,m,y,_,j,w;0===(s=(s=r)||{status:999,statusText:"null response"}).status&&s.statusText===n&&(s.status=408,s.timeoutBy="client"),_=p,j=d,w=(r=s).status,_!==o&&_!==a&&_!==u&&!j.unsafeAllowRetry||408!==w&&999!==w||j.tmp.retry_counter>=j.retry.max_retries||(j.tmp.retry_counter++,j.retry.interval=2*j.retry.interval,0)?v((m=E,408===(y={statusCode:(i=r).status,statusText:i.statusText,responseText:i.responseText}).statusCode&&(y.timeoutBy=i.timeoutBy||"",y.timeout=m||""),y)):t.later(d.retry.interval,c,function(){l(p,f,x,T,d,v)})}}},d.cors&&(_.xdr={use:"native",credentials:!0}),T!==undefined&&T!==c&&(_.data=(O=x)[r]&&t.Array.some(O[r].split(";"),function(t){return m.trim(t).toLowerCase()===s})?t.JSON.stringify(T):T),t.io(f,_)}t.namespace("Mjata.REST").HTTP={get:function(t,e,r,s){l(o,t,e,c,r,s)},put:function(t,e,r,s,n){l(a,t,e,r,s,n)},post:function(t,e,r,s,n){l(i,t,e,r,s,n)},del:function(t,e,r,s){l(u,t,e,c,r,s)}}},"@VERSION@",{requires:["json-stringify","io-base","io-xdr"]});YUI.add("mjata-store",function(n){"use strict";var t=" not implemented",e=n.Lang.isFunction;n.namespace("Mjata").Store={name:"Store.Base",create:function(n,t,e,a,i){this._sync(n,"create",t,e,a,i)},read:function(n,t,e,a){this._sync(n,"read",t,undefined,e,a)},update:function(n,t,e,a,i){this._sync(n,"update",t,e,a,i)},del:function(n,t,e,a){this._sync(n,"delete",t,undefined,e,a)},_sync:function(t,a,i,c,u,o){e(u)&&(o=u,u={});var r=this,s={resource:t,operation:a,params:i,body:c,context:u=u||{},callback:o};!e(this.batch)||u.config&&!1===u.config.consolidate?r.single(s):(r._q||(r._q=new n.Mjata.Queue(r.name,{},function(n){return r.batch(n)},function(t){t&&(n.Lang.isArray(t)?r.multi(t):r.single(t))})),r._q.push(s))},single:function(){throw"single()"+t},multi:function(){throw"multi()"+t},batch:function(n){return n}},n.Mjata.createStore=function(t,e,a){if(!t)throw"Invalid name";return n.merge(n.Mjata.Store,a,{name:t})}},"@VERSION@",{requires:["mjata-queue","mjata-util"]});YUI.add("mjata-template",function(e){"use strict";var t={},s=function(){},n=e.Object;t.dust={hasTemplate:function(e){return!!(dust&&dust.cache&&dust.cache[e])},render:function(e,t,s,a){if(this.hasTemplate(e))if(s&&n.size(s)>0){var r=dust.makeBase(s);dust.render(e,r.push(t),a)}else dust.render(e,t,a);else a("missing template: "+e)}},e.namespace("Mjata").Template={render:function(e,a,r,u){var i;u=u||s,n.some(t,function(t){return!!t.hasTemplate(e)&&(i=t,!0)}),i?i.render(e,a,r,u):u("Missing engine: "+e)}}},"@VERSION@",{requires:["dust"]});YUI.add("mjata-util",function(t){"use strict";var r=t.Lang,n=t.Object,e=r.trim;t.namespace("Mjata").Util={objEqual:function(e,i){var u,a;if(e===i)return!0;if(typeof e!=typeof i)return!1;if(r.isObject(e))return n.size(e)===n.size(i)&&!n.some(e,function(r,n){return!t.Mjata.Util.objEqual(e[n],i[n])});if(r.isArray(e)){if(e.length!==i.length)return!1;for(u=0,a=e.length;u<a;u++)if(!t.Mjata.Util.objEqual(e[u],i[u]))return!1;return!0}return!1},objGet:function(t,e,i){r.isString(e)&&(e=""===(e=r.trim(e))?[]:e.split("."));var u=n.getValue(t,e);return u===undefined?i:u},objMerge:function(){var n,e=Array.prototype.slice.call(arguments),i={};for(n=0;n<e.length;n++)r.isObject(e[n])&&!r.isArray(e[n])&&t.mix(i,t.clone(e[n]),!0,undefined,0,!0);return i},objSet:function(t,n,e){if(r.isString(n)&&(n=""===(n=r.trim(n))?[]:n.split(".")),!r.isArray(n)||0===n.length)return undefined;var i,u=n.length,a=t;for(i=0;i<u;i++)i===u-1?a[n[i]]=e:(r.isUndefined(a[n[i]])&&(a[n[i]]={}),a=a[n[i]]);return t},strParseKV:function(r,n,i){var u={};return r=r||"",n=n||";",i=i||":",t.Array.each(r.split(n),function(t){if(t.length>0){var r=t.indexOf(i),n=e(t.substring(0,r)),a=e(t.substring(r+1));n&&(u[n]=a)}}),u}}},"@VERSION@");YUI.add("stencil-base",function(e,t){"use strict";var n,i,r,s,o,a,u,l,c,d,g,f=["click"],h="delayed-mouseleave",p=e.config.doc,v=e.one(p.documentElement),E=e.one(window),m=e.one(p.body),b=null,y="[data-plugin]",N=[],T=0,S=b,L=[],w=window.navigator.pointerEnabled||window.navigator.msPointerEnabled;e.Node.DOM_EVENTS&&(e.Node.DOM_EVENTS=e.merge(e.Node.DOM_EVENTS,{transitionend:1,webkitTransitionEnd:1,oTransitionEnd:1,otransitionend:1,pointerover:1,pointerout:1,pointerenter:1,pointerleave:1})),E.after("scroll",function(){clearTimeout(d),d=setTimeout(r,100)}),r=function(){(p.documentElement&&p.documentElement.scrollTop||p.body.scrollTop)>2?v.addClass("has-scrolled"):v.removeClass("has-scrolled")},g=function(){if(v.hasClass("stencil-no-touch")){var t,n=e.Node.create('<div id="MouseoverMask" class="End-0 Start-0 T-0 B-0"></div>'),i=!1,r=function(){clearTimeout(t),i||(i=!0,v.addClass("Scrolling")),t=setTimeout(function(){i=!1,v.removeClass("Scrolling")},350)};n.appendTo(p.body),window.addEventListener?window.addEventListener("scroll",r,!1):window.attachEvent&&window.attachEvent("scroll",r)}},i=function(e,t){var n,i,r,s,o=[e];for(0===e.indexOf("MSPointer")?(i=e.substr(9).toLowerCase(),o.push("pointer"+i,"mouse"+i)):0===e.indexOf("pointer")?(i=e.substr(7),o.push("mouse"+i)):0===e.indexOf("mouse")&&(i=e.substr(5),o.push("pointer"+i)),o.push("default"),r=0,s=o.length;r<s&&!(n=t[o[r]]);r+=1);return n},n=function(t,n){var r,o,a,u,l,c,d,g,f=n.NS,p=t.currentTarget,v=t.type;if(p[f]||p.plug(n),(r=p[f]).shouldHandleEvent(t))if(r.handleEvent)r.handleEvent(t);else if(l=p.getData(n.PLUGIN_NAME))for("string"==typeof l&&(l=e.JSON.parse(l)),l.length||(l=[l]),c=0,d=l.length;c<d;c+=1)g=b,a=l[c],u=r.getTargets(a,p),(o=i(v,a))&&(o.preventDefault&&t.preventDefault(),"mouseleave"!==v&&"pointerleave"!==v&&"MSPointerLeave"!==v||(g=a["mouseleave-delay"]===undefined?n.MOUSELEAVE_DELAY:a["mouseleave-delay"]),"number"==typeof g?(u.setData(h,!0),e.later(g,r,s,[u,o,t])):("mouseenter"!==v&&"pointerenter"!==v&&"MSPointerEnter"!==v||u.clearData(h),r.execute(u,o,t)));else r.execute(b,b,t)},s=function(t,n,i){e.Array.indexOf(t.getData(h),!0)>=0&&(t.clearData(h),this.execute(t,n,i))},o=function(t,n,i){var r,s=Array.prototype.slice.call(arguments,2),o=t.NS;return this.getNodeList(i).plug(t).each(function(t){s[0]=e.Stencil.getNodeList(s[0]),t[o][n]?t[o][n].apply(t[o],s):t[o].execute&&((r={})[n]=s[1],s[1]=r,t[o].execute.apply(t[o],s))})},a=function(t){var n;return t||(t=p.body),n=(t=e.one(t)).all(y),t.test(y)&&n.push(t),n},u=function(t,n,i,r){var s=n.getDOMNode(),o=t.target||t.srcElement;if(s!==o&&!s.contains(o)&&("DIV"!==o.tagName||o.attributes.tabIndex!==undefined))if(r)r.call(this,e.Stencil.getNodeList(n));else try{i.focus()}catch(a){}},e.Stencil={Plugins:{},Hosts:{},initPlugin:function(e,t){return this.initAll(t,[e])},initPlugins:function(t,n){var i,r,s,o;if(e.Lang.isArray(n)&&0!==n.length){for(i=[],r=0,s=n.length;r<s;r+=1)o="string"==typeof n[r]?n[r]:n[r].PLUGIN_NAME,i.push(o);this.initAll(t,i)}},initAll:function(t,n){var i,r,s,o,u,l,c,d,g,f,h={},v=/\s+/;if(t||(t=p.body),t=e.one(t),e.Lang.isArray(n)){if(0===n.length)return;for(f={},s=0,o=n.length;s<o;s+=1)f[n[s]]=1;n=f}else n=undefined;for(s=0,o=(i=a(t)).size();s<o;s+=1)for(l=0,c=(u=(r=i.item(s)).getAttribute("data-plugin").trim().split(v)).length;l<c;l+=1)d=u[l],(n===undefined||n[d])&&((g=this.Plugins[d])?(g.requiresInit||r.hasAttribute("data-trigger"))&&setTimeout(e.bind(r.plug,r,g),0):h["stencil-"+d]=1);if(N.length>0)for(s=0,o=N.length;s<o;s+=1)d=N[s],(n===undefined||n[d])&&(g=this.Plugins[d],t.unplug(g).plug(g));(h=e.Object.keys(h)).length>0&&e.use(h)},registerPlugin:function(t,i){var r,s,a,u,l,c,d=i.toLowerCase();if(!this.Plugins[d]){if(t.PLUGIN_NAME||(t.PLUGIN_NAME=d),t.defaultTriggerEvents||(t.defaultTriggerEvents=f),this.Plugins[d]=t,l="stencil-plugin-"+d,!v.hasClass(l)){for(u=function(e,t,n){return!!new RegExp("\\b"+n.PLUGIN_NAME+"\\b").test(e.getAttribute("data-plugin"))&&e},r=0,s=(c=t.prototype.getDefaultTriggerEvents()).length;r<s;r+=1)a=c[r],e.delegate(l+"|"+a,n,v,u,this,t);v.addClass(l)}return this[i]=e.bind(o,this,t),t.initOnRootOnly&&N.push(d),T&&(L.push(d),S||(S=e.later(0,this,function(){this.initAll(m,L),L=[],S=b}))),!0}return!1},getNodeList:function(t){return"string"==typeof t?e.all(t):t instanceof e.NodeList?t:new e.NodeList(t)}},e.Stencil.BasePlugin=function(t){var i,r,s,o,a,u,l=t.host,c=this.constructor;for(this.host=l,this._node=l,this._superclass=this.constructor.superclass,a="stencil-"+c.PLUGIN_NAME,i=this.getTriggerEvents(),u=this.getDefaultTriggerEvents(),s=0,o=i.length;s<o;s+=1)r=i[s],-1===e.Array.indexOf(u,r)&&l.on(a+"|"+r,n,this,c)},e.Stencil.BasePlugin.prototype={destroy:function(){this.host=b,this._node=b},execute:function(e,t,n){var i;if(t)if("string"==typeof t)this[t]&&this[t](e,{},n);else for(i in t)t.hasOwnProperty(i)&&this[i]&&this[i](e,t[i],n)},normalizeEvents:function(e){var t,n,i,r,s,o,a,u=[];if(w)for(r=/^(?:mouse|pointer)(\w)(\w+)/,s=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,o=s?"MSPointer":"pointer",i=function(e,t,n){var i=t+n;return!s||"leave"!==i&&"enter"!==i?o+(s?t.toUpperCase():t)+n:"mouse"+i},t=0,n=e.length;t<n;t+=1)a=e[t],u.push(a.replace(r,i));else if(Modernizr.touch)for(t=0,n=e.length;t<n;t+=1)"mouse"!==(a=e[t]).substr(0,5)&&u.push(a);else u=e;return u},getDefaultTriggerEvents:function(){return this.normalizeEvents(this.constructor.defaultTriggerEvents)},getTriggerEvents:function(){var e=this._node.getData("trigger");return e?"string"==typeof e&&(e=this.normalizeEvents(e.split(" ")),this._node.setData("trigger",e)):e=this.getDefaultTriggerEvents(),e},getTargets:function(t,n){var i,r=new e.NodeList;return n||(n=this._node),t||(t={}),t.target&&(r=r.concat(e.all(t.target)),i=!0),t["target-child"]&&(r=r.concat(n.all(t["target-child"])),i=!0),t["target-ancestor"]&&(r=r.concat(n.ancestor(t["target-ancestor"],!0)),i=!0),t["target-sibling"]&&(r=r.concat(n.get("parentNode").all(t["target-sibling"])),i=!0),
n.getAttribute("data-target")&&(r=r.concat(e.all(n.getAttribute("data-target"))),i=!0),0!==r.size()||i||(r=r.concat(n)),r},shouldHandleEvent:function(t){var n=this.constructor.NS,i=t.type,r=t._event.pointerType!==undefined,s="click"===t.type||"dblclick"===t.type,o=r&&(t._event.pointerType===t._event.MSPOINTER_TYPE_MOUSE||"mouse"===t._event.pointerType);return e.Array.indexOf(this._node[n].getTriggerEvents(),i)>-1&&(!r||r&&s||r&&o)},processSources:function(t,n){return e.Stencil.Source?(e.Stencil.getNodeList(t).each(function(t){var i;t.hasAttribute("data-source-plugin")&&(i=e.Stencil.Plugins.source,t.plug(i),t[i.NS].execute(e.Stencil.getNodeList(t),n))}),this):this},focus:function(t,n,i,r){var s,o,a,d,g,f=[];if(t&&"BODY"!==(t=e.one(t)).get("tagName")){n=n?e.one(n):t,r=void 0===r||r,l=c?this.releaseFocus(c):document.activeElement;try{n.focus()}catch(h){}return r&&(s=e.rbind(u,this,t,n,i),o=!1,a=setTimeout(e.bind(function(){p.addEventListener?p.addEventListener("focus",s,!0):p.attachEvent&&p.attachEvent("onfocusin",s),o=!0},this),0),f.push(function(){o?p.removeEventListener?p.removeEventListener("focus",s,!0):p.detachEvent&&p.detachEvent("onfocusin",s):clearTimeout(a)})),i&&(d=e.one(p.body).on("click",function(n){t.contains(n.target)||this._node.compareTo(n.target)||this._node.contains(n.target)||i.call(this,e.Stencil.getNodeList(t))},this),g=e.one(p).on("keydown",function(n){27===n.keyCode&&i.call(this,e.Stencil.getNodeList(t))},this),f.push(function(){d.detach(),g.detach()})),t.setData("focus-mgmt-unsubscribers",f),c=t,n}},releaseFocus:function(e){var t,n;if(e!==c)return l;if(t=e.getData("focus-mgmt-unsubscribers")){for(n=0;n<t.length;n+=1)t[n].call();if(e.setData("focus-mgmt-unsubscribers",b),l&&"HTML"!==l.tagName&&"BODY"!==l.tagName)try{l.focus()}catch(i){}c=b}return l}},e.on("domready",function(){T=1,r(),g(),e.Stencil.initAll()},this)},"@VERSION@",{requires:["stencil","yui-base","event-base","event-delegate","event-mouseenter","json-parse","dom-base","node-base","node-pluginhost","selector"]});YUI.add("stencil-carousel",function(t,i){"use strict";var s,e=null,a=!0,n=!1,h="prev",o="next",r="jump-to",d="swipe",l="slide",u="init",p="end",g="dragstart",c=".Carousel-",m="Selected",E=c+"Item",f=c+"Slider",b=c+"Indicator",I=c+"Ranges",v=c+"Ranges-Item",L=c+"Mask",y="Disabled",D="{current} of {total}",C="{from}-{to} of {total}",S="button[data-jump-to=prev]",k="button[data-jump-to=next]",T="button[data-play]",P="button[data-stop]",R=Modernizr,M=t.one("body"),_="disabled",A=1e4;function H(s){if(this.constructor.superclass.constructor.call(this,s),!this._node||"BODY"!==this._node.get("tagName").toUpperCase()){var n,h=this._node,o=h.all(b),r=h.one(f),c=h.one(I),y=h.one(L)||h.ancestor(L,!0)||h.ancestor(".Carousel",!0)||r&&r.ancestor(),M=h.ancestor("[dir]",!0),_=parseInt(h.getData("groupitems"),10)||1,H=c?_>1?_:h.one(".Carousel-Ranges-Item")?h.one(".Carousel-Item").all(".Carousel-Ranges-Item").size():e:e,w=r&&r.all(E),z=w&&w.size();h&&r&&y&&(this.node=h,this.sliderEl=r,this.maskEl=y,this.rangesEl=c,this.itemsEl=w,this.indicatorsEl=o.size()>0?o:e,this.prevEl=h.one(S),this.nextEl=h.one(k),this.playEl=h.one(T),this.stopEl=h.one(P),this.hasLoop=s.hasLoop||h.hasAttribute("data-loop"),this.noSwipe=s.noSwipe||h.hasAttribute("data-noswipe"),this.autoRotate=s.autoRotate||h.hasAttribute("data-auto-rotate"),this.noMultiClick=s.noMultiClick||h.hasAttribute("data-nomulticlick"),this.imageDelayLoadCount=s.imageDelayLoadCount||h.getData("imagedelay-loadcount"),this.noHeight=this.node.hasAttribute("data-carousel-noheight"),this.noWidth=this.node.hasAttribute("data-carousel-nowidth"),this.pageLength=_?Math.ceil(z/_):z,this.groupItems=_,this.rangeLength=H,this.rangeTemplate=s.rangeTemplate||h.getData("range-template")||(H&&H>1?C:D),this.maskWidth=this.getMaskWidth(),this.displacedItems=[],this.dir=s.dir,this.isFirstLoad=a,this.hasDn=this.itemsEl.some(function(t){return t.hasClass("D-n")}),this.dir||(this.dir=M?M.getAttribute("dir"):"ltr",this.dir="rtl"===this.dir?-1:1),this.currentPage=s.currentPage||parseInt(h.getAttribute("data-currentpage"),10),isNaN(this.currentPage)&&(this.currentPage=r?Math.floor(w.indexOf(r.one("."+m))/_):0),this.currentPage<0&&(this.currentPage=0),!this.noSwipe&&R&&R.touch&&(n=h.getDOMNode(),new Stencil.Swiper(h,{swipe:{acceptable_opposite_axis_movement:100,min_swipe_distance:10}}).captureTouch(),n.addEventListener(g,t.bind(this.swipe,this),!1),n.addEventListener(u,t.bind(this.swipe,this),!1),n.addEventListener(p,t.bind(this.swipe,this),!1),n.addEventListener(d,t.bind(this.swipe,this),!1),n.addEventListener(l,t.bind(this.swipe,this),!1)),this.node&&this.sliderEl&&this.maskEl&&this.itemsEl.size()&&(o&&this.updateIndicators(),c&&(this.itemsLength=H>1&&_!==H?this.node.all(v).size():this.node.all(E).size(),this.updateRanges()),this.autoRotate&&(this.rotationHandle="",this.rotationInterval=h.getData("auto-rotation-interval")||A,this.startRotation(),h.on("hover",t.bind(this.stopRotation,this),t.bind(this.startRotation,this))),this.updateToolbar(),this.updateVisibility(),this.breakpointGroupItems=this.itemsEl.size()&&this.itemsEl.item(0)&&this.itemsEl.item(0).get("className").match(/\sBp-\d-(\d)/),this.breakpointGroupItems=this.breakpointGroupItems&&this.breakpointGroupItems[1],this.imageDelayLoadCount?(this.delayedLoadedImages={},this.loadDelayedSurroundingImages()):h.once("mouseover",this.loadDelayedImages,this),this.resizeHandle=t.on(i+":resize",t.bind(this.jumpTo,this,e,"none",a),this),h.on("carousel:fill",this.fillItems,this),h.getData("groupitems")&&this.breakpointGroupItems&&(this.breakPointHandle=t.on("bquery:breakpoint",this.onBreakPoint,this),h.ancestor(".BreakPoint",a)&&this.onBreakPoint({node:h,type:"max-width"}))))}}t.one(t.config.win).on("resize",function(){clearTimeout(s),s=setTimeout(function(){t.fire(i+":resize")},100)},this),t.extend(H,t.Stencil.BasePlugin,{isLooping:n,currentPage:0,pageLength:0,isDelayedLoaded:n,destroy:function(){this.node=e,this.sliderEl=e,this.maskEl=e,this.itemsEl=e,this.indicatorsEl=e,this.rangesEl=e,this.prevEl=e,this.nextEl=e,this.playEl=e,this.stopEl=e,this.resizeHandle&&(this.resizeHandle.detach(),this.resizeHandle=e),this.breakPointHandle&&(this.breakPointHandle.detach(),this.breakPointHandle=e),this.constructor.superclass.destroy.apply(this,arguments)},loadDelayedImages:function(){this.imageDelayLoadCount||(M.fire("imageloader:delayed",this.node),this.isDelayedLoaded=a)},loadDelayedSurroundingImages:function(){var t,i,s,e,n,h,o,r,d,l,u,p;if(this.node&&this.node._node&&!this.isDelayedLoaded)if(t=this.imageDelayLoadCount,i=this.hasLoop,s=this.currentPage,e=this.pageLength,n=this.groupItems,h=this.itemsEl,o=this.delayedLoadedImages,t>=this.pageLength-1)this.isDelayedLoaded||(M.fire("imageloader:delayed",this.node),this.isDelayedLoaded=a);else{for(r=[],(d=function(t){var i,s,e;if(!o[t]){if(n)for(i=h.size(),e=s=t*n;e<s+n;e++)e<i&&r.push(h.item(e));else r.push(h.item(t));o[t]=!0}})(s),p=1;p<=t;p++)u=s+p,(l=s-p)<0?i&&d(e+l):d(l),u>=e?i&&d(u%e):d(u);r&&r.length>0&&M.fire("imageloader:delayed",r)}},jumpTo:function(t,i,s){if(this.node&&this.node._node){var r,d=this.currentPage,l=d,u=this.pageLength,p=this.hasLoop;i=i||"slide",(t="number"==typeof t||"string"==typeof t?t:d)===h?0!==d?d-=1:p&&(d=u-1,this.isLooping=a):t===o?d+1!==u?d+=1:p&&(d=0,this.isLooping=a):d=parseInt(t,10),this.fromPage=l,this.currentPage=d,this.updateVisibility(!0),this.noWidth||this.sliderEl.setStyle("width","100%"),"none"!==i&&((r={}).currentPage=d,r.fromPage=l,this.node.publish("carousel:jump",{emitFacade:!0}),this.node.fire("carousel:jump",r),Stencil.utils.dispatch(this.node.getDOMNode(),"carousel:jump",r)),(!this.isFirstLoad&&s||this.isFirstLoad&&!s)&&(this.isFirstLoad=n,this.updateMaskHeight(l,e)),"slide"===i?this.slide(l,d):"none"!==i||this.isFirstLoad||(this.updateMaskWidth(),this.translate(this.sliderEl,-this.maskWidth*t,0,n)),this.updateToolbar(),this.updateIndicators(),this.updateRanges(),this.imageDelayLoadCount&&this.loadDelayedSurroundingImages()}},slide:function(i,s){
var e,h=this.sliderEl,o=this.pageLength,r=this.itemsEl,d=this.groupItems||1;this.noWidth||this.updateMaskWidth(),e=this.maskWidth,this.updateMaskHeight(s,a),this.isLooping?(0===s?(r.slice(0,d).each(function(t){this.translate(t,e*o,0,n),this.displacedItems.push(t)},this),this.translate(h,-e*o,0,t.bind(function(){this.updateDisplacedItems(),this.updateVisibility()},this))):s===o-1&&(r.slice(-d).each(t.bind(function(t){this.translate(t,-e*o,0,n),this.displacedItems.push(t)},this)),this.translate(h,e,0,t.bind(function(){this.updateDisplacedItems(),this.updateVisibility()},this))),this.isLooping=n):(t.Array.each(r,function(t){this.displacedItems.push(t)},this),this.translate(h,-e*s,0,t.bind(function(){this.updateDisplacedItems(),this.updateVisibility()},this)))},translate:function(i,s,e,a){var h={},o=this.dir;return s=s||0===s?o*s+"px":"",e=e||0===e?o*e+"px":"",R&&R.csstransforms3d?h.transform=s||e?"translate3d("+s+","+e+",0)":"":(h.left=s,h.top=e),this.transitioning&&(i.removeClass("FastTrans"),this.transitioning=!1),a!==n&&(s||e||a)?(R&&R.csstransitions?(this.transitioning=!0,i.addClass("FastTrans"),Stencil.css.transitioned(i,t.bind(function(){i.removeClass("FastTrans"),this.transitioning=!1,a()},this)),i.setStyles(h)):t.use("transition",function(){h.duration=.4,i.transition(h,a)}),"transition"):(i.setStyles(h),"notransition")},handleEvent:function(t){var i=t.target.ancestor("[data-"+r+"]",a);return i&&!i.get(_)&&i.getData(r)?this.noMultiClick&&this.transitioning?void t.preventDefault():(this.jumpTo(i.getData(r)),void t.preventDefault()):(i=t.target.ancestor(T,a))&&!i.get(_)?(this.autoRotate=!0,this.startRotation(),void t.preventDefault()):(i=t.target.ancestor(P,a))&&!i.get(_)?(this.autoRotate=!1,this.stopRotation(),void t.preventDefault()):void 0},swipe:function(i){var s,e=0,a=this.sliderEl,r=this.pageLength,d=this.itemsEl,c=this.currentPage,m=this.groupItems;switch(i.type){case g:i.preventDefault();break;case u:this.loadDelayedImages(),this.updateVisibility(!0),this.updateMaskWidth(),s=this.maskWidth,this.hasLoop&&(0===c?d.slice(-m).each(t.bind(function(t){this.translate(t,-s*r,0,n),this.displacedItems.push(t)},this)):this.currentPage===r-1&&d.slice(0,m).each(function(t){this.translate(t,s*r,0,n),this.displacedItems.push(t)},this));break;case l:"x"===i.detail.axisIntention&&(e=i.detail.delta.x+c*this.maskWidth,this.translate(a,-e,0,n));break;case p:this.updateVisibility(),this.jumpTo(c),i.detail.stopPropagation(),i.detail.preventDefault();break;default:"left"===i.detail.direction&&this.jumpTo(o),"right"===i.detail.direction&&this.jumpTo(h)}},onBreakPoint:function(t){var i=this.node;i&&t.node.contains(i.getDOMNode())&&("remove"===t.type?this.groupItems=i.getData("groupitems"):this.groupItems=this.breakpointGroupItems,this.pageLength=Math.ceil(this.itemsEl.size()/this.groupItems),this.currentPage=Math.ceil(this.currentPage/this.pageLength),this.rangeLength=this.groupItems,this.updateRanges())},fillItems:function(t,i){t&&(i?this.sliderEl.append(t):(this.jumpTo(0,"slide"),this.sliderEl.setHTML(t)),this.itemsEl=this.sliderEl.all(E),this.pageLength=this.groupItems?Math.ceil(this.itemsEl.size()/this.groupItems):this.itemsEl.size(),this.updateToolbar(),this.updateVisibility())},updateVisibility:function(i){var s=this.itemsEl,e=this.currentPage>=s.size()?this.currentPage%3:this.currentPage*this.groupItems,a=e+this.groupItems;R&&R.touch||(i?(s.removeClass("V-h"),s.removeClass(m)):(s.addClass("V-h"),s.slice(e,a).removeClass("V-h"),1===this.groupItems&&s.item(e).addClass(m)),t.UA.gecko&&(this.sliderEl.addClass("D-n"),this.sliderEl.get("offsetHeight"),this.sliderEl.removeClass("D-n")))},updateMaskHeight:function(i,s){var e,a={},h=this.maskEl;this.hasDn&&(this.itemsEl.removeClass("D-n"),this.hasDn=n,this.translate(this.sliderEl,-this.maskWidth*this.fromPage,0,n)),(e=this.noHeight?0:this.itemsEl.item(i*this.groupItems).get("offsetHeight"))&&(a.height=e+"px",s?R&&R.csstransitions?(h.addClass("FastTrans"),Stencil.css.transitioned(h,t.bind(function(){h.removeClass("FastTrans")},this)),h.setStyle("height",a.height)):t.use("transition",function(){a.duration=.4,h.transition(a)}):h.setStyles(a))},updateMaskWidth:function(){this.maskWidth=this.getMaskWidth(),this.noWidth||this.sliderEl.setStyle("width",this.maskWidth+"px")},updateIndicators:function(){var t=this.indicatorsEl;t&&(t.removeClass(m),t.item(this.currentPage).addClass(m))},updateRanges:function(){var i,s,e,a=this.rangesEl,n=this.rangeLength,h=this.currentPage,o=this.rangeTemplate,r=this.itemsLength;a&&(n>1?(s=h*n+1,e=(e=(h+1)*n)>r?r:e):i=h+1,o=t.Lang.sub(o,{current:i,from:s,to:e,total:r}),a.setContent(o))},updateToolbar:function(){var t=this.currentPage,i=this.prevEl,s=this.nextEl,e=this.playEl,a=this.stopEl;!this.hasLoop&&i&&s&&(t+1===this.pageLength?(s.setAttribute(_,_),s.addClass(y)):(s.removeAttribute(_,_),s.removeClass(y)),0===t?(i.setAttribute(_,_),i.addClass(y)):(i.removeAttribute(_,_),i.removeClass(y))),e&&e.toggleClass("Dn",this.autoRotate),a&&a.toggleClass("Dn",!this.autoRotate)},startRotation:function(){!this.rotationHandle&&this.autoRotate&&(this.rotationHandle=setInterval(t.bind(this.rotate,this),this.rotationInterval),this.updateToolbar())},stopRotation:function(){"undefined"!=typeof this.rotationHandle&&(clearInterval(this.rotationHandle),this.rotationHandle="",this.updateToolbar())},rotate:function(){this.jumpTo("next")},updateDisplacedItems:function(){t.Array.each(this.displacedItems,t.bind(function(t){this.translate(t)},this)),this.translate(this.sliderEl,-this.maskWidth*this.currentPage,0,n),this.displacedItems=[]},getMaskWidth:function(){var t,i=0;if(this.itemsEl&&this.itemsEl.size()>=this.groupItems)for(t=0;t<this.groupItems;t+=1)i+=parseInt(this.itemsEl.item(t).get("offsetWidth"),10);return i}},{NS:"StencilCarousel",CSS_SELECTED:m,CSS_HIDDEN:"Vh",CSS_ITEM:E,CSS_SLIDER:f,CSS_INDICATORS:b,CSS_RANGES:I,CSS_RANGES_ITEM:v,CSS_MASK:L,CSS_DISABLED:y,TEMPLATE_RANGE_CURRENT:D,TEMPLATE_RANGE_NESTED:C,PREV_SELECTOR:S,NEXT_SELECTOR:k,
PLAY_SELECTOR:T,STOP_SELECTOR:P,requiresInit:!0}),t.Stencil.registerPlugin(H,"Carousel")},"@VERSION@",{requires:["stencil-base","yui-base","dom-base","node-base","node-style","node-pluginhost","event-hover"]});YUI.add("stencil-fx-collapse",function(t){"use strict";var s,e="Collapse-opened",i="Collapse",o="FastTrans",n="scrollHeight",l="height",a="offsetWidth",c="offsetHeight";s=function(t){s.superclass.constructor.call(this,t),this.host=t.host},t.extend(s,t.Stencil.BaseFx),s.NS="collapse",s.prototype.show=function(s){return t.Stencil.getNodeList(s).each(function(t){t.get(c)<t.get(n)&&this.transition(t,function(t){var s=t.get(n)+"px";0===t.get(c)&&t.setStyle(l,"0px").get(a),t.addClass(o).addClass(e).setStyle(l,s)})},this),this},s.prototype.hide=function(s){return t.Stencil.getNodeList(s).each(function(t){t.hasClass(e)&&this.transition(t,function(t){var s=t.get(n)+"px";t.removeClass(i).setStyle(l,s).get(a),t.addClass(o).addClass(i).removeClass(e).setStyle(l,"0px")})},this),this},s.prototype.toggle=function(t){t.each(function(t){t.hasClass(e)?this.hide(t):this.show(t)},this)},t.Stencil.Hosts.Fx.plug(s)},"@VERSION@",{requires:["stencil-fx","node-style"]});YUI.add("stencil-fx",function(t,e){"use strict";var i;function s(t){this.constructor.superclass.constructor.call(this,t)}(i=function(){}).prototype={getActiveClass:function(){return this.constructor.NS+"-active"},transition:function(e,i){(e=t.Stencil.getNodeList(e)).each(function(e){e.addClass(this.getActiveClass()).publish("fx:start",{emitFacade:!0}),e.fire("fx:start",{fx:this.constructor.NS,fxTarget:e}),Stencil.css.transitioned(e,t.bind(function(t){this.transitionDone(t)},this)),i(e)},this)},transitionDone:function(e){e.get("id");e.removeClass(this.getActiveClass()).publish("fx:done",{emitFacade:!0}),e.fire("fx:done",{fx:this.constructor.NS,fxTarget:e}),t.publish("fx:done",{emitFacade:!0}),t.fire("fx:done",{fx:this.constructor.NS,fxTarget:e})}},t.Stencil.BaseFx=i,t.extend(s,t.Stencil.BasePlugin,{execute:function(e,i){var s,n,c,o=[];if(!(s=(i=i||{}).fx))return this;for(n=0,c=(s=s.split(" ")).length;n<c;n+=1)o.push("stencil-fx-"+s[n]);t.use(o,function(t){var n,c,o,r,a;for(r=0,a=s.length;r<a;r+=1)if(c=s[r],o=t.Stencil.Hosts.Fx[c]){if(0===(e=e.filter(":not(."+c+"-active)")).size())return this;for(n in i)i.hasOwnProperty(n)&&"fx"!==n&&o[n](e,i[n])}})}},{NS:"StencilFx"}),t.Stencil.registerPlugin(s,"Fx"),t.Stencil.Hosts.Fx=t.augment({},t.Plugin.Host,!1,null)},"@VERSION@",{requires:["stencil-base","yui-base","dom-base","node-base","pluginhost","event-custom","selector-css3"]});YUI.add("stencil-lightbox",function(t,e){"use strict";var i,s,o,n="Dn",a="Modal-off",l="Modal-on",d="Modal-is2tall",c="LightBox-open",u=t.one(document),r=u.get("documentElement"),h=t.Node.create('<div class="Modal Modal-off" role="alertdialog" tabindex="-1"></div>');function g(t){this.constructor.superclass.constructor.call(this,t)}o=function(e,s){return i||(i=e.item(0)===this._node&&s&&s.content?h:e.item(0),t.UA.ie&&t.UA.ie<7&&i.plug(t.Plugin.Shim)),i},g.DEFAULTS={content:"",closebtn:1,autohide:1,focusNode:null,enforceFocus:1},t.extend(g,t.Stencil.BasePlugin,{hide:function(t,e){var s=o.call(this,t,e);this.hideCurtain(),Stencil.css.transitioned(s,function(t,e){e&&"0"!==t.getComputedStyle("opacity")||t.addClass(n)}),r.removeClass(c),s.addClass(a).removeClass(l).removeClass(d),s.fire("lightbox:hide"),this.releaseFocus(s),i=null},show:function(e,i){var s,u,h=o.call(this,e,i),g=t.merge(this.constructor.DEFAULTS,i);g.content&&h.set("innerHTML",g.content),this.processSources(h),g.closebtn&&(1===Number(g.closebtn)?(s=h.one(".ModalDismissBtn"))||(s=t.Node.create('<button class="ModalDismissBtn Btn Pos-a T-0 End-0 M-4 Fz-xs P-2" data-plugin="lightbox" data-lightbox=\'{"default":"hide"}\'><i class="Icon">&#xe009;</i></button>'),h.append(s)):(s=t.one(g.closebtn)).hasAttribute("data-lightbox")||s.setAttribute("data-plugin",(s.getAttribute("data-plugin")+" lightbox").trim()).setAttribute("data-lightbox",'{"default":"hide"}')),u=g.focusNode?t.one(g.focusNode):s||h,this.showCurtain(h),h.removeClass(n),h.set("role","alertdialog").set("tabIndex","-1"),setTimeout(t.bind(function(){var e;h.removeClass(a).addClass(l),r.addClass(c),h.get("offsetHeight")>t.DOM.viewportRegion().height&&h.addClass(d),h.fire("lightbox:show"),g.autohide&&g.enforceFocus&&(e=t.bind(this.hide,this,t.Stencil.getNodeList(h))),this.focus(h,u,e,g.enforceFocus)},this),10)},toggle:function(t,e){o.call(this,t).hasClass(a)?this.show(t,e):this.hide(t,e)},showCurtain:function(e){return s||(s=t.Node.create('<div tabindex="-1" class="PageOverlay Dn"><b class="ModalShim"></b><b class="IEShim"></b></div>'),t.UA.ie&&t.UA.ie<7&&s.plug(t.Plugin.Shim),u.one("body").append(s),s.after("click",function(t){s===t.target&&t.halt()})),s.prepend(e).removeClass(n),s},hideCurtain:function(){s&&!s.hasClass(n)&&Stencil.css.transitioned(s,function(t,e){e&&"0"!==t.getComputedStyle("opacity")||t.addClass(n)})}},{NS:"StencilLightBox"}),t.Stencil.registerPlugin(g,"LightBox")},"@VERSION@",{requires:["stencil-base","yui-base","dom-base","dom-screen","node-base","node-pluginhost","shim-plugin"]});YUI.add("stencil-scrollview",function(t){"use strict";var s=Modernizr,i=null,e=t.config.win,a=".ScrollView-",n=a+"Slider",h=a+"Mask",r="> .Selected",o=s.prefixed("transform"),l=s.prefixed("transition"),f=325,d=.5,m="px",c=Modernizr.overflowscrolling,u=1e3/30;function p(s){this.constructor.superclass.constructor.call(this,s);var i=this._node.getDOMNode();this.nodeDOM=i,this.sliderEl=i.querySelector(n),this.maskEl=i.querySelector(h),this.align=i.getAttribute("data-scrollview-align"),this.axis=i.getAttribute("data-axis")||"x",this.lubricity=i.getAttribute("data-lubricity")||d,i.hasAttribute("data-disable-native")&&(c=!1),c?(this.maskEl.classList.remove("Ov-h"),this.maskEl.classList.add("Ov-a","Ovs-t","Whs-nw")):(this.maskEl.classList.remove("Ov-a","Ovs-t","Whs-nw"),this.maskEl.classList.add("Ov-h")),"y"===this.axis?(this.gestures="tap panend panup pandown",this.deltaPropName="deltaY",this.velocityPropName="velocityY",this.offsetFromParent="offsetTop",this.maskSpace="offsetHeight",this.maskScroll="scrollHeight"):(this.gestures="tap panend panleft panright",this.deltaPropName="deltaX",this.velocityPropName="velocityX",this.offsetFromParent="offsetLeft",this.maskSpace="offsetWidth",this.maskScroll="scrollWidth"),this.offset=0,this.offsetTarget=0,this.offsetMin=0,this.offsetMax=0,this.releaseTime=0,this.afterBoundsTime=0,this.amplitude=0,this.slideEnabled=!0,this.animStartTime=0,this.animEndValue=0,this.animStartValue=0,this.lastDrawingTime=0,this.hammer=new t.Hammer(i,{touchAction:"auto",domEvents:!1,cssProps:{tapHighlightColorString:""}}).on(this.gestures,this.handleHammer.bind(this)),this.updateOffsetMin(),this.checkSliderContentSpace(),e.addEventListener("orientationchange",this.onOrientationChange.bind(this),!1),e.addEventListener("resize",this.onOrientationChange.bind(this),!1),this.breakPointHandle=t.on("bquery:breakpoint",this.onOrientationChange,this),this.onOrientationChange()}t.extend(p,t.Stencil.BasePlugin,{destroy:function(){this.offset=i,this.offsetTarget=i,this.offsetMin=i,this.offsetMax=i,this.releaseTime=i,this.afterBoundsTime=i,this.amplitude=i,this.slideEnabled=i,this.animStartTime=i,this.animEndValue=i,this.animStartValue=i,this.lastDrawingTime=i,this.sliderEl=i,this.maskEl=i,this.axis=i,this.align=i,this.scrollFromParent=i,this.gestures=i,this.deltaPropName=i,this.velocityPropName=i,this.offsetFromParent=i,this.maskSpace=i,this.maskScroll=i,this.hammer=i,this.breakPointHandle.detach(),this.breakPointHandle=i,this.constructor.superclass.destroy.apply(this,arguments)},translate:function(t,s){var i,e,a,n,h,r,f=0,d=0,u=this.axis,p=this.sliderEl,g=this.maskEl;"x"===u?(f=t,i="scrollLeft"):"y"===u&&(d=t,i="scrollTop"),c?(t*=-1,s?(r=Date.now(),this.animStartTime||(this.animStartTime=r,this.animEndValue=t,this.animStartValue=g[i]),e=this.animStartValue,a=this.animEndValue-this.animStartValue,n=(r-this.animStartTime)/1e3/.5,h=parseInt(-a*n*(n-2)+e,10),g[i]=h,n<=1?requestAnimationFrame(this.translate.bind(this,h,!0)):(g[i]=this.animEndValue,this.animStartTime=0)):g[i]=t):(p.style[o]=["translate3d(",f,m,",",d,m,",0)"].join(""),p.style[l]=s?"all .5s ease-out":"")},autotranslate:function(){var t,s,i,e,a,n=this.amplitude,h=this.offsetTarget,r=this.offsetMin,o=this.offsetMax;if(n&&!this.dragging){if(t=(e=Date.now())-this.releaseTime,s=e-(this.lastDrawingTime||this.releaseTime),(a=h+(i=-n*Math.exp(-t/f)))>=o&&0!==this.afterBoundsTime){if(Date.now()-this.afterBoundsTime>100)return this.afterBoundsTime=0,this.offset=o,void this.translate(o,!0)}else if(a<=r&&0!==this.afterBoundsTime){if(Date.now()-this.afterBoundsTime>100)return this.afterBoundsTime=0,this.offset=r,void this.translate(r,!0)}else(a>=o||a<=r)&&0===this.afterBoundsTime&&(this.afterBoundsTime=Date.now());i>.5||i<-.5?(requestAnimationFrame(this.autotranslate.bind(this)),s>u&&(this.lastDrawingTime=Date.now()-s%u,this.translate(a))):this.translate(h)}},updateOffsetMin:function(){this.offsetMin=this.maskEl[this.maskSpace]-this.sliderEl[this.maskScroll]},getOffset:function(){return c?this.maskEl[this.scrollFromParent]:this.offset},handleHammer:function(t){var s=this.offset+t[this.deltaPropName],i=1e3*t[this.velocityPropName],e="right"===t.direction||"down"===t.direction?1:-1,a=this.offsetMax,n=this.offsetMin,h=!0;switch(t.type){case"panup":case"pandown":case"panright":case"panleft":this.dragging=!0,c?h=!1:this.translate(s);break;case"panend":this.dragging=!1,Stencil.utils.dispatch(this.nodeDOM,t.type,t),0===t.distance?h=!1:c?c&&(h=!1):Math.abs(i)>10?(this.amplitude=this.lubricity*i*e,this.offsetTarget=s+this.amplitude,this.releaseTime=Date.now(),requestAnimationFrame(this.autotranslate.bind(this)),this.offset=this.offsetTarget):s>=a?(this.offset=a,this.translate(a,!0)):s<=n?(this.offset=n,this.translate(n,!0)):this.offset=s;break;case"tap":Stencil.utils.dispatch(this.nodeDOM,t.type,t),h=!1}h&&t.preventDefault()},checkSliderLimits:function(){var t=this.maskEl[this.maskSpace],s=this.sliderEl[this.maskScroll];this.slideEnabled&&(this.offset>0?(this.offset=0,this.translate(this.offset)):this.offset<t-s&&(this.offset=t-s,this.translate(this.offset)),this.updateOffsetMin(),this.offset=this.offset)},checkSliderContentSpace:function(){var t=this.maskEl[this.maskSpace],s=this.sliderEl[this.maskScroll];if(t>s){switch(this.slideEnabled=!1,this.align){case"left":this.offset=0;break;case"right":this.offset=t-s;break;default:this.offset=t/2-s/2}this.translate(this.offset)}else this.slideEnabled=!0},onOrientationChange:function(){this.sliderEl.offsetParent!==i&&(this.checkSliderContentSpace(),this.positionSelectedNode(),this.checkSliderLimits())},positionSelectedNode:function(){var s=t.one(this.sliderEl).one(r);s&&0!==((s=s.getDOMNode())[this.offsetFromParent]||0)&&this.slideEnabled&&(this.offset=-s[this.offsetFromParent],this.translate(this.offset))}},{NS:"StencilScrollView",defaultTriggerEvents:[],requiresInit:!0}),t.Stencil.registerPlugin(p,"ScrollView")},"@VERSION@",{requires:["node-base","node-style","hammer"]});YUI.add("stencil-selectbox",function(e){"use strict";function t(t){var n,s;this.constructor.superclass.constructor.call(this,t),s=(n=this._node).getData("selectbox-target")||n.getData("target"),this.nodeDOM=n.getDOMNode(),this.targetEl=s?e.one(s):n.get("parentNode").one(".SelectBoxPick")||n.get("parentNode").one(".SelectBox-Text")||n.get("parentNode").one(".SelectBox-Pick")}e.extend(t,e.Stencil.BasePlugin,{execute:function(e,t,n){this.targetEl&&("change"===n.type?this.update(e,t):"focus"===n.type?this.targetEl.addClass("Focused"):"blur"===n.type&&this.targetEl.removeClass("Focused"))},update:function(t,n,s){var o,i,c=this.nodeDOM;s&&"number"==typeof s.to&&(c.selectedIndex=s.to),(i=(o=c.options[c.selectedIndex]).getAttribute("data-selectbox-link")||o.getAttribute("data-link"))?e.config.win.location.replace(i):this.targetEl&&this.targetEl.set("innerHTML",o.innerHTML)}},{NS:"StencilSelectBox",defaultTriggerEvents:["change","focus","blur"]}),e.Stencil.registerPlugin(t,"SelectBox")},"@VERSION@",{requires:["stencil-base"]});YUI.add("stencil-source",function(t,e){"use strict";var n,c;function i(t){this.constructor.superclass.constructor.call(this,t)}c=function(t,e){t.skipInsert||"string"!=typeof t.content||(t.node.set("innerHTML",t.content),t.node.setData("source-loaded",!0)),e&&e(t)},(n=function(){}).prototype={execute:function(t,e,n){t.getData("source-loaded")&&!e.force||this.fetch(t,n)},callback:function(t){t.node.hasAttribute("data-tmpl")?this.renderTemplate(t):c(t)},renderTemplate:function(e){var n,i,a=e.node,o={};n=a.getAttribute("data-tmpl"),t.use("mjata-template","mjata-util",t.bind(function(t){(i=this.parseAttrs(n))&&t.Mjata.Template.render(i.change,e.content,null,function(t,e){c({node:a,content:e},o.callback)})},this))},parseAttrs:function(e){return e?t.Mjata.Util.strParseKV(e):null}},t.Stencil.BaseSource=n,t.extend(i,t.Stencil.BasePlugin,{execute:function(e,n){var c=t.Stencil.Hosts.Source;n=n||{},e||(e=t.Stencil.getNodeList(this._node)),e.each(function(e){var i;(i=e.getAttribute("data-source-plugin"))&&(c[i]?c[i].execute(e,n,this.callback):t.use("stencil-source-"+i,t.bind(function(t){c[i]&&c[i].execute(e,n,this.callback)},this)))},this)}},{NS:"StencilSource"}),t.augment(i,t.Stencil.BaseSource),t.Stencil.registerPlugin(i,"Source"),t.Stencil.Hosts.Source=t.augment({},t.Plugin.Host,!1,null)},"@VERSION@",{requires:["node","oop","pluginhost","mjata-util"]});YUI.add("stencil-sticker",function(t,e){"use strict";if(!(t.UA.ios&&t.UA.ios<5||t.UA.android&&t.UA.android<3||t.UA.silk||t.UA.userAgent.match(/Silk/)||t.UA.ie&&t.UA.ie<7)){var s,r,i,o,n,c,a,l,d,k="bottom",p="Sticky",g="Sticky-off",_="Sticky-on",u=t.config.doc,f=!1,h=t.one("html"),m=Modernizr,y="marginTop",S="none",v="offsetHeight",A="px",C="resize",b="scroll",H="top",U="translate3d(0,0,0)",M=t.config.win,D=0,P=0,E=0,Y=f,I=parseInt(t.one("body").getComputedStyle("minWidth"),10)||1150,N=[],T=null;a=function(e){var s;if((D=t.DOM.docScrollY())!==P||!e){for(T=t.DOM.viewportRegion(),s=N.length-1;s>=0;s-=1)N[s].getDOMNode()?l(N[s],e):N.splice(s,1);P=D}},l=function(t,e){var s,r,i,n,c,a=T;d(t,a),i=Math.round(t._sticker.y+t._sticker.nodeHeight+t._sticker.offset),c=t._sticker.forcePosition,n=Math.round(t._sticker.y+t._sticker.nodeHeight),(c||n<t._sticker.scrollHeight)&&(s=t._sticker.lastPos,s=c?"top"===c&&a.top+t._sticker.top>t._sticker.y?H:"bottom"===c&&a.bottom>=i-1?k:S:t._sticker.nodeHeight>a.height-t._sticker.top?((r=D>P)||!e)&&a.bottom>=i-1?k:!r&&e&&a.top+t._sticker.top<=t._sticker.currentY&&a.top+t._sticker.top>t._sticker.y?H:S:t._sticker.nodeHeight<=a.height-t._sticker.top&&D+t._sticker.top>t._sticker.y?H:S,(t._sticker.lastPos!==s||t._sticker.y>=a.top+t._sticker.top)&&o(t,s))},d=function(t,e){var s=Math.round(t.getY());s<0&&t.hasClass(p)?s=e.top+s:t._sticker.lastPos===H&&(s=e.top+t._sticker.top),t._sticker.currentY=s,t._sticker.y=Math.round(t._sticker.pHolder.getY()),t._sticker.nodeHeight=t.get(v),t._sticker.offset=Math.max(s-t._sticker.y,0),t._sticker.vpTaller=e.height>t._sticker.nodeHeight,t._sticker.scrollHeight=Math.max(u.body.scrollHeight,u.documentElement.scrollHeight)},o=function(e,s){var r,i,o={};s===H?(o={position:"",bottom:"",top:e._sticker.top+A,transform:U},e._sticker.translated=f):s===k?(o={position:"",bottom:0,top:"",transform:U},e._sticker.translated=f):(e._sticker.y<T.top+e._sticker.top?(r="translate3d(0,"+e._sticker.offset+A+",0)",i=e._sticker.offset+A):(r="",i=""),o=m&&m.csstransforms3d&&!t.UA.gecko?{position:"",bottom:"",top:"",transform:r}:{position:"relative",bottom:"",top:i},e._sticker.translated=!0),t.UA.gecko&&t.UA.gecko<27&&(o.transform=undefined),s!==S?(e.addClass(p),e._sticker.parentClass&&e.get("parentNode").addClass(e._sticker.parentClass),e._sticker.sticky=!0,Stencil&&Stencil.utils&&Stencil.utils.dispatch(e.getDOMNode(),"sticker:sticky",{where:s})):(e.removeClass(p),e._sticker.parentClass&&e.get("parentNode").removeClass(e._sticker.parentClass),e._sticker.sticky=f),e._sticker.lastPos=s,e.setStyles(o)},n=function(e,s){var r,i=0,o=t.merge(e.getData(),s);return o["sticker-top"]?i=parseInt(o["sticker-top"],10):o["sticker-toptarget"]?i=parseInt(t.one(o["sticker-toptarget"]).get(v),10):(r=t.one("body"),i=parseInt(r.getComputedStyle(y),10)||parseInt(r.getComputedStyle("paddingTop"),10)||0),i},i=function(){u.documentElement.clientWidth>I?h.replaceClass(g,_):h.replaceClass(_,g),a()},r=function(t,e){Y=f,E=+new Date,t&&t.call(undefined,e)},c=function(e){var o,n,c,l;e.type===b?(n=a,c=!0):e.type===C&&(n=i),l=t.bind(r,undefined,n,c),M.requestAnimationFrame?Y||(Y=!0,requestAnimationFrame(l)):(o=+new Date,E&&o<E+50?(M.clearTimeout(s),s=M.setTimeout(l,50)):l())},t.extend(O,t.Stencil.BasePlugin,{},{NS:"StencilSticker",requiresInit:!0,defaultTriggerEvents:[],updateAllNodes:a}),t.Stencil.registerPlugin(O,"Sticker"),M.addEventListener?(M.addEventListener(b,c,f),M.addEventListener(C,c,f)):(M.attachEvent("on"+b,c),M.attachEvent("on"+C,c)),D=t.DOM.docScrollY(),i()}function O(e){this.constructor.superclass.constructor.call(this,e);var s,r,i,o=this._node,c=t.merge(o.getData(),e)||{},a=n(o,e),d={},k={};(s=t.Node.create('<div class="StickyPholder"></div>')).setStyle(y,o.getStyle(y)),d.marginTop=0,o.insert(s,"before"),i=s.getY(),m&&m.csstransforms3d&&(!t.UA.gecko||t.UA.gecko>=27)&&(d.transform=U),o.setStyles(d),r=o.get(v),k.pHolder=s,k.top=a,k.y=i,k.currentY=i,k.forcePosition=c["sticker-forceposition"],k.parentClass=c["sticker-parentclass"],k.vpTaller=t.DOM.viewportRegion().height>r,k.nodeHeight=r,k.offset=0,k.lastPos=S,o._sticker=k,N.push(o),l(o)}},"@VERSION@",{requires:["node-base","node-style","node-screen"]});YUI.add("stencil-toggle",function(e){"use strict";var t,s="data-toggle-group-active",i="data-toggle-group",r="data-toggle-prevent-default",n="remove",o="toggle",a={add:1,remove:1,toggle:1,replace:1};function l(e){this.constructor.superclass.constructor.call(this,e)}t=function(e,t,s){e.getAttribute(t)===s[0]?e.setAttribute(t,s[1]):e.setAttribute(t,s[0])},e.extend(l,e.Stencil.BasePlugin,{execute:function(e,t,s){var i,n=this._node;if(t){if(s&&("A"===n.get("tagName")&&"0"!==n.getAttribute(r)||"1"===n.getAttribute(r)))try{s.preventDefault()}catch(o){}for(i in t)t.hasOwnProperty(i)&&a[i]&&this.go(i,e,t[i])}},go:function(t,r,n){var a;r||(r=e.Stencil.getNodeList(this._node)),this.processSources(r),r.each(function(r){a=null,t===o&&r.hasAttribute(i)&&(a=e.all("["+i+"="+r.getAttribute(i)+"]["+s+"]")).size()>0&&(a.removeAttribute(s),this.processTarget(a,t,n)),a&&-1!==a.indexOf(r)||(a&&r.setAttribute(s,1),this.processTarget(r,t,n))},this)},processTarget:function(s,i,r){var a,l,c;return e.Object.each(r,function(r,g){if(a="classnames"===g,"string"==typeof r&&(r=a?e.Lang.trim(r).split(","):[r]),"replace"===i&&(a?s.setAttribute("className",""):s.setAttribute(g,"")),"style"===g)e.Object.each(r,function(t,r){var a,l,c;for(c=s.getStyle(r),a=0,l=t.length;a<l;a+=1){if(i===n){s.setStyle(r,"");break}if(i===o){if(c!==e.one(document.createElement(s.get("tagName"))).setStyle(r,t[a]).getStyle(r)){s.setStyle(r,t[a]);break}}else s.setStyle(r,t[a])}},this);else if(a)for(l=0,c=r.length;l<c;l+=1)i===n?s.removeClass(r[l]):i===o?s.toggleClass(r[l]):s.addClass(r[l]);else i===n?s.removeAttribute(g):i===o?s instanceof e.NodeList?s.each(function(e){t(e,g,r)}):t(s,g,r):s.setAttribute(g,r[0])},this),this}},{NS:"StencilToggle",defaultTriggerEvents:["click"]}),e.Stencil.registerPlugin(l,"Toggle")},"@VERSION@",{requires:["stencil-base","yui-base","dom-base","node-base","node-style","node-pluginhost","event-focus","event-mouseenter","json-parse"]});YUI.add("stencil-tooltip",function(t,e){"use strict";var o,s,i,n,r,a,l,c,h,u,d,f,p,b,g=null,m="D-n",w="Tooltip",N="TooltipContent",v=t.UA.ie&&t.UA.ie<7?["javascript",":false"].join(""):"about:blank",S={"default":{id:g,position:"t",validPositions:"tfr tr t tl tfl rfb rb r rt rft bfl bl b br bfr lft lt l lb lfb",content:"",classes:"FancyBox Arrow Pos-a Lh-14 Z-5 Px-10 Mt-10",role:"alert",width:"150px",maxWidth:g,minWidth:g,template:"<div tabindex='-1' class='{classes}' role='{role}'><iframe src='"+v+"' aria-hidden='true' tabindex='-1' frameborder='0' class='IframeTooltip'></iframe></div>",contentClasses:"Pos-r M-0",container:g,parent:document.body,autohide:!0,arrowHeight:8,arrowWidth:14,mouseover:!1,noPosition:!1,align:g,alignNode:g,focusNode:g,nofocus:!1,scrollIntoView:!1}},W="px",x="id",y="top",A="left",C="tooltip-content-id",E={tl:"South SouthWest",tfl:"South SouthFarWest",tc:"South",tr:"South SouthEast",tfr:"South SouthFarEast",rt:"West WestNorth",rft:"West WestFarNorth",rc:"West",rb:"West WestSouth",rfb:"West WestFarSouth",br:"North NorthEast",bfr:"North NorthFarEast",bc:"North",bl:"North NorthWest",bfl:"North NorthFarWest",lb:"East EastSouth",lfb:"East EastFarSouth",lc:"East",lt:"East EastNorth",lft:"East EastFarNorth"};function P(t){this.constructor.superclass.constructor.call(this,t)}o=function(e,o){var s,i,n=t.Node(document.createElement("div"));return n.setAttribute("className","js-Tooltip-Wrapper Pos-r"),(i=(s=t.Node.create(t.Lang.sub(o.template,o)).addClass(m).addClass(w)).get(x))||(i=t.stamp(s),s.set(x,i)),n.append(s),e.get("parentNode")?e.replace(n):t.one(o.parent).prepend(n),s.append(e),e.addClass(N),s},s=function(e,s){var i,n,r,a,l=e.get(x);return l||(l=t.stamp(e),e.set(x,l)),(i=s.id||e.getData(C))&&(r=t.one("#"+i)),r?n=(a=r.get("parentNode")).hasClass("Tooltip")?a:o(r,s):(r=t.one(document.createElement("div")),i=i||t.stamp(r),r.set(x,i),n=o(r,s)),e.setData(C,i),n},i=function(e,o,s){var i={},n=s.one("."+N),r=n.get(x),a=e.get(x);return o.mouseover&&!s.hasAttribute("data-tooltip")&&(s.setAttribute("data-trigger","mouseenter mouseleave").setAttribute("data-tooltip",'{"target":"#'+a+'","mouseenter":{"show":{"id":"'+r+'","noPosition":true,"nofocus":'+o.nofocus+'}},"mouseleave":{"hide":{"id":"'+r+'","noPosition":true}}}').setAttribute("data-plugin","tooltip"),t.Stencil.initAll(s)),o.maxWidth&&(i.maxWidth=o.maxWidth),o.minWidth&&(i.minWidth=o.minWidth),o.width&&(i.width=o.width),n.setStyles(i).setAttribute("className",o.contentClasses+" "+N),s},n=function(e,o,s){var i;return o||(o={}),i=o.type||"default",s&&s.type&&(0===s.type.indexOf("mouse")||0===s.type.indexOf("pointer"))&&(o.nofocus=!0),t.merge(S[i],o)},a=function(e,o,n){var a,l;n||(n=s(e,o)),n.getData("beenShown")||(i(e,o,n),this.processSources(n),n.setData("beenShown",1)),!o.noContentUpdate&&o.content&&this.setContent(n,o.content),o.noPosition?n.removeClass(m):this.position(e,n,o),o.scrollIntoView&&n.scrollIntoView(),!1===o.nofocus&&(o.autohide&&(a=t.bind(r,this,g,g,n)),l=o.focusNode?t.one(o.focusNode):n,this.focus(n,l,a)),n.one(".TooltipContent").fire("tooltip:show")},r=function(t,e,o){o||(o=s(t,e)),this.releaseFocus(o),o.addClass(m),o.one(".TooltipContent").fire("tooltip:hide")},l=function(t,e){var o=0;switch(t){case"l":o=e?.75:.25;break;case"t":o=.25;break;case"r":o=e?.25:.75;break;case"b":o=.75;break;case"fl":o=e?1:0;break;case"ft":o=0;break;case"fr":o=e?0:1;break;case"fb":o=1;break;default:o=.5}return o},c=function(t,e,o){var s=0;switch(t){case"fl":case"fr":case"ft":case"fb":s=(2+e/2)*("fr"===t||"fb"===t?-1:1),!o||"fr"!==t&&"fl"!==t||(s*=-1)}return s},u=function(t,e,o,s,i){var n=0,r=0;return"t"===o||"b"===o?(n=-l(s,i)*e.w,r="t"===o?-e.h:t.h):(n="l"===o?-e.w:t.w,r=t.h/2-l(s,i)*e.h),{x:t.x+n,y:t.y+r,w:e.w,h:e.h}},h=function(t,e){return t.left<=e.x&&t.right>=e.x+e.w&&t.top<=e.y&&t.bottom>=e.y+e.h},p=function(t){return t.substr(1)||"c"},b=function(t){return t.charAt(0)},f=function(e,o,s,i){var n,r,a,l,c,d=i.validPositions.split(" "),f=t.Array.indexOf(d,i.box+i.arrow),g=!1,m=!1;for("c"===i.arrow&&f<0&&(f=t.Array.indexOf(d,i.box)),r=f;!g&&!m;)l=b(d[n=r]),c=p(d[n]),a=u(e,s,l,c,i.rtl),g=h(o,a),(r+=1)===d.length&&(r=0),r===f&&(m=!0);return g&&(i.box=l,i.arrow=c),{styles:i}},d=function(e,o,s,i){var n,r={x:o.getX(),y:o.getY(),w:o.get("offsetWidth"),h:o.get("offsetHeight")},a={x:0,w:s.get("offsetWidth"),h:s.get("offsetHeight")};return{container:n=e?{right:e.getX(),left:e.getX()+e.get("offsetWidth"),height:e.get("offsetHeight"),top:e.getY()}:t.DOM.viewportRegion(),pointAtNode:r,tooltip:a,positions:f(r,n,a,i)}},t.extend(P,t.Stencil.BasePlugin,{setContent:function(e,o){t.Stencil.getNodeList(e).each(function(e){var s=e.one(".TooltipContent");"string"==typeof o?s.set("innerHTML",o):(s.set("innerHTML",""),s.appendChild(t.one(o)))},this)},position:function(e,o,s){var i,n,r,a,h,u,f,g,m=o.get("parentNode"),N="rtl"===m.getStyle("direction"),v=s.position,S=b(v),x=p(v),C=t.UA.ie&&t.UA.ie<8?0:s.arrowHeight,P=s.arrowWidth,T=s.align,k=s.alignNode,F=s.classes,H=s.container,I={};switch(k&&(k=t.one(k)),H&&(H=t.one(H)),F=F+" V-h "+w,o.setAttribute("className",F),S=(i=d(H,e,o,{arrow:x,box:S,validPositions:s.validPositions,rtl:N})).positions.styles.box,x=i.positions.styles.arrow,F+=" "+E[v=S+x],o.setAttribute("className",F),h=m.getY(),a=m.getX(),u=parseInt(o.getComputedStyle("marginTop"),10),f=e.getX()-a,g=e.getY()-h,n=l(x,N),r=c(x,P,N),S){case"b":case"t":I[A]=f-i.tooltip.w*n-r+i.pointAtNode.w/2+W,I[y]="t"===S?g-i.tooltip.h-C-u+W:g+i.pointAtNode.h+C-u+W;break;case"l":case"r":I[N?"right":A]="r"===S?f+i.pointAtNode.w+C+W:f-i.tooltip.w-C+W,I[y]=k&&"t"===T?k.getY()-h-u-r+W:g+i.pointAtNode.h/2-u-i.tooltip.h*n-r+W}o.setStyles(I),o.removeClass("V-h")},show:function(t,e,o){var s;this._node;s=n(0,e,o),t.each(function(t){a.call(this,t,s)},this)},hide:function(t,e,o){var s;this._node;s=n(0,e,o),t.each(function(t){r.call(this,t,s)},this)},toggle:function(t,e,o){var i,l;this._node;l=n(0,e,o),t.each(function(t){
(i=s(t,l)).hasClass(m)?a.call(this,t,l,i):r.call(this,t,l,i)},this)}},{NS:"StencilTooltip"}),t.Stencil.registerPlugin(P,"Tooltip")},"@VERSION@",{requires:["stencil-base","yui-base","dom-base","dom-screen","node-base","node-pluginhost","node-style","stencil-source"]});window.Modernizr=function(t,e,n){var i,r,o,s,a="2.8.3",c={},l=!0,d=e.documentElement,u="modernizr",f=e.createElement(u),p=f.style,h=" -webkit- -moz- -o- -ms- ".split(" "),v="Webkit Moz O ms",m=v.split(" "),y=v.toLowerCase().split(" "),w="http://www.w3.org/2000/svg",x={},g=[],b=g.slice,_=function(t,n,i,r){var o,s,a,c,l=e.createElement("div"),f=e.body,p=f||e.createElement("body");if(parseInt(i,10))for(;i--;)(a=e.createElement("div")).id=r?r[i]:u+(i+1),l.appendChild(a);return o=["&#173;",'<style id="s',u,'">',t,"</style>"].join(""),l.id=u,(f?l:p).innerHTML+=o,p.appendChild(l),f||(p.style.background="",p.style.overflow="hidden",c=d.style.overflow,d.style.overflow="hidden",d.appendChild(p)),s=n(l,t),f?l.parentNode.removeChild(l):(p.parentNode.removeChild(p),d.style.overflow=c),!!s},E=(s={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(t,i){i=i||e.createElement(s[t]||"div");var r=(t="on"+t)in i;return r||(i.setAttribute||(i=e.createElement("div")),i.setAttribute&&i.removeAttribute&&(i.setAttribute(t,""),r=M(i[t],"function"),M(i[t],"undefined")||(i[t]=n),i.removeAttribute(t))),i=null,r}),T={}.hasOwnProperty;function S(t){p.cssText=t}function M(t,e){return typeof t===e}function A(t,e){var i,r;for(i in t)if(r=t[i],!~(""+r).indexOf("-")&&p[r]!==n)return"pfx"!=e||r;return!1}function D(t,e,i){var r=t.charAt(0).toUpperCase()+t.slice(1),o=(t+" "+m.join(r+" ")+r).split(" ");return M(e,"string")||M(e,"undefined")?A(o,e):function(t,e,i){var r,o;for(r in t)if((o=e[t[r]])!==n)return!1===i?t[r]:M(o,"function")?o.bind(i||e):o;return!1}(o=(t+" "+y.join(r+" ")+r).split(" "),e,i)}for(o in r=M(T,"undefined")||M(T.call,"undefined")?function(t,e){return e in t&&M(t.constructor.prototype[e],"undefined")}:function(t,e){return T.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e,n,i=this;if("function"!=typeof i)throw new TypeError;return e=b.call(arguments,1),n=function(){var r,o,s;return this instanceof n?((r=function(){}).prototype=i.prototype,o=new r,s=i.apply(o,e.concat(b.call(arguments))),Object(s)===s?s:o):i.apply(t,e.concat(b.call(arguments)))}}),x.canvas=function(){var t=e.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))},x.touch=function(){var n;return"ontouchstart"in t||t.DocumentTouch&&e instanceof DocumentTouch?n=!0:_(["@media (",h.join("touch-enabled),("),u,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(t){n=9===t.offsetTop}),n},x.csstransforms3d=function(){var t=!!D("perspective");return t&&"webkitPerspective"in d.style&&_("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,n){t=9===e.offsetLeft&&3===e.offsetHeight}),t},x.csstransitions=function(){return D("transition")},x.svg=function(){return!!e.createElementNS&&!!e.createElementNS(w,"svg").createSVGRect},x)r(x,o)&&(i=o.toLowerCase(),c[i]=x[o](),g.push((c[i]?"":"no-")+i));return c.addTest=function(t,e){if("object"==typeof t)for(var i in t)r(t,i)&&c.addTest(i,t[i]);else{if(t=t.toLowerCase(),c[t]!==n)return c;e="function"==typeof e?e():e,void 0!==l&&l&&(d.className+=" stencil-"+(e?"":"no-")+t),c[t]=e}return c},S(""),f=null,c._version=a,c._prefixes=h,c._domPrefixes=y,c._cssomPrefixes=m,c.hasEvent=E,c.testProp=function(t){return A([t])},c.testAllProps=D,c.testStyles=_,c.prefixed=function(t,e,n){return e?D(t,e,n):D(t,"pfx")},d.className=d.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(l?" stencil-js stencil-"+g.join(" stencil-"):""),c}(this,document),Modernizr.addTest("fullscreen",function(){for(var t=0;t<Modernizr._domPrefixes.length;t++)if(document[Modernizr._domPrefixes[t].toLowerCase()+"CancelFullScreen"])return!0;return!!document.cancelFullScreen||!1}),Modernizr.addTest("overflowscrolling",function(){return Modernizr.testAllProps("overflowScrolling")}),function(){var t,e=["ms","moz","webkit","o"];for(t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"]}(),Function.prototype.bind||(Function.prototype.bind=function(t){"use strict";if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){return undefined},r=function(){return n.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),String.prototype.trim||(String.prototype.trim=function(){"use strict";return this.replace(/^\s+|\s+$/gm,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){"use strict";if(this===undefined||null===this)throw new TypeError('"this" is null or not defined');var n=this.length>>>0;for(e=+e||0,Math.abs(e)===Infinity&&(e=0),e<0&&(e+=n)<0&&(e=0);e<n;e++)if(this[e]===t)return e;return-1}),window.Stencil||(window.Stencil={}),Stencil.utils={dispatch:function(t,e,n){"use strict";var i;document.createEvent&&(n||(n={}),(i=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,n),t.dispatchEvent(i))},getDOMNode:function(t){"use strict";return t?t.nodeType?t:t._node||null:null},merge:function(t,e,n){"use strict";var i,r;for(i in e)e.hasOwnProperty(i)&&((r=t.hasOwnProperty(i))&&"object"==typeof t[i]&&"object"==typeof e[i]?Stencil.utils.merge(t[i],e[i],n):!n&&r||(t[i]=e[i]));return t}},window.Stencil||(window.Stencil={}),Stencil.css=function(){"use strict";var t=Stencil.utils,e=["transitionend","webkitTransitionEnd","oTransitionEnd","otransitionend"],n={};return n.properties={transform:Modernizr.prefixed("transform"),transition:Modernizr.prefixed("transition")},n.events={transitionEnd:{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"}[n.properties.transition]},n.transitioned=function(n,i,r){var o,s,a,c,l,d,u,f;if(this.events.transitionEnd)for(c=function(e){var o,s,a=d.length
;if(e.target===t.getDOMNode(n)){if(!r)for(o=0;o<a;o++)s=d[o],this.removeEventListener(s.__eventType,s);i(n,!0)}},d=[],u=t.getDOMNode(n),a=e.length,f={},o=0;o<a;o++)f[s=e[o]]||((l=c.bind(u)).__eventType=s,u.addEventListener?u.addEventListener(s,l):u.attachEvent&&(s="on"+s,u.attachEvent(s,l)),f[s]=!0,d.push(l));else window.setTimeout(function(){i(n,!1)},0);return d},n}(),function(){"use strict";var t,e=document,n=Stencil.utils,i=null,r="left",o="right",s="up",a="down";(t=function(t,e){var r;if(!t)throw new Error("Swiper requires a DOM Node to listen to events");return this.config={swipe:{axis:"x",acceptable_opposite_axis_movement:100,min_swipe_dist:30},slide:{intention_tolerance:10},should_prevent_default_after:10,should_prevent_default_once:!0},this.startX=0,this.startY=0,this.x=i,this.y=i,this.delta={x:0,y:0,absx:0,absy:0},this.axisIntention="",this.lastMoveEnd=0,this.touchmoveActive=!1,this.base_event=null,n.merge(this.config,e,!0),t=n.getDOMNode(t),this.target=t,this.target._offsetLeft=this.target.offsetLeft,this.target._offsetTop=this.target.offsetTop,r=function(t){Number(new Date)-this.lastMoveEnd<500&&(t.preventDefault(),t.stopPropagation())},document.addEventListener("click",r.bind(this),!0),this}).prototype={getXY:function(t){var n={x:0,y:0};return t.pageX||t.pageY?(n.x=t.pageX,n.y=t.pageY):(n.x=t.clientX+e.body.scrollLeft+e.documentElement.scrollLeft,n.y=t.clientY+e.body.scrollTop+e.documentElement.scrollTop),n.x-=this.target._offsetLeft,n.y-=this.target._offsetTop,n},isValidSwipe:function(t,e){var n=this.config.swipe.axis,i=this.delta.absx,r=this.delta.absy,o=this.config.swipe.min_swipe_dist,s=this.config.swipe.acceptable_opposite_axis_movement;return t===n&&e===this.lastDirection&&("x"===t&&i>o&&r<s||"y"===t&&r>o&&i<s)},handleTapOrSwipe:function(t){var e,i,c;0!==this.x&&!this.x||0!==this.y&&!this.y?n.dispatch(this.target,"tap",{x:this.startX,y:this.startY,base_event:t,target:this.base_event.target}):(this.delta.absy<this.delta.absx?(i="x",c=this.delta.x>0?r:o):(i="y",c=this.delta.y>0?s:a),this.isValidSwipe(i,c)?(e={x:this.x,y:this.y,delta:this.delta,direction:c,axis:i},n.dispatch(this.target,"swipe",e)):n.dispatch(this.target,"end",t))},shouldPreventDefault:function(t){if("x"===this.config.swipe.axis){if(this.delta.absx>this.config.should_prevent_default_after)return t.preventDefault(),!0}else if(this.delta.absy>this.config.should_prevent_default_after)return t.preventDefault(),!0;return!1},captureTouch:function(t){t||(t=this.target);var e=this;t.addEventListener("touchstart",function(t){var r,o=t.touches[0];r=e.getXY(o),e.startX=r.x,e.startY=r.y,e.delta.x=0,e.delta.y=0,e.base_event=t,e.axisIntention="",e.lastMoveEnd=0,e.touchmoveActive=!1,e.lastDirection=i,n.dispatch(e.target,"init")},!1),t.addEventListener("touchmove",function(t){var i,c,l,d,u=t.touches[0];e.touchmoveActive=!0,i=e.getXY(u),e.x=i.x,e.y=i.y,l=e.startX-e.x,d=e.startY-e.y,e.delta.absx=Math.abs(l),e.delta.absy=Math.abs(d),""===e.axisIntention?(c=e.config.slide.intention_tolerance,e.delta.absx>c&&e.delta.absy<c?e.axisIntention="x":e.delta.absy>c&&e.delta.absx<c&&(e.axisIntention="y")):"x"===e.axisIntention?l!==e.delta.x&&(e.lastDirection=l>e.delta.x?r:o):d!==e.delta.y&&(e.lastDirection=d>e.delta.y?s:a),e.delta.x=l,e.delta.y=d,e.shouldPreventDefault(t),n.dispatch(e.target,"slide",{delta:e.delta,axisIntention:e.axisIntention})},!1),t.addEventListener("touchend",function(t){e.touchmoveActive&&(e.lastMoveEnd=Number(new Date)),e.handleTapOrSwipe(t),e.x=i,e.y=i,e.base_event=i},!1)}},Stencil.Swiper=t}(),YUI.add("stencil",function(t,e){},"@VERSION@");YUI.add("td-viewer-mainview",function(e,t){"use strict";var i,a=e.config.win,n=e.config.doc,o=e.one("body"),l=1,s=650,d=350,r="display-discussion-applet-offnet",c=100,u="js-video-placeholder",p="yepConfig",g="yvp-content",m="contentloaded",f="nocontent",h="viewer:hidden",v="viewer:remote-applet",y="viewer:replace",b="viewer:shown",A="stream:filter",C="modal:close",w="hl-viewer",k="MobileUH",P="reblog-",S="td-applet-viewer-templates-reblog",T="slideshow-modal-",V="video-embed",I="remaining-body",E="vv-topbar",R=e.UA.android||e.UA.ie?"click":"tap",M=["autos","beauty","celebrity","finance","food","gma","health","katiecouric","makers","movies","music","news","parenting","politics","sports","style","taxes","tech","travel","tv"],x=["autos","beauty","celebrity","food","health","katiecouric","makers","movies","music","parenting","politics","style","taxes","tech","travel","tv"],L=[],O=[],D=null,B=e.Af.Config,_=e.Af.Event,N=e.Af.Cookie,H="td-applet-viewer",Y="scroll",U="ct-end",j="modal-end",F=3,z=300,q=169,K=/\S/,W="sidekicktv-title",J="sidekicktv-provider",G="td-applet-viewer-templates-app_install_sm",Q="td-applet-viewer-templates-relatedvideos",$="td-applet-viewer-templates-videocluster",X="td-applet-viewer-templates-yapnativead",Z="td-applet-viewer-templates-swipe_progress_dots",ee="td-applet-viewer-templates-taptooltip",te={sports:"sports",business:"finance",finance:"finance"},ie="backfill-video-ads",ae="vm-videos",ne=!1,oe=/ctopid\=\"([\d\;\s\w]+)\"/,le=a.ViewerUtils,se=le.getObjValue,de=e.UA,re=e.TD.Applet.VideoManagerUtil,ce="stream-liked",ue=4,pe=150,ge="display-discussion-applet",me=3,fe=null,he=30,ve=110,ye=0,be="rgba(0,0,0,0)",Ae="all 0s ease 0s",Ce=".viewer-content-body",we=".back-handle",ke=null,Pe="mobile-promo-header-article",Se="mobile-promoad-header-wrapper",Te="tilesad-open",Ve="vertical-video-page",Ie="promo-open-app-btn";e.namespace("TD.Viewer").MainView=e.Base.create("TDViewerMainView",e.Af.AppletView,[],{autoRender:!1,initializer:function(l){var u,p,g,m,f,v,b,A,P=this,S=[],T=e.one(a);if(P.currPage={link:null,listId:null,spaceid:null,title:null,type:null,uuid:null},P.playerJsLoaded=!1,P.swipeEndTimer=null,P.appletModel=P.get("model"),P.viewerModel=P.appletModel.getDataModel("viewer"),P.adsModel=P.appletModel.getDataModel("ads"),P.relatedVideoModel=P.appletModel.getDataModel("relatedvideo"),P.allItems=[],P.asideNode=null,P.asideNodeOffsetHeight=0,P.beaconData=[],P.contentAdsRendered=[],P.contentEndBeaconFired=[],P.contentLRECNodes=[],P.contentColNode=null,P.videoClusterNode=null,P.contentColTop=0,P.contentColBottom=0,P.contentModalNodes=[],P.contentSites=[],P.contentUuids=[],P.contentViewBeaconFired=[],P.currAdsIndex=0,P.currIndex=0,P.currSidekickStartIndex=0,P.disableBatchLREC=!1,P.disableSidekick=!1,P.dynamicAnchorNode=[],P.dynamicAnchorNodeTop=[],P.dynamicHeightNode=null,P.dynamicHeightHeight=0,P.sidekickItemCount=0,P.firstContentHosted=!0,P.firstVideoStarted=!1,P.fixedHeaderItems=null,P.headerItems=null,P.headerOffset=[],P.ignoreScroll=!1,P.itemsOffset=[],P.itemsOffsetBottom=[],P.LrecOffset=[],P.LrecOffsetBottom=[],P.ticking=!1,P.latestKnownScrollY=0,P.winInnerHeight=0,P.numOfItems=0,P.scrollTimer=-1,P.shouldRenderVideoBackfill=!1,P.sidekickStartIndexes=[],P.sidekickRendered=[],P.slideshowAdPos=null,P.stickyRightRailStart=!1,P.videoBackfillNextPos=0,P.videoBackfillUuids=[],P.MONadEnabled=!1,P.appletType=P.appletModel.get("applet_type"),P.context=P.appletModel.get("context"),P.device=P.context.device,P.i18n=P.appletModel.get("i18n"),P.guid=l.guid,P.config=e.Af.Bootstrap.getViewMeta(P.guid,"main").config||{},P.adsConfig=P.config.ads||{},P.ui=P.config.ui||{},P.search=P.config.search||{},P.sessionPromoCount=0,P.adsConfig&&P.adsConfig.promoAds&&P.adsConfig.promoAds.enabled&&(P.promoModel=P.appletModel.getDataModel("promo")),P.ui.enableVerticalVideo&&(P.ui.enableVerticalVideo=P.viewerModel.config.uiConfig.enableVerticalVideo=P.isVvEnabled(),P.ui.enableVerticalVideo||(P.ui.swipe=!1,P.ui.inlineView=!0)),P.ui.videoManagerEnabled&&(P.videoManagerUtil=new re),P.fixedHeader=P.ui.fixedHeader,P.js=P.config.js||{},P.redirectNoContent=!1!==P.config.redirectNoContent,P.flashEnabled=P.isFlashInstalled(),P.pageHasVideo=!1,P.sidekickInlineVideo=!1,P.ui.slots&&P.ui.slots.sidekickdesktop&&P.ui.slots.sidekickdesktop.config&&(P.sidekickInlineVideo=P.ui.slots.sidekickdesktop.config.inline_video),(P.ui.enableRelatedVideo||P.ui.enableVideoCluster)&&(P.relatedVideoAutoPlay=P.ui.relatedVideoAutoPlay,P.renderedRelatedVideos=[],P.relatedVideoPlayer=[],P.ui.relatedVideoIndices&&(P.relatedVideoIndices=P.ui.relatedVideoIndices.split(",")),P.ui.videoClusterMaxItems&&(P.videoClusterMaxItems=parseInt(P.ui.videoClusterMaxItems,10))),P.container=P.ui.inlineView?o:P.get("container"),P.uh=n.getElementById(k),P.ui.isSupportScrollY=!0,P.templateCards=e.Af.Bootstrap.getTemplateName(P.guid,P.ui.templateCards),P.templateCarousel=e.Af.Bootstrap.getTemplateName(P.guid,P.ui.templateCarousel),P.contentList=P.config.content_id&&P.config.content_id.split(","),P.ui.enableVerticalVideo&&P.contentList&&P.contentList.length>1&&(P.contentList=[P.contentList[0]]),P.viewerModel.set("category",P.config.category||"",{silent:!0}),P.viewerModel.set("curveball",P.adsConfig.curveball||{},{silent:!0}),P.hlView=P.config.hlView,P.clusterEnabled=!!se(P.config,["ui","enable","cluster","items"]),P.clusterEnabled||!0!==P.config.clusterEnabled||(P.clusterEnabled=!0),u=P.adsConfig.displayAds||{},P.magazineposition=u.magazineposition,P.modalposition=u.modalposition,P.offnetposition=u.offnetposition,P.offnetSpaceid=u.offnetSpaceid,P.modalSingletonLRECPosition=u.modalSingletonLRECPosition,P.enableModalSingletonLREC=!1,P.enableModalSingletonJTC=!1,P.secondFetchAd=!1,P.secondMobileAdPosition="",P.secondMobileSpaceid="",P.secondSiteAttrs="",P.secondSite="",P.secondIndex=0,P.visibleMeasuresEnabled=P.ui.visibleMeasures.enabled&&"undefined"!=typeof a.thamba&&1===a.thamba,P.config.userSegment=a.segBlob&&"undefined"!=typeof a.segBlob.seg?a.segBlob.seg:-1,
P.embedConfigObj=se(P.config,["ui","embeddedIframes"]),P.ui.lrecBackfill&&P.ui.lrecBackfill.img&&P.adsConfig.displayAds&&(P.adsConfig.displayAds.lrecBackfill||(P.adsConfig.displayAds.lrecBackfill={}),P.adsConfig.displayAds.lrecBackfill.img=P.ui.lrecBackfill.img,P.ui.lrecBackfill.link&&(P.adsConfig.displayAds.lrecBackfill.link=P.ui.lrecBackfill.link)),P.viewer=null,P.ui.inlineView?P.viewer={node:null,getCurrItem:function(){if(this.node){if("mega-modal"===P.ui.mode){var e=document.getElementById("js-slider-item-"+P.currIndex);if(e)return e}return document.getElementById("js-slider-item-0")}},getAllItems:function(){if(this.node)return this.node.getElementsByClassName("js-slider-item Card-Item")},fillContent:function(t,i,n){var o,l;this.node&&t&&(this.node.innerHTML=t,n&&(o=e.Node(this.node))&&(l=o.one("."+n))&&e.later(250,this,function(){a.scrollTo(0,l.getY()-67)}))},clear:function(){this.node&&(this.node.innerHTML="")}}:P.ui.swipe?P.viewer=new Angus.Slider(w,{isIndependentY:!0,viewportOffsetTop:P.ui.enableVerticalVideo?he:se(P,["uh","offsetHeight"],0),ignoreY:P.ui.enableVerticalVideo,preventYScroll:P.ui.enableVerticalVideo,singleTouch:P.ui.enableVerticalVideo,ignoreEdge:P.ui.enableVerticalVideo&&function(e,t){return P.vvUtil.checkIgnoreEdge(e,t)}}):P.viewer=new Angus.Slider(w),"mega-modal"!==P.ui.mode&&P.initSlideShow("slideshow",!0),p=P.adsConfig.smad&&P.adsConfig.smad.enabled?"ads_story_atomic_sm":"ads_story",P.ads=new e.TD.Viewer.Ads({commentsLREC:P.ui.commentsLREC,config:P.adsConfig,context:P.context,i18n:P.i18n,model:P.adsModel,template:e.Af.Bootstrap.getTemplateName(P.guid,p),view:P,guid:P.guid}),_.on(h,function(){var e=P.viewer.getCurrItem();ke&&(e=ke),P.destroyPage(e,!0)}),_.on(y,function(){P.destroyPage(P.viewer.getCurrItem(),!0)}),_.on(C,function(){var e=document.getElementById("Masterwrap");P.ignoreScroll=!0,i&&e&&(i.focus(),P.viewer.node.setAttribute("aria-hidden",!0),e.setAttribute("aria-hidden",!1)),(P.ui.enableModalBackfillViewportDetection||P.visibleMeasuresEnabled)&&(P.backfillVideoPlayer=null),(P.ui.enableRelatedVideo||P.ui.enableVideoCluster)&&(P.renderedRelatedVideos=[],P.relatedVideoPlayer=[]),P.destroyPage(P.viewer.getCurrItem(),!0)}),_.on("content:fallbackData",function(e){P.viewerModel.initContent(e.guid,e.list,e.fullList,e.category,!0,P.config)}),_.on("content:init",function(e){P.viewerModel.initContent(e.guid,e.list,e.fullList,e.category,!1,P.config)}),_.on("content:batch",function(e){P.viewerModel.batchContent(e.guid,e.list,P.config)}),_.on("content:new",function(e){P.viewerModel.addNewContent(e.guid,e.list,P.config)}),_.on("content:remove",function(e){P.viewerModel.removeContent(e.guid,e.list,P.config)}),_.on("content:show",function(a){var o=a.t0||0,l=a.t1||0,s=Date.now(),d=0,r=a.containerId,c=a.numItems||null,u=a.indexOf||null,p=a.clusterUuid||"",g=a.passThruData||{};g.sidekick||(i=document.activeElement),P.viewer.node=r?n.getElementById(r):n.getElementById("hl-viewer"),g.linkElYlk&&(P.videoClickParams=g.linkElYlk),P.showContent(a.guid,a.uuid,c,u,p,g,function(){o&&l&&(d=Date.now(),e.Af.Beacon.perf(t,{code:"clk2cnt",time:Math.floor(d-o),t3_t2:Math.floor(d-s),t2_t1:Math.floor(s-l),t1_t0:Math.floor(l-o),t0:o,list:a.guid,uuid:a.uuid})),"mega-modal"===P.ui.mode&&_.fire("content:showcontentcb",{})})}),_.on("content:scrollinview",function(e){var t=e.index,i="js-slider-item-"+t,a=n.getElementById(i);a&&(_.fire("content:navigate",{uuid:a.getAttribute("data-id")||"",url:a.getAttribute("data-link")||"",title:a.getAttribute("data-title")||"",dir:"stay",guid:P.currPage.listId}),P.renderYEP(a),P.updateContentOffset())}),_.on("content:insertgemini",function(){var e=n.getElementById(P.ui.mobileAdPosOne);P.ads.insertGeminiAdsOnly(P.viewer.getCurrItem(),e)}),_.on("sidekickrefresh",function(t){var i,a,o,l,s,d,c,u=0,p=["LREC-0","LREC2-0","LREC3-0"],g=P.ui.slots.sidekickdesktop.config&&P.ui.slots.sidekickdesktop.config.estHeight||100,m=P.numOfItems,f=e.one(".viewer-wrapper");setTimeout(function(){var h,v,y,b,A,C,w,k,S,T,V,I;if(P.ui.enableSidekickAdditionalRendering)for(h=P.allItems.length||0,P.ui.enableSidekickRefreshAll||(h=Math.min(1,h)),u=0;u<h&&P.allItems[u]&&(!P.ui.singleRightRail||!P.ui.skipSecondSidekick||1!==u);u++)l=n.getElementById("modal-sidekick-mon-"+u),s=l.getElementsByClassName("js-viewer-slot-sidekickdesktop")[0],d=n.getElementById("modal-sidekick-following-"+u),o=0,e.one(".hl-sda-holder-"+u)&&(v=e.one(".hl-sda-holder-"+u))&&(y=v.get("offsetHeight"))&&y>0&&(o=y),0===o&&"undefined"!=typeof t[p[u]]&&t[p[u]]&&(o+=250),o+=10+n.getElementById("modal-sidekick-"+u).offsetHeight+d.offsetHeight+l.offsetHeight,(b=P.allItems[u].getElementsByClassName("cmt-ad"))&&b.length>0&&(A=b[0].offsetHeight)&&A>0&&(o+=A),P.enableModalSingletonLREC&&((C=n.getElementById("hl-ad-LREC2-1"))&&(w=C.offsetHeight)&&w>0&&(o+=w),(k=d.getElementsByClassName("js-viewer-slot-sidekickdesktop")[0]).className.indexOf("Pt-20")<0&&(k.className=k.className.replace("Mt-neg-40","Pt-20"))),P.enableModalSingletonJTC&&(S=n.getElementsByClassName(r))&&S.length>0&&(T=S[0].offsetHeight,o+=void 0===T?pe:Math.max(T,pe)),P.ui.sports.fantasypromote.enabled&&(V=n.getElementById("hl-modal-sports-fantasypromote"))&&(I=V.offsetHeight)&&I>0&&(o+=I),c=P.calArticleHeight(P.allItems[u]),i=Math.max(0,Math.round((c-o)/g)),(a=m>1?Math.min(i,P.ui.sidekickMaxBatchCount):i)>0&&(P.ui.singleRightRail&&l&&l.className.indexOf("D-n")>=0&&(l.className=l.className.replace("D-n","")),f.fire("sidekick:showmore",{container:e.one(s),batchStartIndex:P.currSidekickStartIndex,batchEndIndex:P.currSidekickStartIndex+a}),P.currSidekickStartIndex=P.currSidekickStartIndex+a)},parseInt(P.ui.sidekickFollowingDelay)+P.numOfItems*parseInt(P.ui.sidekickBatchDelay)+100)}),_.on("content:prefetchads",function(e){var t="js-slider-item-"+P.currIndex,i=n.getElementById(t),a=e.index;P.getAdsPositionListAndUpdatePage(a,P.ui.enableModalLargeAds,!0),P.updateContentOffset(),P.renderYEP(i)}),g=function(t){var i,n,o,l,r,u,p,g;"advance-sm"===P.ui.mode&&P.pauseVideos(),
"mega-modal"===P.ui.mode&&P.ui.enableSidekickAdditionalRendering&&P.ui.enableSidekickCommentsRefresh&&(i=P.contentUuids.indexOf(t.uuid))>-1&&(P.ui.commentsLREC&&i<=4?(n="LREC2-"+(ue+i),o="LREC2-"+(ue+i)+",LREC3-"+(ue+i),l=e.one("#js-slider-item-"+i+" .js-comments-container"),r=e.one("#comment-ad-wrapper-"+i),l&&r&&(r.removeClass("D-n"),u=0,P.ui.discussion.enabled&&(p="."+ge,P.getRemoteAppletDiscussion(r,p),u=c),l.get("offsetHeight")>s+u?(r.removeClass("D-n"),P.ads.fecthAdsWithOverride("hlAdsAll",{ps:o}),P._updateCommentsLREC(i)):l.get("offsetHeight")>d+u?(r.removeClass("D-n"),P.ads.fecthAdsWithOverride("hlAdsAll",{ps:n}),P._updateCommentsLREC(i)):r.addClass("D-n"))):P.ui.singleRightRail?(P.updateContentOffset(),P.updateLrecsOffset(),a.scrollBy(0,-1)):(g=P.ui.sidekickBatchDelay||500,setTimeout(e.bind(P.handleSlotApplet,P,P.allItems[i],"sidekickdesktop",P.ui.slots.sidekickdesktop,!0,i),g)))},_.on("modal:showcomments",g),_.on("modal:hidecomments",g),"advance-sm"===P.ui.mode&&P.adsConfig.smad&&P.adsConfig.smad.enabled&&(_.on("modal:showcomments",P.ads.pauseSMAd.bind(P.ads)),_.on("modal:hidecomments",P.ads.playSMAd.bind(P.ads))),P.container.delegate(R,function(e){e.preventDefault(),P.slideshow.open()},".open-lightbox"),P.ui.searchBox&&P.container.delegate("click",function(t){var i=e.Af.rapid,a=t.currentTarget,n=a&&a.ancestor("form"),o=n&&n.one(".srch-input"),l=function(){n.submit()};t.preventDefault(),o&&K.test(o.get("value"))&&(i?i.triggerBeaconClickEvent(a,!1,l):l())},".srch-btn"),m={".js-related-content-item":{click:"slideToRelatedContent"},".continue_reading":{click:"showFullContent"},".js-viewer-view-article":{click:"expandFullArticle"},".js-viewer-comments":{click:"scrollToComments"},".modal-actions a":{click:"handleShareClick"}},P.attachEvents(m),P.ui.swipe&&P.viewer.node&&(P.viewer.node.addEventListener("slider:swipe",function(e){var t=e.detail;P.handleSwiping(t.currPage,t.fromPage,t.currNode,t.fromNode)},!1),P.viewer.node.addEventListener("slider:move",function(e){P.isSliderMoving=!0,P.swipeEndTimer&&(clearTimeout(P.swipeEndTimer),P.swipeEndTimer=null)},!1),P.viewer.node.addEventListener("slider:swipeabort",function(e){P.isSliderMoving=!1},!1),P.viewer.node.addEventListener("slider:swipeend",function(e){var t,i,a,n;P.isSliderMoving=!1,(t=e&&e.detail).aborted||(i=se(t,["currNode","firstChild"]),a=t&&t.samePage,n=t&&t.currPage,i&&!a?(P.swipeFromNodes&&i!==P.swipeFromNodes[0]&&(P.handleSwipeEnd(n,i),P.swipeEndTimer=setTimeout(function(){P.initPage(P.viewer.getCurrItem(),P.viewer.getCurrIndex()),P.swipeEndTimer=null},50)),P.swipeFromNodes=[]):P.updateProgressDots(n))},!1)),P.contentList&&P.contentList.length){for(f=[],v=0,b=P.contentList.length;v<b;v++)S.push({id:P.contentList[v],type:"1"}),f.push(P.contentList[v]);_.fire("content:init",{guid:P.guid,list:S,fullList:S}),e.later(100,P,function(){_.fire("content:show",{guid:P.guid,uuid:S[0].id,numItems:f,clusterUuid:S[0].id,indexOf:S[0].id})})}P.config.rendered&&(P.ui.inlineView&&(P.viewer.node=n.getElementById("hl-viewer")),A=P.viewer.getCurrItem(),!P.hlView&&A.hasAttribute("data-link")&&a.location.replace(A.getAttribute("data-link")),setTimeout(function(){P.initPage(A)},50)),P.ui.enableModalBackfillViewportDetection&&e.one("body").scrollInfo?(e.one("body").scrollInfo.on("scroll",P._onScroll,P),e.on("blur",e.bind(P.handleBlur,P),window),e.on("focus",e.bind(P.handleFocus,P),window)):P.adsConfig.tilesAds.enabled&&e.one("body").scrollInfo&&(e.one("body").scrollInfo.on("scroll",P._onScroll,P),e.Af.PageViz.on("visible",P.handleFocus,P),e.Af.PageViz.on("hidden",P.handleBlur,P)),P.adsConfig.tilesAds.enabled&&(P.tilesadModel=P.appletModel.getDataModel("tilesad")),P.ui.commentsLREC&&e.on("scroll",e.bind(P._commentsAdScroll,P),window),P.ui.enableMobileMSPL&&(e.Global.on("stream:splashclose",P._handleMSPLEnd,P),e.Global.on("splash-fetch-next",P._getNextAds,P)),P.ui.singleRightRail&&(P._updateSingleRightRailLREC=P._updateSingleRightRailLREC.bind(this),"undefined"==typeof window.scrollY&&(P.ui.isSupportScrollY=!1)),P.ui.enableYapjs&&(P.yapjsDownloaded=!1,P.yapadModel=P.appletModel.getDataModel("yapad")),P.ui.enableVerticalVideo&&(P.vvUtil=new e.TD.Applet.ViewerVerticalVideoUtil({container:P.container,viewer:P.viewer,model:P.appletModel,config:P.config,view:P}),P.vvUtil.init(),T.on("orientationchange",P.onOrientationChange,P),T.on("resize",P.onResize,P),P.container.delegate("tap",function(){P.toggleArticleReveal(!1)},we),P.container.delegate(["touchstart","touchmove","touchend","touchcancel"],P.handleRevealDrag,Ce+",.back-handle",P),P.articleRevealed=!1),P.ui.offnetAMP&&P.container.delegate("click",P.onClickReadMore,".offnetamp-link",P),P.adsConfig&&P.adsConfig.smad&&P.adsConfig.smad.enabled&&P.ads.prefetch()},getAdsPositionList:function(e,t,i,a){var n,o,l,s=this,d=s.ads.displayAdsConfig&&s.ads.displayAdsConfig.modalSidekickLrecPositions||[],r=se(s,["contentSites",e],"");if((n=t?r&&x.indexOf(r)>-1?s.magazineposition:s.modalposition:s.offnetposition).indexOf("MON")>-1&&(s.MONadEnabled=!0),d&&d.length>0&&(2===a?n=n+","+d[0]:a>=3&&(n=n+","+d[0]+","+d[1])),i&&(n=s.formatAdPosList(n,e)),s.enableModalSingletonLREC&&(n=n+","+s.modalSingletonLRECPosition),s.ui.singleRightRail&&!s.ui.ubaAdPositionEnabled&&(n+=",LDRB2-1"),s.ui.enableModalExtraLargeAds&&s.ui.modalExtLargeAdPosName&&a>=2)for(o=1;o<a&&!(s.ui.modalExtLargeAdPosMaxNum&&s.ui.modalExtLargeAdPosMaxNum<=o);o++)s.ui.modalExtLargeAdPosNameAddIndex?(l=parseInt(e,10)+o+1,n=n+","+s.ui.modalExtLargeAdPosName+l+"-"+o):n=n+","+s.ui.modalExtLargeAdPosName+"-"+o;return n},getAdsPositionListAndUpdatePage:function(e,t,i){var a,o=this,l="js-slider-item-"+e,s=n.getElementById(l),d=se(o,["contentSites",e],"");s&&(a=o.getAdsPositionList(e,t,i),o.updatePage(s,e,a,d))},initSlideShow:function(t,i){var a=this;a.ui.enableModalSponsoredAds&&(a.slideshowAdPos="LREC-0",!a.ui.disableSlideshowMON&&a.MONadEnabled&&(a.slideshowAdPos+=",MON-0")),a.slideshow=new e.TD.Viewer.Slideshow({id:t,model:a.viewerModel,
template:a.templateCarousel,onSwipe:a.onLightboxSwipe.bind(a),onSwipeEnd:a.onLightboxSwipeEnd.bind(a),onClose:a.onLightboxClose.bind(a),onOpen:a.onLightboxOpen.bind(a),enableAds:i,slideshowAdPos:a.slideshowAdPos})},fireCustomBeacon:function(t,i,a){var n,o=this,l=o.getRapid();l&&l.beaconEvent&&(n=e.mix({elm:t,elmt:i,t1:"a3",t2:"strm",t3:"ct",sec:"strm"},a),l.beaconEvent(t,n,i))},fireClickBeacon:function(t,i,a,n,o){var l,s=this,d=s.getRapid(),r=n||0;d&&d.beaconClick&&(l=e.mix({elm:a,itc:o&&o.itc||"1"},o),d.beaconClick(t,i,r,l))},firePageviewBeacon:function(e){var t=this,i=t.getRapid();i&&i.beaconPageview&&i.beaconPageview(e)},replaceAdsIndex:function(e,t){return e?t===undefined?e:e.split("-")[0]+"-"+t:null},formatAdPosList:function(e,t){var i,a,n=this;if(e){for(i=e.split(","),a=0;a<i.length;a++)i[a]=n.replaceAdsIndex(i[a],t);return i.join(",")}},removeContent:function(){var t,i=this;i.viewer&&i.viewer.clear(),i.ui.swipe&&i.ui.enableVerticalVideo&&(i.viewer.node.classList.remove("vv"),e.one("BODY").removeClass(Ve),(t=i.container.one("."+E))&&t.remove(),i.container.setStyles({overflow:null,height:null})),i.articleRevealed&&i.resetRevealState()},resetRevealState:function(){var t,i=this,a=i.viewer,n=i.container,o=n.one(we);i.articleRevealed=!1,n.hasClass("revealed")&&n.removeClass("revealed"),n.hasClass("not-revealed")||n.addClass("not-revealed"),n.hasClass("vv-hidden")&&n.removeClass("vv-hidden"),o&&o.setStyles({display:null,transform:null}),a&&(a.getCurrIndex&&(t=a.getCurrIndex()),a.cards&&a.cards.forEach(function(i){var a,n=i.getAttribute("data-index");n&&parseInt(n)!==t&&(a=i.querySelector(Ce))&&a.style.transform&&e.one(a).setStyles({transition:Ae,transform:null})}),a.enable&&a.enable())},handleScroll:function(){var e=this;e.ignoreScroll||(e.ui.singleRightRail&&(e.latestKnownScrollY=e.ui.isSupportScrollY?window.scrollY:window.pageYOffset,e.requestTick()),-1!==e.scrollTimer&&clearTimeout(e.scrollTimer),e.scrollTimer=setTimeout(function(){e.handleVisibleNode()},100))},handleVisibleNode:function(){var e,t,i,n,o,l,s,d,r,c,u,p,g,m=this,f=!1,h=a.innerHeight;if(m.winInnerHeight=h,n=(i=a.pageYOffset)+h+300,o=i+h,l=i+h/2,m.ui.enableModalContentPV,m.itemsOffset.length){if(m.ui.singleRightRail&&(m.updateContentOffset(),m.updateLrecsOffset()),m.fixedHeader){for(e=m.itemsOffset.length-1;e>=0;e--)r=m.contentModalNodes[e],c=m.headerItems[e],u=m.fixedHeaderItems[e],p=0===e?0:m.fixedHeaderWrap.offsetHeight,i>(g=r.offsetTop)+c.offsetHeight-p&&i<g+r.offsetHeight-m.fixedHeaderWrap.offsetHeight?(u.classList.add("fadein"),u.classList.remove("fixZindex"),u.style.top="0px"):u.classList.contains("fadein")&&(d=u,u.classList.remove("fadein"),u.classList.add("fixZindex"));i>m.contentModalNodes[0].offsetTop+m.headerItems[0].offsetHeight&&i<m.contentModalNodes[m.contentModalNodes.length-1].offsetTop+m.contentModalNodes[m.contentModalNodes.length-1].offsetHeight-m.fixedHeaderWrap.offsetHeight&&(f=!0),!m.wasInlastTime&&f?(m.fixedHeaderWrap.classList.add("fadein"),m.fixedHeaderWrap.style.top="0px"):m.wasInlastTime&&!f&&d&&(m.fixedHeaderWrap.classList.remove("fadein"),m.fixedHeaderWrap.style.top="-"+c.offsetHeight+"px",d.style.top="-"+c.offsetHeight+"px")}for(m.wasInlastTime=f,e=m.itemsOffset.length-1;e>=0;e--)if(m.ui.enableModalCustomEvent&&!m.contentEndBeaconFired[e]&&m.itemsOffsetBottom[e]<=o&&(m.contentEndBeaconFired[e]=!0,m.fireCustomBeacon(Y,U,m.beaconData[e]),e===m.itemsOffset.length-1&&m.fireCustomBeacon(Y,j,m.beaconData[e])),(t=m.itemsOffset[e])<=l){m.currIndex!==e&&(m.currIndex=e,_.fire("content:scrollinview",{index:e}),m.ui.enableModalContentPV&&(m.ui.enableModalPVOnEveryScroll||!m.contentViewBeaconFired[e])&&(m.contentViewBeaconFired[e]=!0,s="slideshow"===m.currPage.type?"story":m.currPage.type,m.handleTracking(s,!0,!0)));break}for(e=m.itemsOffset.length-1;e>=0;e--)((t=m.itemsOffset[e])<=n||t<=o)&&m.currAdsIndex!==e&&(m.currAdsIndex=e,m.contentAdsRendered[e]||(m.contentAdsRendered[e]=!0,_.fire("content:prefetchads",{index:e})));if((m.ui.enableRelatedVideo||m.ui.enableVideoCluster)&&m.relatedVideoPlayer.length>0)for(e=0;e<m.relatedVideoPlayer.length;e++)t=m.relatedVideoPlayer[e].offsetTop,!m.relatedVideoPlayer[e].pageview_fired&&t<=l&&(m.relatedVideoPlayer[e].pageview_fired=!0,m.fireRelatedVideoPV(m.relatedVideoPlayer[e].uuid),_.fire("content:updateShareInfo",{title:m.relatedVideoPlayer[e].title,url:m.relatedVideoPlayer[e].link,shareNode:m.relatedVideoPlayer[e].shareBtnNode,uuid:m.relatedVideoPlayer[e].id}))}},showContent:function(i,o,l,s,d,c,u){var p,g,h,v,y,b=this,A=o&&0===o.indexOf(P),C=c.label,w=c.posSel;A&&(o=o.slice(P.length)),g=b.viewerModel,h=g.getItemMeta(i,o),v=b.ui.enableVerticalVideo,y=b.ui.swipe,o&&(b.ui.singleRightRail&&(b.ui.label=C),b.commentsUuid=c.commentsClick?o:null,c.aid&&(b.currPage.paid=c.aid),v||!b.clusterEnabled?p=1:l&&l.length&&(p=l.length),p&&b.clusterEnabled&&(o=l),g.fetchItems(i,o,p,function(i,k){var P,V,I,E,R,M,x,L,O,D,B,_,N,H,Y,U,j,F,z,q,K,W,J,G,Q,$,X,Z,ee,te,ie,ae,ne,oe=!1,le=[],de=/data-yepConfig="\{([^}]*)\}/,re=k&&1===k.length&&k[0]&&k[0].tiles;if(re)return e.one("BODY").addClass(Te),void dust.render("td-applet-viewer-templates-tiles_ad_main_sm",{tiles:re.tiles,callToAction:re.callToAction,i18n:b.i18n,config:b.config},function(e,t){!e&&t&&(b.viewer.fillContent(t,!1),b.tilesPageVisible=!0,b.initTilePage(b.viewer.getCurrItem(),re)),"function"==typeof u&&u()});if(b.commentsUuid&&e.Array.each(k,function(e,t){b.commentsUuid===e.id&&(e.collapseBody=!0)}),p&&b.clusterEnabled?(e.Array.each(k,function(e,t){-1!==l.indexOf(e.id)&&le.push(e)}),k=le,e.Array.each(k,function(e,t){e.id===s&&(oe=!0,R=t)}),oe?(M=k.splice(R,1),k.unshift(M[0])):(k=[],o=s||o),e.Array.each(k,function(e,t){if(b.ui.enableModalSingleAutoplay&&t>0&&e.magazineVideo&&e.magazineVideo.src&&(e.magazineVideo.src=e.magazineVideo.src.replace(/[\&]?vp=1/,"")),b.ui.enableModalSingleAutoplay&&0===t&&e.magazineVideo&&(e.magazineVideo.altSrc=""),0===t&&b.ui.enableModalVideoFirstAutoplay&&e.body&&e.body.incomplete_body){
if(L=e.body.incomplete_body[0],!(L&&L.match(de)))return;e.body.incomplete_body[0]=L.replace("&quot;autoplay&quot;:false","&quot;autoplay&quot;:true")}})):(O=k[0])&&b.ui.enableModalVideoFirstAutoplay&&O.body&&O.body.incomplete_body&&(L=O.body.incomplete_body[0],de=/data-yepConfig="\{([^}]*)\}/,L&&L.match(de)&&(O.body.incomplete_body[0]=L.replace("&quot;autoplay&quot;:false","&quot;autoplay&quot;:true"))),b.clusterEnabled||"desktop"!==b.device||(k=k.splice(R,1)),e.Lang.isArray(k)&&0!==k.length)V={code:m,listId:i,uuid:o,index:g.getItemIndex(i,o),link:se(k,["0","link"],""),lsdu:e.Af.Cache&&e.Af.Cache.du&&e.Af.Cache.du()||"",redirect:b.redirectNoContent?"1":"0"},e.Af.Beacon.info(t,V);else{if(P=b.getFallbackItem(i,o),x=g.getItemMeta(i,o)||{},V={listId:i,uuid:o,index:g.getItemIndex(i,o),link:P.link||"",lsdu:e.Af.Cache&&e.Af.Cache.du&&e.Af.Cache.du()||"",redirect:b.redirectNoContent?"1":"0",isEligible:x.eligible?"1":"0"},b.redirectNoContent)return void e.Af.Beacon.error(t,V,{code:f},{callback:function(){var t,i,n,l=P.link;l===a.location.href?(t=e.one('[data-uuid="'+o+'"]'))&&(t.hasClass("js-stream-content-link")?n=t.getAttribute("href"):(i=t.one(".js-stream-content-link"))&&(n=i.getAttribute("href")),n&&(l=n)):l.indexOf("?")<0?l+="?hl=1&noRedirect=1":l+="&hl=1&noRedirect=1",a.location.replace(l)}});a.setTimeout(function(){e.Af.Beacon.error(t,V,{code:f})},10),b.viewerModel.setItems(i,[P],!1),k=[P]}if((L=k[0])&&L.link&&L.sponsor)return I=(I=L.link)+(I.indexOf("?")<0?"?":"&")+"noRedirect=1",void a.location.replace(I);b.currPage.listId=i,b.updateCurrPage(L),D=L.categoryLabel||L.site,B=se(b,["ui","promo"]),b.firstItemLabel=D;try{"string"==typeof B&&(B=JSON.parse(B))}catch(ce){B=null}(B=se(B,D,null))&&(L.promoConfig=B),_=se(b,["ui","asidePromo"]);try{"string"==typeof _&&(_=JSON.parse(_))}catch(ce){_=null}if(_=se(_,D,null),b.ui.sports.fantasypromote.enabled=!!_,b.ads.abortDARLA(),v&&b.vvUtil&&se(k,["0","verticalVideo"])&&(k=b.vvUtil.processVerticalVideos(k)),"mega-modal"===b.ui.mode)if(A)E={i18n:b.i18n,item:L,ui:b.ui},dust.render(S,E,function(e,t){!e&&t&&b.viewer.fillContent(t,!1)});else{for(N=0;N<k.length;N++)k[N].label=0===N?C:k[N].categoryLabel||k[N].publisher||"",k[N].categoryLabel&&(k[N].categoryLabel=k[N].categoryLabel.toLowerCase());for(b.ads.updatePageIndex(k,0),b.updateLeadPhotoClass(k),b.renderContentList(k,!1,w),b.resetVariables(),b.allItems=b.viewer.getAllItems(),b.numOfItems=b.allItems&&b.allItems.length,U=b.viewer.node.getElementsByClassName("js-slider-lead-item")[0],j=0;j<b.numOfItems;j++)(H=(F=b.allItems[j]).getElementsByClassName("content-modal")[0])&&(z=H.offsetTop,0===j&&U&&(z-=U.offsetHeight),z&&(b.itemsOffset=b.itemsOffset.concat(z||[]),b.itemsOffsetBottom=b.itemsOffsetBottom.concat(z+H.offsetHeight||[]),0===j&&U&&(b.itemsOffsetBottom[0]+=U.offsetHeight),b.contentModalNodes=b.contentModalNodes.concat(H||[]),b.contentAdsRendered=b.contentAdsRendered.concat([]),b.contentEndBeaconFired=b.contentEndBeaconFired.concat([]),b.contentViewBeaconFired=b.contentViewBeaconFired.concat([]),b.ui.singleRightRail&&(b.asideNode=e.one(".modal-aside"),b.contentColNode=e.one("#content-col"),b.dynamicHeightNode=e.one("#dynamic-height-container"),b.ui.enableAdsDynamicAnchor&&(q=e.one("#js-dynamic-anchor-"+j),b.dynamicAnchorNode=b.dynamicAnchorNode.concat(q||[]),b.dynamicAnchorNodeTop=b.dynamicAnchorNodeTop.concat(q.get("offsetTop")||[])),b.contentColTop=b.contentColNode.getY(),b.contentColBottom=b.contentColTop+b.contentColNode.get("offsetHeight"),(K=n.getElementsByClassName("hl-sda-holder-"+j)[0])&&(W=K.offsetTop,b.contentLRECNodes=b.contentLRECNodes.concat(K||[]),b.LrecOffset=b.LrecOffset.concat(W||[]),b.LrecOffsetBottom=b.LrecOffsetBottom.concat(W+K.offsetHeight||[])),"undefined"==typeof window.scrollY&&(b.ui.isSupportScrollY=!1)))),b.contentSites=b.contentSites.concat(F.getAttribute("data-site")),b.sidekickStartIndexes=b.sidekickStartIndexes.concat(0),b.sidekickRendered=b.sidekickRendered.concat(!1),b.contentUuids=b.contentUuids.concat(k[j].cauuid||k[j].id||[]),Y={g:k[j]&&k[j].id||"",ss_cid:d||"",cpos:j+1,refcnt:b.numOfItems},b.beaconData=b.beaconData.concat(Y||[]),"slideshow"===k[j].type&&(b.initSlideShow(T+j,0===j),b.slideshow.render(k[j]),b.slideshow.open(!0));J=b.ui.enableModalSponsoredAds&&L.hosted,G=se(b,["contentSites",0],""),J||L.hosted||(b.firstContentHosted=!1,b.ui.enableModalLargeAdsOffnetwork&&L&&L.cover_photo&&L.cover_photo.img&&L.cover_photo.img.src&&(J=!0)),1===b.numOfItems&&(Q=b.get("container"),L.hosted?b.enableModalSingletonLREC=b.ui.enableModalSingletonLREC:(b.enableModalSingletonLREC=b.ui.enableModalSingletonLRECOffnetwork&&L.cover_photo&&L.cover_photo.img&&L.cover_photo.img.src,b.enableModalSingletonJTC=!!b.enableModalSingletonLREC&&b.ui.discussion.offnet.enabled,b.enableModalSingletonJTC&&($=Q.one(".modal-aside"),X="."+r,b.getRemoteAppletDiscussion($,X))),b.enableModalSingletonLREC&&(Z=Q.one(".hl-sda-holder-9"))&&Z.removeClass("D-n")),ee=b.getAdsPositionList(0,J,!0,b.numOfItems),b.ui.disableSlideshowMON&&"slideshow"===L.type&&(ee=ee.replace(/,MON-0/,"").replace(/MON-0,/,"")),b.initPage(b.viewer.getCurrItem(),0,ee,G),b.ui.enableModalBackfillVideoAds&&(te=g.getVideoItems(i),b.videoBackfillUuids=te.slice(-5),"story"===L.type&&(b.shouldRenderVideoBackfill=!0))}else"modal"===b.ui.mode||"slideshow"!==L.type||h&&"today"===h.source||b.ui.slideshowInline?(b.ads.updatePageIndex(k,0),v&&y&&L.verticalVideo?(b.vvUtil.initProgressBar(b.ui.verticalVideoCount),b.viewer.node.classList.add("vv"),e.one("BODY").addClass(Ve),b.renderContentList(k,!1),b._onceVerticalVideoPlay=function(){b.vvUtil.initContentList(L,b.renderRelatedVvContent.bind(b))}):(v&&y&&b.viewer.disable(),b.renderContentList(k,!1)),b.initPage(b.viewer.getCurrItem())):(b.slideshow.clear(),b.slideshow.render(L),b.slideshow.open(!0),ie=document.getElementById("lightbox-canvass"),b.ui.comments.enabled&&b.ui.comments.canvassFullScreen&&ie&&(L.id&&ie.setAttribute("data-id",L.id),L.title&&ie.setAttribute("data-title",L.title),
L.link&&ie.setAttribute("data-link",L.link),L.images&&L.images[0]&&L.images[0].image&&L.images[0].image.src&&ie.setAttribute("data-share-img",L.images[0].image.src),L.commentsNamespace&&ie.setAttribute("data-commentsnamespace",L.commentsNamespace),b.ui.loadAppletDelay?setTimeout(function(){b.getRemoteAppletComments(ie)},parseInt(b.ui.loadAppletDelay,10)):b.getRemoteAppletComments(ie)));"mega-modal"===b.ui.mode&&((b.numOfItems>1||b.ui.singleRightRail||b.fixedHeader||b.ui.enableModalCustomEvent)&&(b.contentAdsRendered[0]=!0,b.ignoreScroll=!1,b.fixedHeader&&(b.headerItems=b.viewer.node.getElementsByClassName("Headline"),b.fixedHeaderItems=b.viewer.node.getElementsByClassName("Fixed-Header"),b.fixedHeaderWrap=b.viewer.node.getElementsByClassName("Fixed-Header-Wrap")[0],b.wasInlastTime=!1),b.ui.enableModalCustomEvent&&b.beaconData[0]&&(b.contentViewBeaconFired[0]=!0,setTimeout(function(){b.updateContentOffset()},5e3)),a.addEventListener("scroll",b.handleScroll.bind(b),!1)),b.viewer.node.focus(),b.viewer.node.setAttribute("aria-hidden",!1),document.documentElement.scrollTop=0,document.body.scrollTop=0,(ae=document.getElementById("Masterwrap"))&&ae.setAttribute("aria-hidden",!0),(ne=document.getElementById("viewer-end"))&&(ne.onfocus=function(){document.getElementById("closebtn").focus()})),b.adsConfig.smad&&b.adsConfig.smad.enabled&&(b.smAdsFooterVisibility=b.ads.manageFooterVisibility.bind(b),a.addEventListener("scroll",b.smAdsFooterVisibility,!1),e.Global.on("video-manager:create_player_instance",b.ads.onCreatePlayerInstance,b.ads)),"advance-sm"===b.ui.mode&&c.scrollTop&&(b.viewer.node.focus(),document.body.scrollTop=0),u()}))},renderRelatedVvContent:function(e){var t,i,a,n=this;e&&0!==e.length?(t=n.viewer&&n.viewer.getCurrItem(),i=t&&t.getAttribute("data-id"),a=0,e.some(function(e,t){if(e.id===i)return a=t,!0}),a>0&&(e=e.splice(a,e.length-a).concat(e)),n.vvUtil&&(e=n.vvUtil.processVerticalVideos(e,!0,n.ui.verticalVideoCount-1,1)),n.renderContentList(e,!0,null,function(){n.initRelatedVv()}),n.viewer.enable(),n.vvUtil&&n.vvUtil.updateProgressBar([n.vvUtil.firstItem].concat(e))):n.vvUtil.updateProgressBar([n.vvUtil.firstItem])},updateCurrentProgressDot:function(e,t){var i=this,a=i.container.one(".progress-bar .current.progress-dot");a&&(e?a.addClass("playing"):a.removeClass("playing"),t?a.addClass("completed"):a.removeClass("completed"))},updateProgressDots:function(e){var t,i,n,o,l,s=this,d=s.container.one("."+E),r=d.all(".progress-dot"),c=d.all(".current");if(c.each(function(e){e.removeClass("current").removeClass("completed").removeClass("playing"),e.one(".bar")&&e.one(".bar").setStyle("left","-"+ve+"px")}),(t=r.item(e)).addClass("current"),t.hasClass("ad")||t.addClass("playing"),(i=t.one(".segment-dots"))&&i.hide(),n=D?D.length:0){for(o=new Array(n-1),l=0;l<n-1;l++)o[l]=(l+1)*(ve/n);dust.render(Z,{dotPos:o},function(e,n){i?i.replace(n):t.prepend(n),a.requestAnimationFrame(function(){t.one(".segment-dots").setStyle("opacity",1)})})}},getVerticalVideoIndex:function(t){var i,a=this;return t=void 0===t?a.viewer.getCurrIndex():t,(i=e.one(a.viewer.node).one('.js-slider-card[data-index="'+t+'"] .vv-box .'+u))?i.getData("index"):null},updateContentOffset:function(){var e,t,i,a=this,n=a.viewer.node.getElementsByClassName("js-slider-lead-item")[0];if(a.numOfItems>1||a.ui.singleRightRail)for(t=0;t<a.numOfItems;t++)(e=a.contentModalNodes[t])&&(i=e.offsetTop,0===t&&n&&(i-=n.offsetHeight),a.itemsOffset[t]=i,a.itemsOffsetBottom[t]=i+e.offsetHeight)},updateLrecsOffset:function(){var e,t,i,a,n=this;if(n.ui.singleRightRail)for(n.contentColNode&&(n.contentColTop=n.contentColNode.getY(),n.contentColBottom=n.contentColTop+n.contentColNode.get("offsetHeight"),n.ui.enableVideoCluster&&n.videoClusterNode&&(n.contentColBottom=n.videoClusterNode.getY()+n.videoClusterNode.get("offsetHeight"))),n.asideNode&&(n.asideNodeOffsetHeight=n.asideNode.get("offsetHeight")),e=0;e<n.numOfItems;e++)(t=n.contentLRECNodes[e])&&(i=t.offsetTop,n.LrecOffset[e]=i,n.LrecOffsetBottom[e]=i+t.offsetHeight),n.ui.enableAdsDynamicAnchor&&(a=n.dynamicAnchorNode[e])&&(n.dynamicAnchorNodeTop[e]=a.get("offsetTop"))},pauseVideos:function(e){for(var t=0,i=L.length;t<i;t++)e&&e.indexOf(t)>=0||L[t].controls.pause()},renderContentList:function(t,i,a,o){var l=this,s=l.currPage.listId,d=l.ui.enableVerticalVideo,r=l.ui.enableVerticalVideoAds;e.Af.Cache.get(ce,{},function(c,u){var p,g,m=!1;!c&&u&&u[s]&&(p=u[s],e.Array.each(t,function(e){e.liked=p[e.cauuid]||p[e.id]})),e.Array.each(t,function(e,t){var i,a,o,s,d;!l.offnetSpaceid||e.spaceid||e.is_eligible||(e.spaceid=l.offnetSpaceid),(l.ui.offnet_allshare_enabled||e.hosted)&&(e.enableAllShare=!0),l.ui.leadModal&&0===e.pageIndex&&"story"!==e.type&&("video"===e.type?e.isVideoLeadItem=!0:"slideshow"===e.type&&(e.isSlideshowLeadItem=!0)),l.ui.aSideContentPromoEnabled&&l.ui.aSideContentPromoType&&0===t&&"gma"!==e.property&&(i=e.offnetDeeplink||e.link,a=l.ui.aSideContentPromoType,m=!(!i||!a)&&((o=n.createElement("a")).href=i,1===(d=(s=o.pathname&&o.pathname.toLowerCase())&&s.indexOf(a.toLowerCase()))||0===d)),!m||0!==t&&2!==t||(e.showContentAsidePromo=!0)}),g={applet_type:l.appletType,i18n:l.i18n,context:l.context,data:{items:t},ui:l.ui,search:l.search,adChoicesUrl:l.adsConfig.curveball.adChoicesUrl},r&&(g.adsConfig=l.adsConfig),dust.render(l.templateCards,g,function(e,t){!e&&t&&(l.viewer.fillContent(t,i,a),"function"==typeof o&&o(),d&&l.onOrientationChange(null,50))})})},updateCurrPage:function(e){var t=this,i="",a="",n="",o="",l="",s="",d="";e&&(e.getAttribute?(i=e.getAttribute("data-spaceid"),a=e.getAttribute("data-id"),n=e.getAttribute("data-link"),o=e.getAttribute("data-title"),s=e.getAttribute("data-type"),l=e.getAttribute("data-cauuid"),d=e.getAttribute("data-hosted")):(i=e.spaceid,a=e.id,n=e.link,o=e.title,s=e.type,l=e.cauuid,d=e.hosted,!t.offnetSpaceid||i||e.is_eligible||(i=t.offnetSpaceid))),t.currPage.spaceid=i,t.currPage.uuid=a,t.currPage.link=n,t.currPage.title=o,t.currPage.type=s,
t.currPage.cauuid=null,t.currPage.hosted=d,t.currPage.no_ads=!!e.no_ads&&e.no_ads,l&&(t.currPage.cauuid=l),t.pstaid_p||(t.pstaid_p=a)},updateLeadPhotoClass:function(e){var t,i,a,n,o,l=this;for(n=0,o=e.length;n<o;n++)(i=(t=e[n]).cover_photo&&t.cover_photo.img)&&((a=100*i.height/i.ratio)<200?t.cover_photo.img=null:i.imageClass=a<400?"Fl-end Mb-20 Mstart-20":a<580?"D-b Mb-20":"desktop"===l.device?"D-b Mb-20 Maw-100":"Mb-20 W-100")},initPage:function(t,i,o,l){var s,d,r,c,u,p,g,m,f,v,y,C,w,k,P,S,T,V;if(t){if(d=(s=this).get("container"),p=t.querySelector(".vv-box"),g=s.ui.enableVerticalVideo,m=(new Date).getTime(),s.pstaid_p=null,s.onceVvRevealed=[],i=i||0,s.pageHasVideo=!1,_.fire("content:shown",{}),s.updateCurrPage(t),(s.ui.enableModalBackfillViewportDetection||s.visibleMeasuresEnabled)&&(s.backfillVideoPlayer=null),(s.ui.enableRelatedVideo||s.ui.enableVideoCluster)&&(s.relatedVideoAutoPlay=s.ui.relatedVideoAutoPlay,s.renderedRelatedVideos=[],s.relatedVideoPlayer=[]),p?s.onceVvRevealed.push(s.initPageAds.bind(s,t,i,o,l)):s.initPageAds(t,i,o,l),s.removeAutoplayAndLazyloadEmbeds(t,i),"mega-modal"===s.ui.mode)s.modalSlideshow=new e.TD.Viewer.Slideshow("modal-slideshow",s);else{u=t.getAttribute("data-lb");try{u=JSON.parse(u),s.slideshow.render(u)}catch(I){}}s.renderYEP(t,m),f="slideshow"===s.currPage.type?"story":s.currPage.type,s.handleTracking(f,!0),p?s.onceVvRevealed.push(s.renderEmbedTypes.bind(s)):s.renderEmbedTypes(),s.ui.inlineView&&e.Stencil.initAll(t),s.ui.stream.enabled&&(e.Global.on(A,function(e){s.streamCategory=e.category},s),(r=s.ui.stream.config).category=s.streamCategory,c=function(){a.innerHeight+n.body.scrollTop>=n.body.scrollHeight-400&&(s.getRemoteApplet("td-applet-stream",r,t.getElementsByClassName("js-stream-container")[0]),a.removeEventListener("scroll",c))},a.addEventListener("scroll",c),s.config.rendered?setTimeout(c,1):e.Global.once(b,c),e.Global.once(h,function(){a.removeEventListener("scroll",c)})),p?s.onceVvRevealed.push(s.initPageSlotApplets.bind(s,t,i)):(s.initPageSlotApplets(t,i),g?s.vvUtil&&s.vvUtil.initSocial():s.initPageComments(t)),(s.ui.enableRelatedVideo||s.ui.enableVideoCluster&&i+1>=s.numOfItems)&&s.getRelatedVideo(t,i),s.ui.trending.enabled&&(s.ui.loadAppletDelay?setTimeout(function(){s.getRemoteAppletTrending(t)},parseInt(s.ui.loadAppletDelay,10)):s.getRemoteAppletTrending(t)),s.ui.sports.fantasypromote.enabled&&(s.ui.loadAppletDelay?setTimeout(function(){s.getRemoteAppletFantasyPromote(t)},parseInt(s.ui.loadAppletDelay,10)):s.getRemoteAppletFantasyPromote(t)),s.ui.polyvore.trending.enabled&&"undefined"!=typeof a.thamba&&1===a.thamba&&(s.ui.loadAppletDelay?setTimeout(function(){s.getRemoteAppletPolyvoreTrending(t)},parseInt(s.ui.loadAppletDelay,10)):s.getRemoteAppletPolyvoreTrending(t)),s.visibleMeasuresEnabled&&(s.ui.loadAppletDelay?setTimeout(function(){s.getVisibleMeasures(t)},parseInt(s.ui.loadAppletDelay,10)):s.getVisibleMeasures(t),(v=e.one("#vm-title"))&&e.on("click",e.bind(s.handleVMTitleClick,s),v)),s.ui.enableVerticalVideo&&(t.querySelector(".vv-box")?s.initVerticalVideoPage(t):t.querySelector(".vv-ad")&&s.initVerticalVideoAd(t)),s.adsConfig&&s.adsConfig.promoAds&&s.adsConfig.promoAds.enabled&&s.promoModel&&s.sessionPromoCount<(s.adsConfig.promoAds.totalSessionViews||2)&&(C={},(y=s.adsConfig.promoAds).imageTag&&(C.ads_image_tag=y.imageTag),y.se&&(C.se=y.se),s.promoModel.loadPromo(C,function(t,i){var a,n,o;!t&&i&&i.app_promo&&i.app_promo.result&&0!==i.app_promo.result.length&&(((a=i.app_promo.result[0]).image||a.origImageAssets)&&a.origImageAssets.forEach(function(e){e&&e.height&&e.width&&e.url&&e.tag===y.imageTag&&(a.image=e)}),a.image&&a.image.height&&a.image.width&&a.image.url&&(a.cpi=1,s.config.ads.promoAds.starRating&&(a.ratings=s.getAppInstallAdRatings(s.config.ads.promoAds.starRating)),n=y.minReviewCount||0,y.enableAppReviewsPerApp&&y.appReviewsPerApp?a.appReviews=s.formatAppReviews(y.appReviewsPerApp,n,a.publisher):y.appReviews&&y.appReviews>n&&(o=y.appReviews,a.appReviews=s.getAppReviewString(o)),s.config.ads.promoAds.asyncBeacon&&a.landingPageUrl&&(a.asyncBeacon=a.clickUrl),a.link=a.landingPageUrl,d.delegate(R,s._onClickPromoAd,".js-promo-link-article",s),dust.render("td-applet-viewer-templates-promo_atomic_sm",{promo:a,i18n:s.i18n,config:s.config},function(t,i){var a,n,o;!t&&i&&(a=s.container.one("#"+Pe),n=s.container.one("#"+Se),o=e.Node.create(i),a&&n&&o&&(a.removeClass("D-n"),n.appendChild(o),s.sessionPromoCount+=1,_.fire("curveball:append",{ads:[o.getDOMNode()]}),setTimeout(function(){s.ads.beaconVisibleAds()},y.beaconTimeout||1e3)))})))})),s.adsConfig&&s.adsConfig.installInAppButton&&s.adsConfig.installInAppButton.enabled&&s.adsConfig.installInAppButton.appStoreUrl&&(w=s.container.one("#"+Ie),k="js-slider-item-"+s.currIndex,w&&k&&(P=n.getElementById(k))&&P.getAttribute&&(S=P.getAttribute("data-id"))&&(w.removeClass("D-n"),d.delegate(R,function(e){var t,i;e.halt(),t=(new Date).valueOf(),i=s.adsConfig.installInAppButton.redirectTimeout||5e3,setTimeout(function(){var e=(new Date).valueOf()-t;e>=i&&e<=i+100&&(a.location=s.adsConfig.installInAppButton.appStoreUrl)},i),a.location="yahoo://article/view?uuid="+S+"&src=web"},"#"+Ie,s))),s.ui.slideshowInline&&"slideshow"===s.currPage.type&&setTimeout(function(){s.inlineSlideshow(d)},100),s.ui.appinstallurl&&((T=s.ui.appinstallurl).indexOf("?")<0&&(T+="?"),s.ui.appinstall.iosurl&&(T+="&$ios_url="+escape(s.ui.appinstall.iosurl)),s.ui.appinstall.androidurl&&(T+="&$android_url="+escape(s.ui.appinstall.androidurl)),window.branchData&&(window.branchData.bid&&(T+="&bid="+escape(window.branchData.bid)),window.branchData.sid&&(T+="&sid="+escape(window.branchData.sid))),s.currPage.uuid&&(V="content="+s.currPage.uuid+"&type=uuid",T+="&context="+escape(escape(V))),window.location&&window.location.pathname&&(T+="&$deeplink_path="+escape("www.yahoo.com"+window.location.pathname),T+="&$canonical_url="+escape("https://www.yahoo.com"+window.location.pathname)),dust.render(G,{appinstallurl:T,ui:s.ui,
i18n:s.i18n},function(t,i){if(i&&!e.one("#AppInstallBtn")){e.one("BODY").append(i);var a=e.Af.rapid&&e.Lang.isFunction(e.Af.rapid.getRapidTracker)?e.Af.rapid.getRapidTracker():null;a&&a.addModules("AppInstallBtn"),e.one("#AppInstallBtn .app-install-btn").on("click",s.onClickAppInstall,s)}}))}},onClickAppInstall:function(e){var t=e.currentTarget,i=t&&t.get("href");i&&(e.halt(!0),a.location=i)},inlineSlideshow:function(t){var i=this,a=t.all(".Image-Tracker"),n=i.currPage.uuid,o={sec:"sshow",g:n,pos:0,slk:"next",p:"img"},l="contentmodification",s="sshow",d=i.getRapid();d&&d.beaconEvent&&(d.beaconEvent(l,o,s),e.one("body").setAttribute("data-imageloader-checkposition",!0),a.each(function(e,t){e.on("load",function(){var e=this.getAttribute("data-index");o.pos=e,0!==e&&d.beaconEvent(l,o,s)})}),e.Stencil.initAll(t))},initPageAds:function(t,i,n,o){var l,s,d,r,c,u,p,g,m,f,h,v,y,b=this,A=t.getAttribute("data-sa"),C=null,w=t.querySelector(".Content-Body"),k=!1;if(A)try{C=JSON.parse(A)}catch(P){}n?b.ads.insertDisplayAds(b.currPage.spaceid,i,C,n,o):b.ui.enableMobileLREC?(l=!1,s=b.currPage.spaceid,d=t.getAttribute("data-type")||"story",b.ui.enableMobileMSPL&&"video"!==d&&(void 0===o&&(o=t.getAttribute("data-site")||null),r=a.pageloadValidAds,c=b.ui.mobileAdMSPLPos||"MSPL",(b.ui.enableMobileMSPLAlwaysFetch||r&&r.indexOf(c)<0)&&(b.ui.enableMobileMSPLSpaceidOerride?(u=o,t.getAttribute("data-hosted")||null||(u="non-hosted"),(p=se(b.ui,["mobileAdMSPLSpaceid",u]))&&(l=!0,s=p)):l=!0)),g=b.getMobileAdsPos(t),m=e.one(b.viewer.node).hasClass("vv"),f=t.getAttribute("data-hosted")||!1,v=!(h=b.adsConfig.smad&&b.adsConfig.smad.enabled)||f||!b.ads.isSMAdCached(),h&&b.ui&&b.ui.mobileAdPosOne&&!m?(f&&(g=b.replaceDisplayAd(g,"LREC-9")),b.ads.setContentType(d),b.insertGeminiAd(d)):b.ui.enableYapjs&&g&&b.ui.mobileAdPosReplaceWithYapAd&&(y=b.ui.mobileAdPosReplaceWithYapAd||"LREC-9",g=b.replaceDisplayAd(g,y)),l?(b.secondFetchAd=!0,b.secondMobileAdPosition=g,b.secondMobileSpaceid=b.currPage.spaceid,b.secondSiteAttrs=C,b.secondSite=o,b.secondIndex=i,g=b.ui.mobileAdMSPLPosId||"MSPL-9"):(b.secondFetchAd=!1,b.secondMobileAdPosition="",b.secondMobileSpaceid="",b.secondSiteAttrs="",b.secondSite="",b.secondIndex=0),v&&b.ads.insertDisplayAds(s,i,C,g,o)):b.ads.insertAds(b.currPage.spaceid,i,w,C),k&&b.getYapAds(t,i)},replaceDisplayAd:function(e,t){var i,a=this;if(a.adsConfig&&a.adsConfig.smad&&a.adsConfig.smad.enabled&&a.ads.isSMAdCached()){for(i=e.split(",");i.indexOf(t)>=0;)i.splice(i.indexOf(t),1);return e=i.join(",")}},insertGeminiAd:function(e){var t,i;this.ui&&this.ui.mobileAdPosOne&&(t="slideshow"!==e?this.ui.mobileAdPosOne:"hl-ad-LREC",i=n.getElementById(t),this.ads.insertGeminiAdsOnly(this.viewer.getCurrItem(),i))},initPageSlotApplets:function(e,t){var i,a,n=this,o=Object.keys(n.ui.slots);for(i=0,a=o.length;i<a;i++)n.ui.loadAppletDelay&&"sidekickdesktop"!==o[i]?setTimeout(n.getHandleSlotApplet(e,o[i],n.ui.slots[o[i]],!1,t),parseInt(n.ui.loadAppletDelay,10)):n.handleSlotApplet(e,o[i],n.ui.slots[o[i]],!1,t)},initPageComments:function(e){var t=this;t.ui.comments.enabled&&(t.ui.loadAppletDelay?setTimeout(function(){t.getRemoteAppletComments(e)},parseInt(t.ui.loadAppletDelay,10)):t.getRemoteAppletComments(e))},initVerticalVideoPage:function(t){var i,n,o,l,s;t&&(n=(i=this).container,o=t.querySelector(Ce),s=(l=t.querySelector(".vv-box"))&&l.querySelector(".thumbnail-placeholder .yvp-loading-screen"),i.ui.enableTapTooltip&&(i.tapTooltipTimer=a.setTimeout(i.showTapTooltip.bind(i),1e3)),o&&(o.style.transition&&e.one(o).setStyle("transition",null),s&&e.one(s).setStyle("display","block")),n&&!n.hasClass("not-revealed")&&n.addClass("not-revealed"))},initVerticalVideoAd:function(t){var i=this,a=t&&e.one(t);a&&a.one(".vv-ad-vp")&&i.vvUtil.initGeminiVideoAd(a),i.initRelatedVv()},renderModalApplets:function(e,t){var i,a,o,l,s,d,r=this;if(t&&!(t<=1)&&(e||(e=0),t>1&&t>=e))for(l=e;l<t;l++)if(a="js-slider-item-"+l,o=n.getElementById(a))for(s=0,d=(i=Object.keys(r.ui.slots)).length;s<d;s++)r.handleSlotApplet(o,i[s],r.ui.slots[i[s]],!1,l)},updatePage:function(t,i,n,o){var l,s,d,r,c,u,p=this,g=null;if(t){if(i=i||0,_.fire("content:shown",{}),p.updateCurrPage(t),s=t.getAttribute("data-sa"))try{g=JSON.parse(s)}catch(m){}if(l=t.querySelector(".Content-Body"),p.ui.enableModalSponsoredAds||(n?p.ads.insertDisplayAds(p.currPage.spaceid,i,g,n,o):p.ads.insertAds(p.currPage.spaceid,i,l,g)),p.removeAutoplayAndLazyloadEmbeds(t,i),"modal"===p.ui.mode||"mega-modal"===p.ui.mode)p.modalSlideshow=new e.TD.Viewer.Slideshow("modal-slideshow",p);else{s=t.getAttribute("data-lb");try{s=JSON.parse(s),p.slideshow.render(s)}catch(f){}}for(p.ui.enableModalContentPV||p.handleTracking(p.currPage.type,!0),p.renderEmbedTypes(),p.ui.inlineView&&e.Stencil.initAll(t),d=Object.keys(p.ui.slots),p.ui.enableSidekickAdditionalRendering&&(r=d.indexOf("sidekickdesktop"))>-1&&d.splice(r,1),c=0,u=d.length;c<u;c++)p.handleSlotApplet(t,d[c],p.ui.slots[d[c]],!0,i);p.ui.comments.enabled&&p.getRemoteAppletComments(t),p.ui.trending.enabled&&p.getRemoteAppletTrending(t),(p.ui.enableRelatedVideo||p.ui.enableVideoCluster&&i+1>=p.numOfItems)&&p.getRelatedVideo(t,i),p.ui.polyvore.trending.enabled&&"undefined"!=typeof a.thamba&&1===a.thamba&&p.getRemoteAppletPolyvoreTrending(t)}},showFullContent:function(e){var t,i=se(e,["currentTarget","_node"]);i&&(t=i.parentNode.getElementsByClassName(I))&&(i.classList.add("D-n"),i.classList.add("D(n)"),t[0].classList.remove("D-n"),t[0].classList.remove("D(n)"),this.refreshSidekick(i,!0))},expandFullArticle:function(t){var i,a,n,o,l=se(t,["currentTarget","_node"]);l&&(a=(i=l.parentNode).getElementsByClassName("body-wrapper"),n=i.querySelector(".video-box,.vv-box"),o=i.querySelector('[id^="slideshow-"]'),a&&(l.classList.add("D-n"),l.classList.add("D(n)"),a[0].classList.remove("D-n"),a[0].classList.remove("D(n)"),n&&(n.classList.remove("D-n"),this.renderYEP(n)),this.renderYEP(a[0]),this.refreshSidekick(l,!1),o&&this.inlineSlideshow(e.one(o))))},
refreshSidekick:function(t,i){var a,n,o,l,s=this;"mega-modal"===s.ui.mode&&(a=t.getAttribute("data-index"),n=s.ui.sidekickBatchDelay||500,a&&(o=parseInt(a,10),i&&(l={ss_cid:s.beaconData[o]&&s.beaconData[o].ss_cid||""},s.fireClickBeacon("hl-viewer","continue","btn",0,l)),setTimeout(e.bind(s.handleSlotApplet,s,s.allItems[o],"sidekickdesktop",s.ui.slots.sidekickdesktop,!0,o),n)))},slideToRelatedContent:function(e){var t,i;e.preventDefault(),e.stopPropagation(),t=this,i=parseInt(e.currentTarget.getAttribute("data-index"),10),t.viewer.next(i+1)},destroyPage:function(t,i){var n,o,l=this;l.ui.enableVerticalVideo&&(_.fire("vertical-video:destroy-page",{node:t,removeContent:i}),l.container.removeClass("revealed").removeClass("not-revealed")),(n=l.container.one(".js-comments-container [data-applet-guid]"))&&e.fire("td-applet-canvass:destroy",{guid:n.getAttribute("data-applet-guid")}),l.smAdsFooterVisibility&&(a.removeEventListener("scroll",l.smAdsFooterVisibility),l.ads.videoAdPlayers={}),l.adsConfig.smad&&l.adsConfig.smad.enabled&&l.ads.destroySMAdEvents(),ke=null,l.ignoreScroll=!0,l.pstaid_p=null,l.destroyBackfillVideos(),l.destroyVideos(i),l.destroyIframes(),l.removeTapToolTip(),l.removeSwipeToolTip(),l.videoManagerUtil&&l.videoManagerUtil.cleanup(),t&&(l.ads.destroyAds(t),l.removeRemoteApplets(t)),i&&(l.videoClickParams=null,l.removeContent(),l.vvUtil&&l.vvUtil.togglePageFix(!1)),l.resetVariables(),l.removeVMEventHandlers(),l.tilesPageVisible&&(l.tilesPageVisible=!1,l.destroyTilesPage()),l.ui.appinstallurl&&e.one("#AppInstallBtn")&&((o=e.Af.rapid&&e.Lang.isFunction(e.Af.rapid.getRapidTracker)?e.Af.rapid.getRapidTracker():null)&&o.removeModule("AppInstallBtn"),e.one("#AppInstallBtn").remove()),e.one("BODY").removeClass(Te)},resetVariables:function(){var e=this;e.allItems=[],e.asideNode=null,e.asideNodeOffsetHeight=0,e.beaconData=[],e.contentAdsRendered=[],e.contentColNode=null,e.videoClusterNode=null,e.contentColTop=0,e.contentColBottom=0,e.contentEndBeaconFired=[],e.contentLRECNodes=[],e.contentModalNodes=[],e.contentSites=[],e.contentUuids=[],e.contentViewBeaconFired=[],e.currAdsIndex=0,e.currIndex=0,e.currSidekickStartIndex=0,e.disableBatchLREC=!1,e.disableSidekick=!1,e.dynamicAnchorNode=[],e.dynamicAnchorNodeTop=[],e.dynamicHeightNode=null,e.dynamicHeightHeight=0,e.sidekickItemCount=0,e.firstContentHosted=!0,e.firstVideoStarted=!1,e.fixedHeaderItems=null,e.headerItems=null,e.headerOffset=[],e.itemsOffset=[],e.itemsOffsetBottom=[],e.latestKnownScrollY=0,e.LrecOffset=[],e.LrecOffsetBottom=[],e.numOfItems=0,e.scrollTimer=-1,e.shouldRenderVideoBackfill=!1,e.sidekickStartIndexes=[],e.sidekickRendered=[],e.slideshowAdPos=null,e.stickyRightRailStart=!1,e.ticking=!1,e.videoBackfillNextPos=0,e.enableModalSingletonLREC=!1,e.ui.label=null,fe=null},handleTracking:function(e,t,i,a){var o,l,s,d,r,c,u,p,g,m,f,h,v=this,y=v.contentSites[v.currIndex];i&&(c="js-slider-item-"+v.currIndex,(u=n.getElementById(c))&&(u.getAttribute?(l=u.getAttribute("data-spaceid"),s=u.getAttribute("data-id"),d=u.getAttribute("data-type"),r=u.getAttribute("data-cauuid"),m=u.getAttribute("data-hosted")):(l=u.spaceid,s=u.id,d=u.type,r=u.cauuid))),o={linkTrack:t,spaceid:l||v.currPage.spaceid||"",type:e||d||"",keys:{pstaid:r||v.currPage.cauuid||s||v.currPage.uuid||"-1",paid:v.currPage.paid||s||v.currPage.uuid||"",pt:4,hosted:m||v.currPage.hosted||""}},"mega-modal"===v.ui.mode&&v.ui.enableModalContentPV&&(o.keys.pp="modal-scroll",o.keys.prefcnt=v.numOfItems),v.viewer&&v.viewer.node&&(o.containerId=v.viewer.node.getAttribute("id")||""),v.ui.enableVerticalVideo&&v.vvUtil&&v.vvUtil.setPageViewParams(o),a&&(o.keys=v.mergeObjects(a,o.keys)),setTimeout(function(){_.fire("content:pageview",o)},50),"mega-modal"===v.ui.mode&&v.ui.enableModalOmnitureBeacon&&"gma"===y&&(p||(c="js-slider-item-"+v.currIndex,(u=n.getElementById(c))&&u.getAttribute&&(p=u.getAttribute("data-title"),(g=(f=u.getElementsByClassName("Author")[0])&&f.innerHTML)&&g.length>0&&(g=g.replace(/,+$/,"")))),h={pageType:o.type,site_section:y,site_section_new:o.spaceid,site_config:y,author_name:g||"",article_id:o.keys.pstaid,article_name:p||""},v.fireOmnitureBeacon(h))},fireRelatedVideoPV:function(e){var t=this,i={linkTrack:!1,spaceid:t.currPage.spaceid||"",type:"video",keys:{pstaid:e||t.currPage.cauuid||t.currPage.uuid||"-1",paid:e||t.currPage.uuid||"",pt:4,hosted:""}};"mega-modal"===t.ui.mode&&t.ui.enableModalContentPV&&(i.keys.pp="modal-scroll",i.keys.prefcnt=t.numOfItems),t.viewer&&t.viewer.node&&(i.containerId=t.viewer.node.getAttribute("id")||""),setTimeout(function(){_.fire("content:pageview",i)},50)},renderEmbedTypes:function(){var e,t,i=this,a=i.embedConfigObj.embedTypesEnabled;for(e=0,t=a.length;e<t;e++)i.renderEmbed(a[e])},renderEmbed:function(t){var i=this,a=i.embedConfigObj.iframeEmbedUrl,n=i.embedConfigObj.iframeEmbedHost,o=i.embedConfigObj.iframeEmbedMaxPolls,l=i.embedConfigObj[t],s=i.container.all("."+l.className);s.size()&&(s.each(function(t,i){var s,d,r;"<blockquote class="===t.get("parentNode").getAttribute("data-embed-code")&&t.get("parentNode").replace(t),s=l.name+"-"+i,d=e.Node.create('<iframe id="'+s+'" src="'+a+'" onload="'+l.name+"Onload"+i+'()"  frameborder=0 scrolling="no" class="modal-embed-iframe">'),t.replace(d),r=l.name+"Onload"+i,window[r]=function(){var e=JSON.stringify({id:s,markup:t.get("outerHTML"),scriptSrc:l.scriptSrc,maxPolls:o}),i=document.getElementById(s);i.contentWindow.postMessage(e,n)}}),ne||window.addEventListener("message",function(e){var t,i,a,n;e.data&&"string"==typeof e.data&&(i=(t=e.data.split(":"))[0],a=t[1]&&parseInt(t[1],10)+20,a+="px",(n=document.getElementById(i))&&a&&(n.style.height=a),ne=!0)}))},renderYEP:function(t,i){var a,n,o,l,s,d,r,c,p;if(t){if(a=this,"js-slider-item-0"===t.id&&(t=a.viewer.node.getElementsByClassName("js-slider-lead-item")[0]||t),l=t.getElementsByClassName(u),s=t.getElementsByClassName(g),a.ui.enableMagazineVideoCtopid&&(d=t.getAttribute("data-sa"))){try{r=JSON.parse(d)}catch(m){}
r&&(p=r.match(oe))&&p.length>=2&&(c=p[1])}!l.length||s.length&&!a.ui.enableVerticalVideo||(a.playerJsLoaded||(a.playerJsLoaded=!!a.isPlayerJSLoaded()),a.pageHasVideo=!0,a.playerJsLoaded?a.initializePlayer(l,{ctopid:c,navStartTime:i}):t.classList.contains("vv-item")?a.vvUtil.loadPlayerJs(function(){a.initializePlayer(l,{ctopid:c,navStartTime:i})}):(o=Date.now(),e.Get.js(a.js.videoplayer,function(){n=Date.now(),a.playerJsLoaded=!0,a.initializePlayer(l,{ctopid:c,playerDownloadTime:n-o,navStartTime:i})})))}},addVideoClickParams:function(t,i){if(!i)return t;var a=e.Object.getValue(window.rapidPageConfig,["rapidConfig","keys","_rid"])||"";return t.rapidConfig=t.rapidConfig||{},t.rapidConfig.pageParams=t.rapidConfig.pageParams||{},t.sec=t.sec||i.sec||"",t.ccode=t.ccode||i.ccode||"",t.cpos=t.cpos||i.cpos||"",t.rapidConfig.pageParams._rid=t.rapidConfig.pageParams._rid||a,t.rapidConfig.clickParams=t.rapidConfig.clickParams||i,t},changeDockedPlayer:function(e){fe||(fe=e),fe&&e!==fe&&fe.isDocked()&&(fe.undockVideoPlayer(!0),fe=e)},attachInteractEvent:function(t,i){var a=this;t&&(i.docking&&a.ui.enableRelatedVideo&&(t.on(YAHOO.VideoPlatform.API_Events.UI_INTERACT,function(e){e&&e.srcElement&&("ui_pop_close_clk"===e.srcElement||"ctrl-pause-btn"===e.srcElement?(a.relatedVideoAutoPlay=a.ui.relatedVideoAutoPlay,a._onScroll(null)):"ctrl-play-btn"===e.srcElement&&(a.relatedVideoAutoPlay=!1,a._onScroll(null)))}),a.ui.singleRightRail&&t.on(YAHOO.VideoPlatform.API_Events.PLAYER_DOCKED_CHANGE,function(e){!0===e&&(a.stickyRightRailStart=!1)})),a.ui.enableVideoUndock&&(t.on(YAHOO.VideoPlatform.API_Events.AD_PLAYBACK_START,e.bind(a.changeDockedPlayer,a,t)),t.on(YAHOO.VideoPlatform.API_Events.PLAYBACK_START,e.bind(a.changeDockedPlayer,a,t)),t.on(YAHOO.VideoPlatform.API_Events.PLAYBACK_RESUMED,e.bind(a.changeDockedPlayer,a,t)),t.on(YAHOO.VideoPlatform.API_Events.AD_PLAYBACK_RESUME,e.bind(a.changeDockedPlayer,a,t))))},getDockingDimensions:function(){var t,i,a,n=this,o=70,l=20,s=-1,d=-1,r=!0,c=!0,u=!0,p=!1;return n.ui.videoDockingDisableFadeIn&&(r=!1),n.ui.videoDockingDisableInfoCard&&(c=!1),n.ui.videoDockingpositionTop&&(o=n.ui.videoDockingpositionTop),n.ui.videoDockingpositionRight&&(l=n.ui.videoDockingpositionRight),n.ui.videoDockingpositionLeft&&(s=n.ui.videoDockingpositionLeft),n.ui.videoDockingpositionBottom&&(d=n.ui.videoDockingpositionBottom),n.ui.enableModalVideoDockingAlignRightRail&&(t=null,(t=n.asideNode?n.asideNode:e.one(".modal-aside"))&&(s=t.getDOMNode().getBoundingClientRect().left,l=-1,n.ui.videoDockingWidth=n.ui.videoDockingWidth||300,n.ui.videoDockingHeight=n.ui.videoDockingHeight||168)),i={enableOnScrollDown:u,enableOnScrollUp:p,fadeInAnimation:r,showInfoCard:c,positionTop:parseInt(o,10),positionRight:parseInt(l,10),positionLeft:parseInt(s,10),positionBottom:parseInt(d,10)},n.ui.videoDockingWidth&&n.ui.videoDockingHeight&&(i.width=parseInt(n.ui.videoDockingWidth,10),i.height=parseInt(n.ui.videoDockingHeight,10)),n.ui.videoDockingUseDefaultDimensions&&(a=Math.min(screen.width,screen.height),i.width=Math.floor(.4*a),i.height=Math.floor(.225*a)),i},onResize:function(e){var t=this;t.container.one(".vv-box")&&(t.orientationChanged||setTimeout(function(){t.orientationChanged||(t.resizeVerticalPlayer(),t.vvUtil.rotateAds(t.isLandscape))},10))},onOrientationChange:function(e,t){var i,a,n=this;n.container.one(".vv-box")&&(n.orientationChanged=!0,setTimeout(function(){n.orientationChanged=!1,n.resizeVerticalPlayer(),n.vvUtil.rotateAds(a)},1e3),screen.orientation&&"number"==typeof screen.orientation.angle?i=screen.orientation.angle:"number"==typeof window.orientation&&(i=window.orientation),i!==undefined&&(a=90===i||-90===i||270===i||-270===i,n.isLandscape=a,n.orientationChangeTimeout&&(clearTimeout(n.orientationChangeTimeout),n.orientationChangeTimeout=null),e||t?(n.vvUtil.toggleOtherCards(!1),n.orientationChangeTimeout=setTimeout(function(){n.orientationChangeTimeout=null,n.resizeVerticalPlayer(a),n.vvUtil.toggleOtherCards(!0),n.vvUtil.rotateAds(a)},t||300)):(n.resizeVerticalPlayer(a),n.vvUtil.rotateAds(a))))},attachVvPerVideoEvents:function(e,t){var i=this,a=YAHOO.VideoPlatform.API_Events,n=i.viewer&&i.viewer.getCurrItem(),o=[a.PLAYER_READY,a.PLAYBACK_START,a.PLAYBACK_RESUMED],l=[a.PLAYBACK_START,a.PLAYBACK_RESUMED];i.playerOnceEither(e,o,function(){var t,a,o;i.viewer.getCurrItem()===n&&(0!==(t=e.playlist.getCurrentItemMarkers()||[]).length&&0===t[0].start_time||(t=[{start_time:0}].concat(t)),a=e.controls.getDuration(),D=t.filter(function(e){return e.start_time>=0&&e.start_time<a}),o=i.viewer.getCurrIndex(),i.updateProgressDots(o))}),i.playerOnceEither(e,l,function(){i._onceVerticalVideoPlay&&(i._onceVerticalVideoPlay(),i._onceVerticalVideoPlay=null),i.viewer.getCurrItem()===n&&(i.initRelatedVv(),i.vvUtil.initSocial())})},attachVvPerPlayerEvents:function(t){var i=this,a=i.vvUtil,n=YAHOO.VideoPlatform.API_Events;a.handleOpss(t,n),t.on(n.PLAYBACK_TIME_UPDATE,function(n,o,l){var s,d,r,c,u,p,g,m,f=i.viewer&&i.viewer.getCurrItem(),h=i.container.one(".progress-bar .playing.progress-dot .bar"),v=0;if(f&&f.querySelector('.vv-box[data-vvid="'+n+'"]')){if(s=a.isPlaybackTimeContinuous(o),d=l-o,a.setLastPlaybackTime(o),o>0&&a.hideCurrThumbnail(t),!isNaN(l)){if(i.ui.enableSwipeTooltip&&(d<3.5?i.showSwipeTooltip():i.dismissSwipeTooltip()),0===d)return void i.updateCurrentProgressDot(!1,!0);i.updateCurrentProgressDot(!0,!1),D?(r=!1,c=0,0,u=ve/D.length,p=0,g=0,r=e.Array.some(D,function(e,t){if(o<e.start_time)return!0;c=t}),p=D[c].start_time,g=r?D[c+1].start_time:l,v=u*(c+(o-p)/(g-p)),s&&(m=i.viewer.getCurrItem().querySelector(".vv-box .right-tap-btn"),c===D.length-1?m.classList.add("disabled"):m.classList.remove("disabled"))):v=o/l*ve,v<ye&&(v=ye)}h&&h.setStyle("left",-ve+v)}})},initializePlayer:function(e,t,i){var a=this;a.VideoPlayer?a.createPlayer(e,t,i):YUI().use(["videoplayer"],function(n){a.VideoPlayer=n.VideoPlatform.VideoPlayer,a.createPlayer(e,t,i)})},createPlayer:function(t,i,a){
var n,o,l,s,d,r,c,u,g,m,f,h,v,y,b,A,C,w,k,P,S,T,V,I,E,R;if(t&&t.length)for(i=i||{},o=(n=this).viewer&&n.viewer.getCurrItem(),s=(l=n.vvUtil&&n.vvUtil.player)&&l.getMediaStore(),d=n.isPlayerEventsReady(),r=n.vvUtil&&n.vvUtil.preRenderVp,m=a||0,f=t.length;m<f;m++){h=t[m],v=e.one(h).ancestor().hasClass("vv-box"),y=!1;try{if(v||(h.innerHTML=""),b=JSON.parse(h.getAttribute("data-"+p))||{},A=n.adsConfig.YVAP.spaceId||b.page_space_id,n.adsConfig.enableVideoSpaceid&&b.video_spaceid&&(A=b.video_spaceid),C=b.video_uuid,w={disableCasting:!0,pageSpaceId:A,comscoreC4:n.getComscoreC4Param(b),playlist:{mediaItems:[{id:C,images:{large:b.thumbnail}}]},pageLatency:{pagePlayerJsDownloadTime:i.playerDownloadTime||null},lang:b.lang,site:b.site,region:b.region.toUpperCase(),autoplay:b.autoplay||!1,expBucket:B.getContext("bucket")||"",expName:"highlander",startscreen:{showButton:!!b.startScreen&&b.startScreen.showButton,showTitle:!!b.startScreen&&b.startScreen.showTitle,showDescription:!!b.startScreen&&b.startScreen.showDescription,showProvider:!!b.startScreen&&b.startScreen.showProvider},ywaSamplingRate:0,YVAP:{accountId:n.adsConfig.YVAP.accountId,playContext:n.adsConfig.YVAP.playContext,timeout:F}},i.ctopid&&(w.YVAP.cTopic=i.ctopid),i.navStartTime&&(w.expNavStartTime=i.navStartTime),b.playlist&&b.playlist.id&&(w.playlist.id=b.playlist.id),k=e.one(n.viewer.node).hasClass("vv"),P=n.ui.enableModalVideoDocking&&(!e.UA.safari||"smartphone"===n.device)&&!k,n.ui.enableDockingForAllVideos||(P=P&&0===n.currIndex),P&&(w.docking=n.getDockingDimensions(),n.ui.enableRelatedVideo&&(n.relatedVideoAutoPlay=!1)),"mega-modal"===n.ui.mode&&((S=se(n.adsConfig,["modalYVAP",b.site]))&&(w.YVAP.accountId=S),(T=se(n.adsConfig,["modalPlayContext",b.site]))&&(w.YVAP.playContext=T),n.ui.enableModalSingleAutoplay&&(!n.firstVideoStarted&&w.autoplay&&0===n.currIndex?(n.firstVideoStarted=!0,window._perfModalVideoInit&&window._perfModalVideoInit()):w.autoplay=!1),n.currPage.no_ads&&(w.YVAP.accountId=!1)),n.ui.videoHidePlaylistUI&&(w.playlistUI={show:!0,position:"hidden"}),b.site&&se(n.adsConfig,["modalSuppressAdContext",b.site])&&(w.CMS||(w.CMS={env:"prod"}),w.CMS.suppressAdContext=!0),w.rapidConfig=n.getVideoRapidConfig(),n.videoClickParams&&n.addVideoClickParams(w,n.videoClickParams),n.ui.videoForceAutoplay&&n.isAutoplayEligible(m)&&(w.autoplay=!0),v&&(w.expName="giraffe",w.replayonlyendscreen=b.replayonlyendscreen||!1,w.stopAtLastFrame=!0,w.loop=b.loop||!1,w.showControls=b.showControls===undefined||b.showControls,w.YVAP=null,w.connectionType={raw:"dsl",mobile:!1},w.mute=!0,w.CMS=w.CMS||{},w.CMS.format="mp4",w.startscreen={showProvider:!1,showDesc:!1,showButton:!1,showTitle:!1}),v){if(u=n.viewer&&n.viewer.getCurrIndex(),g=e.one(h).one(".vv-player"),V=!1,l&&(V=e.Object.some(r,function(e){return e.player===l})),i.preRender)return void n.initPreRenderVv(i.preRenderIndex,g,{videoUuid:C,playerConfig:w,mediaStore:s});r[u]?(c=r[u],L[m]=c.player,y=!0):l&&!V?(L[m]=l,r[u]={player:L[m],node:n.vvUtil.playerNode},c=r[u],y=!0,l.__vvEventsAttached||(n.attachVvPerPlayerEvents(l),l.__vvEventsAttached=!0)):(L[m]=new n.VideoPlayer(w,s),r[u]={player:L[m],node:g},n.vvUtil&&!n.vvUtil.player&&(n.vvUtil.player=L[m],n.vvUtil.playerNode=g),!0!==w.autoplay&&L[m].once(d.PLAYER_READY,L[m].controls.play.bind(L[m].controls))),n.vvPlayer=L[m],A&&n.vvPlayer.updatePageSpaceId(A),n.vvUtil&&(w.rapidConfig=n.vvUtil.updateRapidConfig(w.rapidConfig,o,A),n.vvPlayer.updateRapidConfig(w.rapidConfig))}else L[m]=new n.VideoPlayer(w);v&&(n.playerOnceEither(L[m],[d.LOADING_END,d.VIDEO_STARTED,d.PLAYBACK_RESUMED],n.vvUtil.hideCurrThumbnail.bind(n.vvUtil,L[m])),I=n.handleTapOverlay.bind(n,h,m),E=e.one(h).next(".tap-overlay"),O[m]=n.attachTapHandler(E.getDOMNode(),I),n.detachReadHandleEvents=E.one(".read-handle").on(["touchstart","touchmove","touchend","touchcancel"],n.handleRevealDrag,n)),(R=e.one(h)).setAttribute("data-index",m),v&&(R=R.one(".vv-player")),y||L[m].render(R),n.ui.videoManagerEnabled&&d&&!v&&n.broadcastPlayerReady({instance:L[m],playerNode:R,is_playing:w.autoplay},d),d?(n.attachInteractEvent(L[m],w),n.videoManagerUtil&&n.videoManagerUtil.attachBroadcastDockingChange(L[m],w),v&&(n.attachVvPerVideoEvents(L[m],i),y||n.attachVvPerPlayerEvents(L[m]))):setTimeout(e.bind(n.attachInteractEvent,n,L[m],w),n.ui.videoEventsWaitTime||300),y&&(R!==c.node&&R.replace(c.node),L[m].playlist.getIndexForId(C)<0&&L[m].playlist.addItem(C),L[m].playlist.getCurrentItemId()!==C?(L[m].playlist.setPositionById(C),L[m].config.autoplay||L[m].controls.play()):L[m].controls.play())}catch(M){}if(v){t.length>1&&n.onceVvRevealed.push(n.initializePlayer.bind(n,t,i,1));break}}},initPreRenderVv:function(e,t,i){var a,n=this,o=n.isPlayerEventsReady(),l=i.videoUuid,s=i.playerConfig,d=n.vvUtil.preRenderVp,r=d[e];function c(){var e=n.viewer.getCurrItem(),t=a.playlist.getCurrentItemId();e&&e.querySelector('.vv-box[data-vvid="'+t+'"]')||(a.controls.pause(),n.vvPlayer&&n.vvPlayer.controls&&n.vvPlayer.controls.play())}r?(a=r.player,s.pageSpaceId&&a.updatePageSpaceId(s.pageSpaceId),a.playlist.getIndexForId(l)<0&&a.playlist.addItem(l),a.playlist.getCurrentItemId()!==l&&(a.config.autoplay&&a.once(o.VIDEO_STARTED,c),a.playlist.setPositionById(l)),t!==r.node&&t.replace(r.node),n.vvUtil.hideThumbnail(r.node.ancestor(".js-slider-item"))):(s.autoplay=!1,(a=new n.VideoPlayer(s,i.mediaStore)).config.autoplay&&a.once(o.VIDEO_STARTED,c),a.once(o.PLAYER_READY,function(){n.vvUtil.hideThumbnail(t.ancestor(".js-slider-item"))}),a.render(t),d[e]={player:a,node:t},n.attachVvPerPlayerEvents(a))},initRelatedVv:function(){var e=this,t=e.viewer.getCurrIndex(),i=e.container.all(".js-slider-card:not([data-index="+t+"]) .vv-box .js-video-placeholder");i.each(function(t){var i=t.ancestor(".js-slider-card").getAttribute("data-index");e.createPlayer([t.getDOMNode()],{preRender:!0,preRenderIndex:i})})},playerOnceEither:function(e,t,i){var a=[];function n(){a.forEach(function(e){e()}),i()}t.forEach(function(t){a.push(e.once(t,n))})},
animateTapBtn:function(t){var i=this,a=e.one(i.viewer.getCurrItem()),n=a.one(".vv-box ."+t+"-tap-btn"),o=n.one(".circle"),l=n.one(".double-arrow");i.startAnimation({element:o,animClassPrefix:"bounceAnim-",maxSteps:1}),i.startAnimation({element:l,animClassPrefix:"bounceAnim-",maxSteps:1})},showTapTooltip:function(){var t,i,a;if(N.get(H,"tapTooltipShown"))return!1;t=this,i=e.one(t.viewer.getCurrItem()),(a=i.one(".vv-box .tap-overlay"))&&dust.render(ee,{i18n:t.i18n,type:"tap"},function(i,n){if(!i){var o=e.Node.create(n);o.appendTo(a),t.fireClickBeacon("giraffe_tap_tooltip","","show",0),t.tapTooltip=o,t.endTapTooltipAnim=t.startAnimation([{element:o,animClassPrefix:"fadeInAnim-",maxSteps:1},{delay:4e3},{element:o,animClassPrefix:"fadeOutAnim-",maxSteps:1}],function(){t.removeTapToolTip(),N.set(H,"tapTooltipShown",!0),t.fireClickBeacon("giraffe_tap_tooltip","","end",0)})}})},dismissSwipeTooltip:function(){var e=this;e.swipeTooltip&&(e.endSwipeTooltipAnim(),e.endSwipeTooltipAnim=e.startAnimation({element:e.swipeTooltip,animClassPrefix:"fadeOutAnim-",maxSteps:1},function(){var t=e.swipeTooltip.hasClass("ftu");e.removeSwipeToolTip(),e.fireClickBeacon("giraffe_swipe_tooltip",t?"ftu":"","dismiss")}))},dismissTapTooltip:function(){var e=this;e.tapTooltip&&(e.endTapTooltipAnim(),e.endTapTooltipAnim=e.startAnimation({element:e.tapTooltip,animClassPrefix:"fadeOutAnim-",maxSteps:1},function(){e.removeTapToolTip(),N.set(H,"tapTooltipShown",!0)}),e.fireClickBeacon("giraffe_tap_tooltip","","dismiss",0))},startAnimation:function(e,t){var i,n,o,l,s,d,r,c;return e=Array.isArray(e)?e:[e],i=0,n=null,l=null,s=null,d=null,r=function(){s&&(s.addClass(l+"end"),s.getDOMNode().removeEventListener("animationend",d),s=null,d=null)},(c=function(){if(i>=e.length)t&&t();else{var u=e[i];if(!u.delay||n){if(n=null,!u.element)return i++,void c();l=u.animClassPrefix||"animation-",s=u.element,d=function(){s.removeClass(l+o),++o>u.maxSteps?(r(),u.onEnd&&u.onEnd(),i++,c()):s.addClass(l+o)},o=1,s.getDOMNode().addEventListener("animationend",d),s.addClass(l+o)}else n=a.setTimeout(c,u.delay)}})(),function(){n&&a.clearTimeout(n),r()}},showSwipeTooltip:function(){var t,i,a,n=this,o=n.viewer.getCurrIndex(),l=n.viewer.getTotal();n.swipeTooltip||o===l-1||(n.tapTooltip&&n.dismissTapTooltip(),n.removeSwipeToolTip(),t=e.one(n.viewer.getCurrItem()),(i=t.one(".vv-box .tap-overlay"))&&(a=N.get(H,"swipeFtuShown"),dust.render(ee,{i18n:n.i18n,type:"swipe",isFtu:!a},function(t,o){var l,s;t||((l=e.Node.create(o)).appendTo(i),n.swipeTooltip=l,s=[{element:l,maxSteps:1,animClassPrefix:"fadeIn-anim-"}],a&&s.push({element:l.one(".circle-arrow"),maxSteps:1,animClassPrefix:"shake-anim-"}),n.endSwipeTooltipAnim=n.startAnimation(s),n.fireClickBeacon("giraffe_swipe_tooltip",a?"":"ftu","show"))})))},removeTapToolTip:function(){var e=this;e.tapTooltipTimer&&(a.clearTimeout(e.tapTooltipTimer),e.tapTooltipTimer=null),e.endTapTooltipAnim&&(e.endTapTooltipAnim(),e.endTapTooltipAnim=null),e.tapTooltip&&(e.tapTooltip.remove(),e.tapTooltip=null)},removeSwipeToolTip:function(){var e=this;e.endSwipeTooltipAnim&&(e.endSwipeTooltipAnim(),e.endTapTooltipAnim=null),e.swipeTooltip&&(e.swipeTooltip.remove(),e.swipeTooltip=null)},resizeVerticalPlayer:function(t){var i,a=this,n=a.container,o={},l=window.innerHeight,s="boolean"==typeof t;t=s?t:a.isLandscape,i=t&&!a.articleRevealed,n&&n.one(".vv-box")&&(a.articleRevealed||("hidden"!==n.getStyle("overflow")&&(o.overflow="hidden"),n.getStyle("height")!==l+"px"&&(o.height=l+"px"),e.Object.isEmpty(o)||n.setStyles(o)),n.all(".vv-box").each(function(n){var o,d,r,c,u,p,g,m,f,h,v,y=n&&n.one(".tap-overlay");n&&y&&((s||i)&&(o=t?window.innerHeight-he+"px":null,n.setStyles({padding:t?0:null,height:o}),n.one(".js-video-placeholder").setStyle("height",o)),r=(d=n.next(Ce)).one(".cover"),c=n.get("offsetHeight"),u=l-c-he,p=n.get("offsetWidth"),g=c+u,m="linear-gradient(0deg, black "+u+"px, rgba(0,0,0,0.18) calc("+u+"px + 3.95vh), rgba(0,0,0,0.09) calc("+u+"px + 4.4vh), rgba(0,0,0,0) calc("+u+"px + 5vh))",f={},v=(h=(u>0?u:0)+he)+"px",a.articleRevealed&&!s||(y.getStyle("width")!==p+"px"&&(f.width=p+"px"),y.getStyle("height")!==g+"px"&&(f.height=g+"px"),y.getStyle("background")!==m&&(f.background=m),e.Object.isEmpty(f)||y.setStyles(f),n.getStyle("marginBottom")!==v&&n.setStyle("marginBottom",v)),r.getStyle("backgroundColor")!==be&&r.setStyle("backgroundColor",be),a.articleRevealed&&s?d.setStyle("transform","translate3d(0, -"+(c+h)+"px, 0)"):a.articleRevealed||d.setStyle("transform",null))}),(s||i)&&a.vvUtil.togglePageFix(i),i&&(document.body.scrollTop=0))},broadcastPlayerReady:function(t,i){var a=this,n=t.instance,o=[i.PLAYER_READY,i.PLAYBACK_START,i.PLAYBACK_RESUMED],l=a.viewer&&a.viewer.getCurrItem();n&&(a.playerOnceEither(n,o,function(){a.ui.enableVerticalVideo&&a.viewer.getCurrItem()!==l||e.Global.fire("video-manager:add-remote-player",t)}),a.videoManagerUtil&&!a.ui.enableVerticalVideo&&a.videoManagerUtil.attachEvents(n,i))},isAutoplayEligible:function(e){var t=this,i=t.viewer&&t.viewer.getCurrItem(),a=i&&i.querySelector(".vv-box");return e===(a?1:0)},attachTapHandler:function(t,i,a,n){var o,l,s,d;return a=a||250,n=n||20,d=function(t){var d,r,c;e.one(t.target).ancestor(".social-buttons")||("touchstart"===t.type&&(o=t,s=Date.now()),o&&("touchmove"===t.type?l=t:"touchend"===t.type&&(d=o.touches[0],r=0,l&&(c=l.touches[0],r=Math.sqrt(Math.pow(Math.abs(d.clientX-c.clientX),2)+Math.pow(Math.abs(d.clientY-c.clientY),2))),Date.now()-s<a&&r<n&&i(o,t),o=null,l=null,s=null)))},t.addEventListener("touchstart",d,!1),t.addEventListener("touchend",d,!1),t.addEventListener("touchmove",d,!1),d.remove=function(){t.removeEventListener("touchstart",d,!1),t.removeEventListener("touchend",d,!1),t.removeEventListener("touchmove",d,!1)},d},handleRevealDrag:function(t){var i,a,n,o=this,l=o.container,s=t.currentTarget,d=t.type,r=e.one(o.viewer.getCurrItem()),c=r.one(Ce);if(s.hasClass("read-handle"))i="read";else if(s.hasClass("back-handle"))i="back";else{
if(!s.hasClass("viewer-content-body"))return;i="body"}if("body"===i)if(0===document.body.scrollTop)i="back";else if("touchend"===d||"touchcancel"===d)return o.firstRevealTouch=null,o.lastRevealTouch=null,void(o.initialRevealTranslateY=null);"touchstart"===d?(c.setStyle("transition",Ae),o.firstRevealTouch=t.touches[0],"read"===i?(o.viewer.disable(),o.initialRevealTranslateY=0):"back"===i&&(n=c.getDOMNode().style.transform.split(/,\s/),o.initialRevealTranslateY=n&&n[1]&&parseInt(n[1].replace("px","")))):"touchmove"===d?(o.lastRevealTouch=t.touches[0],o.firstRevealTouch&&"number"==typeof o.initialRevealTranslateY&&(a=o.lastRevealTouch.clientY-o.firstRevealTouch.clientY,("read"===i&&a<=0||"back"===i&&a>=0)&&("back"===i&&l.hasClass("vv-hidden")&&l.removeClass("vv-hidden"),c.setStyle("transform","translate3d(0, "+(o.initialRevealTranslateY+a)+"px, 0)"),t.preventDefault()))):"touchend"!==d&&"touchcancel"!==d||(c.setStyle("transition",null),o.firstRevealTouch&&o.lastRevealTouch&&"number"==typeof o.initialRevealTranslateY&&(a=o.lastRevealTouch.clientY-o.firstRevealTouch.clientY,"read"===i&&a<-30||"back"===i&&a>30?o.toggleArticleReveal("read"===i,!1):(c.setStyle("transform",o.initialRevealTranslateY?"translate3d(0,"+o.initialRevealTranslateY+"px, 0)":null),"read"===i?o.viewer.enable():"back"!==i||l.hasClass("vv-hidden")||l.addClass("vv-hidden"))),o.firstRevealTouch=null,o.lastRevealTouch=null,o.initialRevealTranslateY=null)},peekSlider:function(t){var i,n,o,l,s,d,r,c,u,p=this,g=p.viewer.getCurrIndex(),m=p.viewer.getTotal();p.isSliderPeeking||g===m-1||(i=g+1,n=e.one(p.viewer.node),o=n.one(".js-slider-card[data-index="+g+"]"),l=n.one(".js-slider-card[data-index="+i+"]"),s=o.getStyle("transform"),d=l.getStyle("transform"),p.isSliderPeeking=!0,t=t||350,r=Date.now(),c=!1,u=function(){var e,i=(Date.now()-r)/t;if(i>=1){if(c)return o.setStyle("transform",s),l.setStyle("transform",d),void(p.isSliderPeeking=!1);c=!0,r=Date.now(),i=0}e=-40*(c?1-i:i),o.setStyle("transform",s+" translate("+e+"px)"),l.setStyle("transform",d+" translate("+e+"px)"),a.requestAnimationFrame(u)},a.requestAnimationFrame(u))},handleTapOverlay:function(e,t,i,a){var n=this,o=i.target.classList;o.contains("read-handle")?(i.preventDefault(),i.stopPropagation(),a&&(a.preventDefault(),a.stopPropagation()),n.toggleArticleReveal(!0)):n.seekToNextMarker(e,t,i)},seekToNextMarker:function(e,t,i){var a,n,o,l,s,d,r,c,u,p,g,m,f=this;if(!f.articleRevealed){for(f.dismissTapTooltip(),a=L[t],o=(n=D||[{start_time:0}]).length,l=a.controls.getCurrentTime(),s=-1,r=0,c=o-1;r<c;r++)if(l>=n[r].start_time&&l<n[r+1].start_time){s=r;break}-1===s&&(s=o-1),u=i.touches[0],p=e.getBoundingClientRect(),(g=(u.clientX-p.left)/p.width<.25?s===n.length-1&&a.controls.getTimeRemaining()<2?s:s-1:s+1)>=o?n.length>0&&f.peekSlider():(m=g<=s,f.animateTapBtn(m?"left":"right"),f.fireClickBeacon("giraffe_viewer",m?"prev":"next","seek",s),g<0&&(g=0),d=n[g].start_time,f.vvUtil.setLastPlaybackTime(d),a.controls.seek(d),a.controls.isPlaying()||setTimeout(function(){a.controls.play()},100))}},toggleArticleReveal:function(t,i){var a,n,o,l,s,d,r=this;r.isSliderMoving||r.articleRevealed===t||(a=r.container,o=(n=e.one(r.viewer.getCurrItem()))&&n.one(Ce),l=n&&n.one(".tap-overlay"),s=r.vvPlayer&&r.vvPlayer.controls,d=r.ui.videoForceAutoplay,i=void 0===i||i,r.articleRevealed=t,r.revealPauseTimeout&&(clearTimeout(r.revealPauseTimeout),r.revealPauseTimeout=null),t?(a.addClass("revealed").removeClass("not-revealed"),o&&l&&o.setStyles({transform:"translate3d(0, -"+(l.get("offsetHeight")+he)+"px, 0)"}),a.setStyles({overflow:null,height:null}),r.viewer.disable(),r.revealPauseTimeout=setTimeout(function(){r.revealPauseTimeout=null,s&&s.isPlaying()&&s.pause(),a.addClass("vv-hidden")},1e3),r.onceVvRevealed&&r.onceVvRevealed.length>0&&(r.onceVvRevealed.forEach(function(e){e()}),r.onceVvRevealed=[]),setTimeout(function(){a.one(we).setStyles({display:"block",transform:"translateY(0)"})},500),r.vvUtil.togglePageFix(!1),d&&L[1]&&L[1].controls&&L[1].controls.play&&L[1].controls.play(),r.vvUtil.resizeItemToBody(n)):(r.resizeVerticalPlayer(),a.removeClass("vv-hidden").removeClass("revealed").addClass("not-revealed"),o&&o.setStyle("transform",null),a.setStyles({overflow:"hidden",height:window.innerHeight+"px"}),r.viewer.enable(),s&&!s.isPlaying()&&s.getDuration()-s.getCurrentTime()>2&&s.play(),i?(a.one(we).setStyle("transform",null),setTimeout(function(){a.one(we).setStyle("display",null)},500)):a.one(we).setStyles({display:null,transform:null}),r.isLandscape&&r.vvUtil.togglePageFix(!0),r.pauseVideos([0])),r.fireClickBeacon("giraffe_viewer",t?"read article":"read video","read",null,{itc:"0"}),r.handleTracking(r.currPage.type,!0,!1,{layout:t?"giraffe":"giraffe2"}),_.fire("vertical-video:reveal",{reveal:t}))},getVideoRapidConfig:function(){var t=this,i={},a=e&&e.Af&&e.Af.rapid,n=a&&a.tracking,o=n&&n.pp,l=se(n,["spaceid"])||se(n,["rapidConfig","spaceid"]);return o&&l&&(!o.pstaid_p&&t.pstaid_p&&(o.pstaid_p=t.pstaid_p),!o.pstaid&&t.currPage&&t.currPage.uuid&&(o.pstaid=t.currPage.uuid),i={pageParams:o,rapid:{},Spaceid:l}),i},initializePlayerWithConfig:function(e,t,i){if(e&&e.length){var a=this;YUI().use(["node","videoplayer"],function(i){var n,o,l,s;for(n=0,o=e.length;n<o;n++){l=e[n];try{l.innerHTML="",t.pageSpaceId=a.currPage.spaceid,t.comscoreC4=a.getComscoreC4Param(t),s=L.length,window._backfillVideoStart&&window._backfillVideoStart(),L[s]=new i.VideoPlatform.VideoPlayer(t),L[s].render(i.one(l)),a.ui.enableModalBackfillViewportDetection&&(a.backfillVideoPlayer=L[s]),a.isPlayerEventsReady()?(a.attachVideoEvents(L[s]),a.visibleMeasuresEnabled&&a.attachVMCustomBeacons(L[s])):(setTimeout(i.bind(a.attachVideoEvents,a,L[s]),a.ui.videoEventsWaitTime||300),a.visibleMeasuresEnabled&&setTimeout(i.bind(a.attachVMCustomBeacons,a,L[s]),a.ui.videoEventsWaitTime||300))}catch(d){}}})}},attachVideoInteract:function(e,t){var i=this,a=e.VideoPlatform.API_Events||YAHOO.VideoPlatform.API_Events;t.player.on(a.UI_INTERACT,function(e){
t&&(e&&e.srcElement&&("ctrl-pause-btn"===e.srcElement||"ctrl-mute-btn-on"===e.srcElement?i.relatedVideoAutoPlay=i.ui.relatedVideoAutoPlay:"ctrl-play-btn"!==e.srcElement&&"ctrl-mute-btn-off"!==e.srcElement||(i.relatedVideoAutoPlay=!1)),t.has_interacted=!0)}),i.ui.enableRelatedVideoDocking&&i.ui.enableVideoUndock&&(t.player.on(a.AD_PLAYBACK_START,e.bind(i.changeDockedPlayer,i,t.player)),t.player.on(a.PLAYBACK_START,e.bind(i.changeDockedPlayer,i,t.player)),t.player.on(a.PLAYBACK_RESUMED,e.bind(i.changeDockedPlayer,i,t.player)),t.player.on(a.AD_PLAYBACK_RESUME,e.bind(i.changeDockedPlayer,i,t.player)))},initializeRelatedVideo:function(e,t,i){if(e&&e.length){var a=this;YUI().use(["node","videoplayer"],function(i){var n,o,l,s,d,r;for(n=0,o=e.length;n<o;n++){l=e[n];try{l.innerHTML="",t.pageSpaceId=a.currPage.spaceid,t.comscoreC4=a.getComscoreC4Param(t),d=L.length,L[d]=new i.VideoPlatform.VideoPlayer(t),r=i.one(l).ancestor(".js-relatedvideo-container").get("offsetTop"),s={has_interacted:!1,link:t.playlist.mediaItems[0].link,offsetTop:r,pageview_fired:!1,player:L[d],shareBtnNode:i.one(l).ancestor(".js-relatedvideo-container").one(".ShareBtns").getDOMNode(),title:t.playlist.mediaItems[0].title,uuid:t.playlist.mediaItems[0].id},a.attachVideoInteract(i,s),L[d].render(i.one(l)),a.relatedVideoPlayer.push(s)}catch(c){}}})}},updateSidekickTvTitle:function(e,t){var i,a,o=this,l=n.getElementById(W),s=n.getElementById(J),d="",r="";e&&((i=o.viewerModel.getVideoItemMeta(e))&&i.title&&!d&&(d=i.title),(a=o.viewerModel.itemCache.get(e))&&a.publisher&&(r=a.publisher,a.title&&!d&&(d=a.title))),d&&t&&(d=t+d),l&&(l.innerHTML=d),s&&(s.innerHTML=r)},attachVideoEvents:function(e){var t=this;e&&t.isPlayerEventsReady()&&(e.on(YAHOO.VideoPlatform.API_Events.AD_PLAYBACK_START,function(e){window._backfillVideoPlaybackStart&&window._backfillVideoPlaybackStart(1),t.updateSidekickTvTitle(t.videoBackfillUuids[t.videoBackfillNextPos],t.adsConfig.modalBackfillAdTitlePrefix)}),e.on(YAHOO.VideoPlatform.API_Events.PLAYLIST_POSITION_CHANGE,function(e){t.videoBackfillNextPos=e}),e.on(YAHOO.VideoPlatform.API_Events.PLAYBACK_START,function(e){window._backfillVideoPlaybackStart&&window._backfillVideoPlaybackStart(0),t.updateSidekickTvTitle(e)}))},fireVMBeacon:function(t,i,a){var n;t&&!a[t]&&(n=(n=i[t]).replace("%%CACHEBUSTER%%",(new Date).getTime().toString()))&&(e.Af.Beacon.send(n),a[t]=!0)},attachVMCustomBeacons:function(e){var t=this,i=t.selectedVideo.beacons,a={};e&&t.isPlayerEventsReady()&&(e.on(YAHOO.VideoPlatform.API_Events.PLAYBACK_TIME_UPDATE,function(e,n,o){n!==o||a.VIDEO_QUARTILE_100?n>.75*o&&!a.VIDEO_QUARTILE_75?t.fireVMBeacon("VIDEO_QUARTILE_75",i,a):n>.5*o&&!a.VIDEO_QUARTILE_50?t.fireVMBeacon("VIDEO_QUARTILE_50",i,a):n>.25*o&&!a.VIDEO_QUARTILE_25&&t.fireVMBeacon("VIDEO_QUARTILE_25",i,a):t.fireVMBeacon("VIDEO_QUARTILE_100",i,a),n>3&&!a.VIDEO_VIEW&&t.fireVMBeacon("VIDEO_VIEW",i,a)}),e.on(YAHOO.VideoPlatform.API_Events.PLAYBACK_START,function(){t.fireVMBeacon("VIDEO_START",i,a)}))},handleVMTitleClick:function(e){var t=this,i=t.selectedVideo.beacons;t.fireVMBeacon("TITLE_CLICK",i,{})},destroyVideos:function(t){var i,a,o,l,s=this,d=n.getElementsByClassName(u),r=s.vvUtil&&s.vvUtil.player;for(i=0,a=L.length;i<a;i++)!t&&s.vvPlayer===L[i]||L[i]===r?s.vvUtil&&s.vvUtil.resetPlaylistPosition(L[i],s.isPlayerEventsReady()):L[i].destroy();for(i=0,a=d.length;i<a;i++)o=e.one(d[i]),s.ui.videoManagerEnabled&&d[i]&&(l=o.generateID(),e.Global.fire("video-manager:remove-remote-player",{guid:l})),O[i]&&O[i].remove(),o.one(".vv-player")||(d[i].innerHTML="");s.detachReadHandleEvents&&(s.detachReadHandleEvents.detach(),s.detachReadHandleEvents=null),L=[],D=null,O=[],s.vvPlayer=null,t&&s.vvUtil&&(e.Object.each(s.vvUtil.preRenderVp,function(e){var t=e.player;t&&r!==t&&t.destroy()}),s.vvUtil.preRenderVp={}),s.ui.enableVerticalVideo&&s.vvUtil&&s.vvUtil.setLastPlaybackTime(null)},removeVMEventHandlers:function(){var t,i=this;i.visibleMeasuresEnabled&&(t=e.one("#vm-title"))&&t.detach("click",i.handleVMTitleClick)},destroyBackfillVideos:function(){var e,t,i,a=this;if(e=a.visibleMeasuresEnabled?n.getElementsByClassName(ae):n.getElementsByClassName(ie))for(t=0,i=e.length;t<i;t++)e[t].innerHTML=""},removeAutoplayAndLazyloadEmbeds:function(t,i){var a,n,l,s,d,r,c=this;if(t)for(a=[].concat(Array.prototype.slice.call(t.getElementsByTagName("iframe")),Array.prototype.slice.call(t.getElementsByTagName("embeds"))),n=t.querySelector(".vv-box"),o.fire("imageloader:delayed",e.one(t)),l=0,s=a.length;l<s;l++)d=a[l].getAttribute("data-lazyload-src"),r=a[l].getAttribute("data-alt-src"),n?a[l].parentNode.classList.contains("video-iframe-container")?a[l].parentNode.parentNode.removeChild(a[l].parentNode):a[l].parentNode.removeChild(a[l]):(c.ui.enableIframeAutoPlayException&&i>0&&d&&(d=d.replace(/autoPlay=true/,"autoPlay=false")),d&&d.match(/autoPlay=true/)&&(c.pageHasVideo=!0),r&&c.ui.removeAutoplayIframes&&(i>0||l>0)?a[l].setAttribute("src",r):d&&a[l].setAttribute("src",d))},destroyIframes:function(){var e,t,i,a;if(t&&t.length)for(i=0,a=(t=n.getElementsByClassName(V)).length;i<a;i++)(e=t[i].getAttribute("src"))&&(t[i].setAttribute("data-src",e),t[i].setAttribute("src","about:blank"))},handleSwipeEnd:function(t,i){var a=this,n=a.swipeFromNodes;n&&0!==n.length&&(n.forEach(function(e){a.destroyPage(e)}),a.ui.enableVerticalVideo&&(a.updateProgressDots(t),n.forEach(function(t){e.one(t).all(".vv-box .right-tap-btn, .vv-box").addClass("disabled")}),a.onOrientationChange(),a.articleRevealed&&a.resetRevealState(),a.container.all(".thumbnail-placeholder").each(function(e){e.ancestor('.js-slider-card[data-index="'+t+'"]')||e.setStyle("display","block")}),a.onceVvRevealed=[],N.set(H,"swipeFtuShown",!0)))},handleSwiping:function(e,t,i,a,n){var o,s,d,r,c;n=void 0===n||n,s=(o=this).container,d=o.ui.enableVerticalVideo,r=o.viewer.getTotal(),s&&i&&a&&(e!==t&&(o.swipeFromNodes=o.swipeFromNodes||[],o.swipeFromNodes.push(a),d&&(o.updateCurrentProgressDot(!1,!1),
s.hasClass("revealed")&&s.removeClass("revealed"),s.hasClass("not-revealed")||s.addClass("not-revealed"),s.hasClass("vv-hidden")&&s.removeClass("vv-hidden"),o.vvUtil.shiftPlayers(t,e)),c=i.getAttribute("data-type"),n&&"ad"!==c&&_.fire("content:navigate",{uuid:i.getAttribute("data-id")||"",url:i.getAttribute("data-link")||"",title:i.getAttribute("data-title")||"",dir:e>t?"forward":"backward",guid:o.currPage.listId})),o.ui.relatedContent&&o.ui.relatedContent.enabled||d||e>=r-l-1&&o.viewerModel.fetchItems(o.currPage.listId,null,null,function(e,t){t&&o.renderContentList(t,!0)}))},onLightboxClose:function(e){e?(_.fire("content:hide",{list:this.currPage.listId,uuid:this.currPage.uuid}),_.fire("content:navigate",{dir:"backward",url:"/"})):this.handleTracking(this.currPage.type,!1)},onLightboxOpen:function(e){var t=this,i=t.currPage.uuid,a={g:i,pos:0};t.pauseVideos(),t.updateShare(e.getAttribute("data-share-img")),t.renderYEP(e),"mega-modal"!==t.ui.mode&&t.handleTracking("slideshow",!1),ke=document.getElementById("LightboxContainer-Viewer"),t.fireClickBeacon("sshow","next","img","",a)},onLightboxSwipe:function(){this.handleTracking("slideshow",!1),this.destroyVideos()},onLightboxSwipeEnd:function(e,t){var i=this,a=i.currPage.uuid,n={g:a,pos:t};i.updateShare(e.getAttribute("data-share-img")),i.renderYEP(e),i.fireClickBeacon("sshow","next","img","",n)},updateShare:function(e){e&&_.fire("content:updateShareInfo",{thumbnailUrl:e,title:this.currPage.title,url:this.currPage.link,uuid:this.currPage.uuid})},getFallbackItem:function(e,t){var i=this,o=i.viewerModel,l=o.getItemMeta(e,t),s=l&&l.link||a.location.href,d={id:t,link:s,title:l&&l.title||n.title,noContent:!0};return d},getRemoteAppletTrending:function(e){var t,i,a,n,o;e&&(i=(t=this).ui.trending.applet,a=e.getAttribute("data-cauuid")||e.getAttribute("data-id"),n=e.getElementsByClassName("js-trending-container")[0],o={categoriesEnabled:{celebrity:"celebrities",entertainment:"celebrities",news:"news",frontpage:"news",sports:"sports"}[e.getAttribute("data-site")||null]||"slingstone",uuid:a,bucket:B.getContext("bucket")||"",ui:{groupSize:10,mainTabCategory:"trending news",trendingItemsMinCount:10,titleEnabled:!0,titleKey:"TRENDING_NOW",inlineTnEnabled:!0,sportsTitleKey:"INLINE_TN_SPORTS",newsTitleKey:"INLINE_TN_NEWS",celebsTitleKey:"INLINE_TN_STARS"}},t.getRemoteApplet(i,o,n))},getRemoteAppletFantasyPromote:function(t){var i,a=this,n=e.one(t),o=a.ui.sports.fantasypromote&&a.ui.sports.fantasypromote.applet;o&&n&&(i=n.one("#hl-modal-sports-fantasypromote"))&&i.getDOMNode()&&a.getRemoteApplet(o,{},i.getDOMNode())},getRemoteAppletDiscussion:function(e,t){var i,a=this,n=a.ui.discussion&&a.ui.discussion.applet;n&&(i=e.one(t))&&!e.one(".applet-discussion")&&(t==="."+r&&i.removeClass("D-n"),a.getRemoteApplet(n,{},i))},getRemoteAppletPolyvoreTrending:function(e){var t,i,a,o;e&&(i=(t=this).ui.polyvore.trending.applet,a=n.getElementById("hl-modal-pv-trending"),o={categoriesEnabled:"polyvoreStyle,polyvoreLookForLess",polyvoreTrendingEnabled:!0,ui:{titleEnabled:!0,giftsEnabled:!1,categorizationEnabled:!1,groupSize:6,trendingItemsMinCount:6,mainTabCategory:"polyvorestyle",secondTabEnabled:!0,secondTabTitleKey:"LOOKS_FOR_LESS",titleKey:"TRENDING_STYLES",secondTabCategory:"polyvorelookforless",secondTabIcon:"IconTag"},polyvore:{utmOverride:{polyvorestyle:{utm_campaign:"trending_styles_ab"},polyvorelookforless:{utm_campaign:"looks_for_less_ab"}}}},t.getRemoteApplet(i,o,a))},getVisibleMeasures:function(t){var i,a,o,l,s,d,r,c,u,p,g,m,f,h;t&&(i=this,a=t.getElementsByClassName(ae),s=!1,r=i.ui.visibleMeasures.videos,c=Math.floor(Math.random()*r.length),u="visible-measures",p=!0,f=n.getElementById("vm-title"),h=i.getVideoRapidConfig()||{},a&&(i.selectedVideo=r[c],l=i.contentSites[0]||"news",(o=t.getElementsByClassName("vm-container")[0]).className=o.className.replace("D-n",""),o.className=o.className.replace("D(n)",""),i.flashEnabled||(p=!1,s=!0),d={playlist:{mediaItems:[{id:i.selectedVideo.uuid}]},lang:B.getContext("lang")||"en-US",site:l,region:B.getContext("region")||"US",autoplay:!0,disableCasting:!0,expName:u,expType:"visible-measures-autoplay",expBucket:B.getContext("bucket")||"",sec:"vm-vid",html5:s,iframeRender:p,mute:!0,loop:!1,startscreen:{showProvider:!1,showDesc:!1,showButton:!0,showTitle:!0},pausescreen:!1,continuousPlay:!1,rapidConfig:h,replayonlyendscreen:!0,width:z,height:q,ywaSamplingRate:0},f&&(f.innerHTML='<a target="_blank" href="'+i.selectedVideo.url+'">'+i.selectedVideo.title+"</a>"),i.playerJsLoaded||(i.playerJsLoaded=!!i.isPlayerJSLoaded()),i.playerJsLoaded?i.initializePlayerWithConfig(a,d):(g=Date.now(),e.Get.js(i.js.videoplayer,function(){m=Date.now(),i.playerJsLoaded=!0,i.initializePlayerWithConfig(a,d,m-g)}))))},getRemoteAppletComments:function(t,i){var n,o,l,s,d,r,c,u,p,g=this;t&&(n=t.getAttribute("data-hosted")||null,o=g.ui.comments_allow_supression&&"false"===t.getAttribute("data-cmtallowed"),!n&&!g.ui.comments.offnet.enabled||o||(l=t.getAttribute("data-share-img")||"",s=g.ui.comments.applet,d=t.getAttribute("data-cauuid")||t.getAttribute("data-id"),r=t.getElementsByClassName("js-comments-container")[0]||g.container.one(".js-comments-container"),c=t.getAttribute("data-site")||null,u=t.getAttribute("data-type")||null,p={alphatar:g.ui.alphatar,autoShow:this.commentsUuid===t.getAttribute("data-id")?1:0,bcmt:e.QueryString.parse(a.location.search.slice(1)).bcmt,bucket:B.getContext("bucket"),canvassFullScreen:g.ui.comments.canvassFullScreen,commentsConfig:g.ui.comments||{},communityBar:g.ui.comments.communityBar,commentsNamespace:t.getAttribute("data-commentsnamespace"),enableCommentsWrite:g.ui.comments_writes_enabled,enableMyComments:g.ui.comments.enableMyComments,initialNumCommentsToLoad:g.ui.comments.initialNumCommentsToLoad||0,lang:g.context.lang,leadModal:g.ui.leadModal,prid:g.context.rid,property:g.allItems&&g.allItems.length>1?"news":c,proxy:g.ui.comments.proxy,publisher:"en-US"===g.context.lang?"homepage-en-US":"news-"+g.context.lang,
region:g.context.region,shareImage:l,spaceid:t.getAttribute("data-spaceid")||g.currPage.spaceid,title:t.getAttribute("data-title"),type:u,url:t.getAttribute("data-link"),uuid:d,yahooApp:g.ui.comments.yahooApp,showDisclaimer:g.ui.comments.showDisclaimer},e.TD.Viewer.Comments&&g.js.comments?(p.device=g.device,p.js=g.js.comments,new e.TD.Viewer.Comments(p,r,i)):g.getRemoteApplet(s,p,r,i)))},scrollToComments:function(t){var i=t.target.ancestor(".js-slider-item",!1,"viewer-wrapper"),n=i.one(".js-comments-container");t.preventDefault(),n&&(e.later(300,this,function(){a.scrollTo(0,n.getY()-67)}),e.fire("td-applet-canvass:open",{contextUuid:i.getData("cauuid")||i.getData("id")}))},handleShareClick:function(e){var t=e.target.ancestor("a",!0,".ShareBtns"),i=0===e.clientX;t&&!i&&t.blur()},getFederationAttibute:function(e,t){var i,a,n,o,l;if(!t||!t.length)return[];for(a=[],n=0,o=t.length;n<o;n++)l=t[n],(i="data-id"===e&&l.getAttribute("data-cauuid")||l.getAttribute(e))&&(a=a.concat(i));return a},calArticleHeight:function(e){var t,i=e.getElementsByClassName("body-wrapper"),a=0;return i&&i.length>0&&(a=i[0].offsetHeight),(t=e.getElementsByClassName("Headline-Box"))&&t.length>0&&(a+=t[0].offsetHeight),a},calAllArticleHeight:function(e){var t,i,a,n;if(!e||!e.length)return 0;for(t=this,i=0,a=0,n=e.length;a<n;a++)i+=t.calArticleHeight(e[a]);return i},renderRelatedVideoPlayer:function(t,i,a,n){var o,l,s=this,d=s.getVideoRapidConfig()||{},r={playlist:{mediaItems:t},lang:B.getContext("lang")||"en-US",site:a,region:B.getContext("region")||"US",autoplay:!1,continuousPlay:!1,disableCasting:!0,expName:"highlander",expType:"relatedvideo",expBucket:B.getContext("bucket")||"",sec:"relv",YVAP:{accountId:i,playContext:"default",timeout:F},mute:s.relatedVideoAutoPlay,loop:!1,rapidConfig:d,replayonlyendscreen:!0,startscreen:{showProvider:!1,showDesc:!1,showButton:!0,showTitle:!0},stopBufferingOnPause:!0,pausescreen:!1,ywaSamplingRate:0};s.ui.enableRelatedVideoDocking&&!e.UA.safari&&(r.docking=s.getDockingDimensions()),s.playerJsLoaded||(s.playerJsLoaded=!!s.isPlayerJSLoaded()),s.playerJsLoaded?s.initializeRelatedVideo(n,r):(o=Date.now(),e.Get.js(s.js.videoplayer,function(){l=Date.now(),s.playerJsLoaded=!0,s.initializeRelatedVideo(n,r,l-o)}))},getRelatedVideo:function(t,i){var n,o,l,s,d,r,c,u,p,g,m,f,h,v=this;!t||i>=me&&!v.ui.enableVideoCluster||v.relatedVideoIndices&&v.relatedVideoIndices.length>0&&v.relatedVideoIndices.indexOf(""+i)<0||(n=t.getAttribute("data-cauuid")||t.getAttribute("data-id"),o=t.getAttribute("data-hosted")||null,c=t.getAttribute("data-site")||"",u=t.getAttribute("data-entities"),p=v.firstItemLabel&&v.firstItemLabel.toLowerCase(),!c&&te[p]&&(c=te[p]),g=c||"frontpage",f=!1,h="",(m=se(v.adsConfig,["modalYVAP",c]))||(m=se(v.adsConfig,["modalYVAP","default"])),!v.ui.enableVideoCluster||i+1<v.numOfItems?(l=document.getElementsByClassName("js-relatedvideo-container"),s=l.length>i&&l[i]||null):(l=document.getElementsByClassName("js-video-cluster"),s=l.length>0&&l[0]||null,f=v.ui.enableRelatedVideoInterests),s&&(!v.ui.enableVideoCluster||i+1<v.numOfItems?(d=s.getElementsByClassName("js-relatedvideo-placeholder"),r=e.one(s)):s=e.one(s),!o&&v.ui.disableRelatedVideoOffnet||(!o&&n.indexOf("SS-")<0&&(n="SS-"+n),v.ui.enableRelatedVideoSource&&(h=o?"relatedvideo":"slingstone"),v.relatedVideoModel.loadRelatedVideos({uuid:n,site:c,entities:u,source:h,use_interests:f},function(t,n){var o,l,c;!t&&n&&n.length&&(n=e.Array.filter(n,function(e){return v.contentUuids.indexOf(e.id)<0&&v.renderedRelatedVideos.indexOf(e.id)<0}))&&n.length&&(v.renderedRelatedVideos.push(n[0].id),!v.ui.enableVideoCluster||i+1<v.numOfItems?(r.removeClass("D-n"),o=[{id:n[0].id,title:n[0].title,link:n[0].link}],n.length>1&&!v.ui.singleRightRail&&(l=n.slice(1,4),e.Array.each(l,function(e){l.push(e)}),dust.render(Q,{items:l},function(e,t){t&&r.one(".aside-videos").setContent(t)})),dust.render("td-applet-viewer-templates-share_btns_mega",{enableAllShare:!0,id:n[0].id,title:n[0].title,link:n[0].link,i18n:v.i18n,ui:v.ui},function(e,t){t&&r.one(".relvideosharebtns").setContent(t)}),v.renderRelatedVideoPlayer(o,m,g,d),r.one(".js-relatedvideo-title").setContent(n[0].title),r.one(".js-relatedvideo-summary").setContent(n[0].summary),r.one(".js-relatedvideo-publisher").setContent(n[0].publisher)):(v.dynamicHeightHeight>=0&&(c=Math.round((v.dynamicHeightHeight+290)/580),n=n.slice(0,c)),n.length>0&&v.videoClusterMaxItems>0&&(n=n.slice(0,v.videoClusterMaxItems)),n.length>0&&dust.render($,{enableAllShare:!0,items:n,i18n:v.i18n,ui:v.ui},function(e,t){t&&(v.videoClusterNode=s,s.removeClass("D-n"),s.setContent(t),s.all(".js-relatedvideo-container").each(function(e,t){var i=e.getData("uuid");v.renderRelatedVideoPlayer([{id:i,title:n[t].title,link:n[t].link}],m,g,[e.one(".js-relatedvideo-placeholder")])}),v.ui.singleRightRail&&(v.updateContentOffset(),v.updateLrecsOffset(),a.scrollBy(0,-1)))})),v.ui.singleRightRail&&(v.updateContentOffset(),v.updateLrecsOffset(),a.scrollBy(0,-1)))}))))},downloadYapjs:function(t){var i,a=this;a.ui.yapjs.baseURL&&(a.yapjsDownloaded?t&&t():(i=a.ui.yapjs.baseURL+a.ui.yapjs.version+"/js/yap-client-min.js",e.Get.js(i,function(){a.yapjsDownloaded=!0,t&&t()})))},initializeYapAds:function(){var t={apikey:this.ui.yapjs.apikey,spaceId:this.currPage.spaceid,positions:{articleLREC:{id:"yapjs-ad-1",unitcode:this.ui.yapjs.unitcode,width:300,height:250}}};window.YAHOO&&window.YAHOO.YAP&&(window.YAHOO.YAP.AdManager.init(t),window.YAHOO.YAP.AdManager.registerAdfetchCb(e.bind(this.fetchYapAds,this)),window.YAHOO.YAP.AdManager.registerNativeRender("articleLREC",e.bind(this.renderYapNativeAd,this)),window.YAHOO.YAP.AdManager.loadAds(["articleLREC"],{spaceId:this.currPage.spaceid}))},fetchYapAds:function(e,t){this.yapadModel.loadAds(e,t)},getYapAds:function(t,i){t&&("undefined"==typeof window.YAHOO.YAP?this.downloadYapjs(e.bind(this.initializeYapAds,this)):window.YAHOO.YAP.AdManager.loadAds(["articleLREC"],{spaceId:this.currPage.spaceid}))},
renderYapNativeAd:function(e,t){dust.render(X,{item:e,i18n:this.i18n,ui:this.ui},t)},getHandleSlotApplet:function(e,t,i,a,n){var o=this;return function(){o.handleSlotApplet(e,t,i,a,n)}},getSidekickBatchCount:function(e){var t,i,a,n,o=this,l=0;for(a=0,n=e.length;a<n;a++)t=e[a].getAttribute("data-hosted")||null,i=e[a].getAttribute("data-type")||null,t&&(!i||"video"!==i&&"slideshow"!==i)||l++;return l>1&&o.ui.sidekickMinBatchCountOffnet>0?o.ui.sidekickMinBatchCountOffnet:o.ui.sidekickMinBatchCount},handleSlotApplet:function(t,i,a,o,l){var s,d,c,u,p,g,m,f,h,v,y,b,A,C,w,k,P,S,T,V,I,E,R,x,L,O,D,B,_,N,H,Y,U,j,F;if(t&&a&&a.name&&a.condition&&(s=this,c=e.one(".viewer-wrapper"),u=s.allItems,p=s.numOfItems,g=a.condition.split(":"),m=t.getAttribute("data-entities"),f=t.getAttribute("data-site"),y=0,b=0,A=0,C=0,w=s.viewerModel,T=a.config&&a.config.estHeight||100,E=500,O="",D=0,B="",_=s.ui.relatedOlympicsYCTList&&"string"==typeof s.ui.relatedOlympicsYCTList?s.ui.relatedOlympicsYCTList.split(","):[],N=["summer olympics","olympics"],"all"===g[0]||t.getAttribute("data-"+g[0])===g[1])){if("mega-modal"===s.ui.mode&&"readMore"===i?d=n.getElementsByClassName("js-viewer-slot-"+i)[0]:"mega-modal"===s.ui.mode&&"sidekickdesktop"===i&&s.ui.enableSidekickAdditionalRendering?(V=s.ui.singleRightRail?s.sidekickRendered[l]?n.getElementById("modal-sidekick-following-"+l):n.getElementById("modal-sidekick-"+l):s.sidekickRendered[l]?t.getElementsByClassName("modal-sidekick-following")[0]:t.getElementsByClassName("modal-sidekick")[0],d=V&&V.getElementsByClassName("js-viewer-slot-"+i)[0]):d=t.getElementsByClassName("js-viewer-slot-"+i)[0],s.ui.link_out_allowed&&(a.config.link_out_allowed=!0,a.config.bypassmodal_whitelist_enabled=s.ui.bypassmodal_whitelist_enabled),a.config.rdsig_enabled=s.ui.rdsig_enabled,a.config.offnetDeeplink=s.ui.offnetDeeplink,a.config.device=s.device,R=s.getFederationAttibute("data-id",u),"readMore"===i){if(!d||d.childNodes.length||o)return;k=w.getItemMeta(s.currPage.listId,s.currPage.uuid),a.config.contentId=R.join()||s.currPage.uuid,delete a.config.category,delete a.config.categoryName,k&&k.categoryData&&(P=k.categoryData[0])&&parseFloat(P.score)>=parseFloat(s.config.ui.readMoreMinScore)&&(a.config.category=P.term,a.config.categoryName=P.label),"gma"===f&&s.ui.enableReadMoreWithGMA&&s.ui.gmaCategoryTag&&(a.config.category=s.ui.gmaCategoryTag),s.ui.enableRelatedOlympics&&(s.currPage.spaceid===s.ui.relatedOlympicsSpaceid?O=_.length?"YCT:"+_.join():"YCT:001001110,001001111":k&&k.categoryData&&Array.isArray(k.categoryData)&&e.Array.each(k.categoryData,function(e){-1!==N.indexOf(e.label.toLowerCase())&&e.score>D&&(O=e.term,D=e.score)}),O&&(a.config.category=O))}else if(a.config.category=f,a.config.uuid=s.currPage.uuid,m&&(a.config.interestString=m),s.config.ui.useContentSite&&f&&M.indexOf(f)>-1&&(a.config.site=f,a.config.blending_enabled="1"),s.ui.gemini_blockedsites&&s.ui.gemini_blockedsites.length>0&&s.ui.gemini_blockedsites.indexOf(f)>-1&&("sidekickdesktop"===i?a.config.mode="fallback":"sidekick"===i&&(a.config["ads.enabled"]="0")),"sidekick"===i&&a.config.promoAds&&a.config.promoAds.enabled&&(a.config.promoAds.userAgent=e.UA.safari?"ios":e.UA.android?"android":undefined),"sidekickdesktop"===i&&"mega-modal"===s.ui.mode){if(a.config.blending_enabled="1",h=s.calArticleHeight(t),a.config.spaceid=s.currPage.spaceid,s.ui.singleRightRail&&s.ui.skipSecondSidekick&&1===l)return;if(s.sidekickInlineVideo&&(a.config.inline_video=!s.pageHasVideo),s.ui.revShareEnabled&&(a.config.rev_share_enabled=!0,a.config.pageType=s.ui.revSharePageType,a.config.page_content_type=s.currPage.type,a.config.page_design=s.ui.revSharePageDesign,a.config.app_name=s.ui.revShareAppName,-1!==s.config.userSegment&&(a.config.user_segment=s.config.userSegment)),a.config.layout_enabled&&window.segBlob&&window.segBlob.layout&&(a.config.layout_type=window.segBlob.layout,a.config.in_viewport="1"),a.config.adx_passback_segment&&window.adxPassback&&(a.config.user_segment=a.config.adx_passback_segment,a.config.layout_type=a.config.adx_passback_layout,a.config.in_viewport="1"),s.ui.enableSidekickDynamicHeight)if(x=s.MONadEnabled&&0===l&&o?t.getElementsByClassName("hl-sda-holder-"+l)[0]:null,Y=s.ui.estSideAdsHeight,l>0&&l<=2?Y=s.ui.estSideLRECAdsHeight:l>2&&(Y=0),S=x&&x.style&&x.style.height?parseInt(x.style.height)+10:s.disableBatchLREC&&o?s.ui.estSideNoAdsHeight||50:Y,(I=s.ui.singleRightRail?n.getElementById("modal-sidekick-mon-"+l):t.getElementsByClassName("modal-sidekick-mon")&&t.getElementsByClassName("modal-sidekick-mon")[0])&&(S+=I.offsetHeight),s.enableModalSingletonLREC&&(U=n.getElementById("hl-ad-LREC2-1"))&&(S+=U.offsetHeight),s.enableModalSingletonJTC&&(j=n.getElementsByClassName(r))&&j.length>0&&(S+=void 0===(F=j[0].offsetHeight)?pe:Math.max(F,pe)),b=Math.max(0,Math.round((h-S)/T)),s.ui.singleRightRail&&l<3&&s.ui.sidekickMinBatchCount>0&&(s.sidekickItemCount||(s.sidekickItemCount=s.getSidekickBatchCount(u)),b=s.sidekickItemCount),y=p>1?Math.min(b,s.ui.sidekickMaxBatchCount):b,y-=s.sidekickStartIndexes[l],s.ui.enableSidekickFederationCall){if(s.disableSidekick)return;if(o)return void(y>0&&s.currSidekickStartIndex&&(s.firstContentHosted||(E=l?1e3*l:1e3),s.ui.enableSidekickAdditionalRendering&&(E=0),s.ui.singleRightRail&&V&&V.className.indexOf("D-n")>=0&&(V.className=V.className.replace("D-n","")),setTimeout(function(){c.fire("sidekick:showmore",{container:e.one(d),batchStartIndex:s.currSidekickStartIndex,batchEndIndex:s.currSidekickStartIndex+y}),s.sidekickStartIndexes[l]=s.sidekickStartIndexes[l]+y,s.sidekickRendered[l]=!0,s.currSidekickStartIndex=s.currSidekickStartIndex+y,s.ui.singleRightRail&&s.updateLrecsOffset()},E)));if(a.config["ui.enableBatchRender"]=!0,a.config["ui.batchStartIndex"]=0,L=p>1?Math.max(y,1):y,s.currPage.uuid===s.commentsUuid&&L<1&&(L=1),a.config["ui.batchEndIndex"]=L,s.ui.enableSidekickAdditionalRendering?A=s.ui.sidekickMaxTotalCount:(v=s.calAllArticleHeight(u),
A=Math.max(0,Math.ceil(v/T+(p-1)*a.config.countMargin)),A=Math.min(A,s.ui.sidekickMaxTotalCount)),C=Math.max(0,Math.ceil((A-a.config["ads.display.start"]+1)/a.config["ads.display.frequency"])),s.currSidekickStartIndex=a.config["ui.batchEndIndex"],s.sidekickStartIndexes[l]=s.sidekickStartIndexes[l]+y,s.sidekickRendered[l]=!0,a.config["ads.count"]=C,a.config.count=A,a.config.uuid=R,a.config.property=s.getFederationAttibute("data-site",u),s.ui.enableRelatedOlympics&&(k=w.getItemMeta(s.currPage.listId,s.currPage.uuid),s.currPage.spaceid===s.ui.relatedOlympicsSpaceid?H=!0:k&&k.categoryData&&Array.isArray(k.categoryData)&&(H=e.Array.some(k.categoryData,function(e){return"Summer Olympics"===e.label||"Olympics"===e.label})),H&&(B=_.length?_.map(function(e){return"YCT:"+e}).join("|"):"")),m=s.getFederationAttibute("data-entities",u).join("|"),B&&(a.config.custom_blending_enabled=!0),a.config.interestString=B||m,!s.ui.enableSidekickAdditionalRendering&&a.config["ui.batchEndIndex"]<1)return void(s.disableSidekick=!0)}else if(a.config.count=b,a.config.itemCount=b,a.config["ads.count"]=Math.max(0,Math.ceil((b-a.config["ads.display.start"]+1)/a.config["ads.display.frequency"])),b<1)return void(s.disableSidekick=!0)}d&&s.getRemoteApplet(a.name,a.config,d)}},getRemoteApplet:function(t,i,a,n){var o,l,s;t&&a&&(l={initStencil:1,initApplet:1,disableAppClass:1},s=(o=this).mergeObjects(l,i),o.fireEvent("remoteapplet",{type:t,method:"post",params:s,placement:{node:a},callback:function(i){var l,s,d;if(l=o.ui.aSideContentPromoEnabled&&o.container.one(".aside-content-promo.D-n"),!i&&"td-applet-sidekick"===t&&l&&l.replaceClass("D-n","D-b"),"mega-modal"===o.ui.mode&&o.ui.enableSidekickAdditionalRendering&&"td-applet-sidekick"===t&&(s=Object.keys(o.ui.slots),_.fire("content:endLoad",{}),s.indexOf("sidekickdesktop")>-1))for(d=0;d<o.numOfItems;d++)setTimeout(e.bind(o.handleSlotApplet,o,o.allItems[d],"sidekickdesktop",o.ui.slots.sidekickdesktop,!0,d),parseInt(o.ui.sidekickFollowingDelay)+d*parseInt(o.ui.sidekickBatchDelay));"mega-modal"===o.ui.mode&&o.ui.singleRightRail&&"td-applet-sidekick"===t&&setTimeout(function(){o.stickyRightRailStart=!0,o.updateLrecsOffset()},2e3),_.fire(v,{err:i,name:t,node:a}),n&&n(i)}}))},handleBlur:function(t){var i,a,n=this;if(i=n.visibleMeasuresEnabled?e.one(".vm-videos"):e.one("#hl-ad-LREC-0"),(n.ui.enableModalBackfillViewportDetection||n.visibleMeasuresEnabled)&&n.backfillVideoPlayer&&i&&n.backfillVideoPlayer.controls.pause(),n.ui.enableRelatedVideo&&n.relatedVideoAutoPlay)for(a=0;a<n.relatedVideoPlayer.length;a++)!n.relatedVideoPlayer[a].has_interacted&&n.relatedVideoPlayer[a].player&&n.relatedVideoPlayer[a].player.controls&&n.relatedVideoPlayer[a].player.controls.pause();n.adsConfig.tilesAds.enabled&&n.tilesPageVisible&&n.tilesVideos&&n.tilesVideos.size()>0&&n.tilesVideos.each(function(e){e.getDOMNode().pause()})},handleFocus:function(t){var i,a,n,o,l=this,s=e.one("body").scrollInfo;if(i=l.visibleMeasuresEnabled?e.one(".vm-videos"):e.one("#hl-ad-LREC-0"),(l.ui.enableModalBackfillViewportDetection||l.visibleMeasuresEnabled)&&l.backfillVideoPlayer&&i&&(a=i.get("clientHeight"),s.isNodeOnscreen(i,-.8*a)&&l.backfillVideoPlayer.controls.play()),l.ui.enableRelatedVideo&&l.relatedVideoAutoPlay)for(n=e.all(".js-relatedvideo-placeholder"),o=0;o<l.relatedVideoPlayer.length;o++)a=(i=n.item(o)).get("clientHeight"),s&&s.isNodeOnscreen(i,-.5*a)&&!l.relatedVideoPlayer[o].has_interacted&&l.relatedVideoPlayer[o].player&&l.relatedVideoPlayer[o].player.controls&&l.relatedVideoPlayer[o].player.controls.play();l.adsConfig.tilesAds.enabled&&l.tilesPageVisible&&l.tilesVideos&&l.tilesVideos.size()>0&&l.tilesVideos.each(function(e){var t=e.get("clientHeight");t>0&&s.isNodeOnscreen(e,-.3*t)&&e.getDOMNode().play()})},_commentsAdScroll:function(e){this._updateCommentsLREC()},requestTick:function(){this.ticking||requestAnimationFrame(this._updateSingleRightRailLREC),this.ticking=!0},_handleMSPLEnd:function(e){var t=this,i=t.ui.mobileAdMSPLPosId||"MSPL-9";a.DARLA&&a.DARLA.render&&a.DARLA.render.RenderMgr&&a.DARLA.render.RenderMgr.nuke(i)},_getNextAds:function(e){var t,i,a,n,o=this;o.secondFetchAd&&(t=o.secondMobileAdPosition,e.isValid&&(i=t.split(","),a=o.ui.mobileAdMSPLExcludePos||"LREC-9",(n=i.indexOf(a))>=0&&i.splice(n,1),t=i.join(",")),o.ads.abortDARLA(),o.ads.insertDisplayAds(o.secondMobileSpaceid,o.secondIndex,o.secondSiteAttrs,t,o.secondSite),o.secondFetchAd=!1)},_updateCommentsLREC:function(t){var i,a,n,o,l,s,d,r,c,u,p=this,g=t>=0;if(t=t||p.currIndex,p.ui.commentsLREC)for(i=Math.max(0,t-1);i<Math.min(5,t+1);i++)a=e.one("#js-slider-item-"+i+" .ad-inner-wrapper"),n=e.one("#js-slider-item-"+i+" .ad-wrapper"),l=0,s=88,(o=e.one("#js-slider-item-"+i+" .js-comments-container"))&&n&&(d=a.get("offsetHeight"),(g||d>100)&&(r=o.getDOMNode().getBoundingClientRect(),c=n.getDOMNode().getBoundingClientRect(),u=!1,r.top<s?r.bottom>=d+s?c.top<s&&(u=!0):l=r.height-d-(c.top-r.top):c.top<s?r.top>c.top?l=r.top-c.top:u=!0:r.top>c.top&&(l=r.top-c.top),u?(a.setStyle("position","fixed"),a.setStyle("transform","translate3d(0px, 0px, 0px)"),a.setStyle("top",s+"px")):(a.setStyle("position","relative"),a.setStyle("top","auto"),a.setStyle("transform","translate3d(0px, "+l+"px, 0px)"))))},_updateSingleRightRailLREC:function(){var e,t,i,a,n,o,l,s,d,r,c,u,p,g,m,f,h,v,y,b,A,C=this;C.ticking=!1,C.ui.singleRightRail&&(e=0,t=C.winInnerHeight,i=C.latestKnownScrollY,a=C.contentColTop,n=0,o=0,l=0,s=!1,d=0,r=!1,c=i+t,C.asideNode&&(C.contentLRECNodes[1]&&C.ui.enableModalStickyRightRail&&C.stickyRightRailStart&&(g=C.LrecOffsetBottom[1],m=C.LrecOffsetBottom[2],C.ui.enableAdsDynamicAnchor?C.dynamicAnchorNodeTop[0]>g?(u=C.dynamicAnchorNodeTop[0],p=C.dynamicAnchorNodeTop[1]>m?C.dynamicAnchorNodeTop[1]:C.dynamicAnchorNodeTop[2]):(u=C.dynamicAnchorNodeTop[1],p=C.dynamicAnchorNodeTop[2]):(u=C.itemsOffsetBottom[1],p=C.itemsOffsetBottom[2]),c>=g+a?c<u?(d=e-g+t,s=!0):(u>g&&(s=!1,n=u-g),C.numOfItems>2&&(c>=m+n?c<p?(s=!0,d=e-m+t):p>m+n&&(s=!1,o=p-m-n):c<m&&(s=!1,
o=0))):c<g&&(s=!1,n=0)),v=(f=C.asideNodeOffsetHeight)+(h=n+o),y=C.contentColBottom,0===h&&(v+=a),C.ui.enableModalStickyRightRail&&C.stickyRightRailStart&&(s||(c>=v&&v>C.winInnerHeight?c<=y?r=!0:y>f+o+n&&(r=!1,l=y-f-o-n):(r=!1,l=0))),s?(C.asideNode.setStyle("position","fixed"),C.asideNode.setStyle("top",d+"px"),C.asideNode.setStyle("bottom",""),C.asideNode.setStyle("transform","translateY(0px)")):r?(C.asideNode.setStyle("position","fixed"),C.asideNode.setStyle("top",""),C.asideNode.setStyle("bottom","0px"),C.asideNode.setStyle("transform","translateY(0px)")):((b=n+o+l)>a&&(b-=a),C.asideNode.setStyle("position","relative"),C.asideNode.setStyle("top",""),C.asideNode.setStyle("bottom",""),C.asideNode.setStyle("transform","translateY("+b+"px)")),y<v?(A=v-y,C.dynamicHeightHeight!==A&&(C.dynamicHeightNode.setStyle("height",A+"px"),C.dynamicHeightHeight=A)):C.ui.enableVideoCluster&&C.dynamicHeightNode.setStyle("height","0px")))},_onClickPromoAd:function(t){if(this){var i=this.adsConfig.promoAds.asyncBeaconWait||300,n=t.currentTarget,o=n.ancestor(".promo-ad-article-li"),l=o&&o.getData("asyncbeacon");n&&l&&(t.preventDefault(),t.halt(!0),e.Af.Beacon.send(l),setTimeout(function(){a.location=n.getAttribute("href")},i))}},formatAppReviews:function(e,t,i){var a,n,o;if(i&&e&&(a=i.match(/\S+/g)||[])&&Array.isArray(a)&&0!==a.length)return"yahoo"===(n=a[a.length-1].toLowerCase())&&(n="newsroom"),(o=e[n])&&o>t?o=this.getAppReviewString(o):void 0},getAppReviewString:function(e){return e>=1e4?e/1e3+"K":e},getAppInstallAdRatings:function(e){var t,i,a,n=e.match(/([^\/]+)\/(.+)/);if(n&&3===n.length&&"0"!==n[2]){try{n=parseInt(n[1],10)/parseInt(n[2],10)*5}catch(o){n=0}for(n>5&&(n=5),t=Math.floor(n),i=[{rating:0},{rating:0},{rating:0},{rating:0},{rating:0}],a=0;a<t;a++)i[a].rating=1;return t<n&&(i[a].rating=.5),i}},_onScroll:function(t){var i,a,n,o,l=this,s=e.one("body").scrollInfo;if(i=l.visibleMeasuresEnabled?e.one(".vm-videos"):e.one("#hl-ad-LREC-0"),(l.ui.enableModalBackfillViewportDetection||l.visibleMeasuresEnabled)&&l.backfillVideoPlayer&&i&&(a=i.get("clientHeight"),s&&(s.isNodeOnscreen(i,-.8*a)?l.backfillVideoPlayer.controls.play():l.backfillVideoPlayer.controls.pause())),l.ui.enableRelatedVideo&&l.relatedVideoAutoPlay)for(n=e.all(".js-relatedvideo-placeholder"),o=0;o<l.relatedVideoPlayer.length;o++)a=(i=n.item(o)).get("clientHeight"),s&&!l.relatedVideoPlayer[o].has_interacted&&l.relatedVideoPlayer[o].player&&l.relatedVideoPlayer[o].player.controls&&(s.isNodeOnscreen(i,-.5*a)?l.relatedVideoPlayer[o].player.controls.play():l.relatedVideoPlayer[o].player.controls.pause());l.adsConfig.tilesAds.enabled&&l.tilesPageVisible&&(l.tilesVideos&&l.tilesVideos.size()>0&&l.tilesVideos.each(function(e){var t=e.get("clientHeight");t>0&&(s.isNodeOnscreen(e,-.3*t)?e.getDOMNode().play():e.getDOMNode().pause())}),l.tileDeferLoadVideos&&l.tileDeferLoadVideos.size()>0&&l.tileDeferLoadVideos.each(function(e){e.getDOMNode().classList.contains("D(n)")||s.isNodeOnscreen(e,20)&&(e.addClass("D(n)"),e.ancestor("li").one("video").getDOMNode().classList.remove("D(n)"))}),l.tileContainers&&l.tileContainers.size()>0&&l.tileContainers.each(function(e){var t=Math.min(e.get("clientHeight"),e.get("clientWidth")),i=e.getData("beaconFired");!i&&t>0&&s.isNodeOnscreen(e,-1*t+5)&&(l.fireTileViewBeacon(e.getData("vsi")),e.setData("beaconFired","1"))}))},fireTileViewBeacon:function(t){var i,a=this;a.tilesData&&a.tilesData.actionUrls&&a.tilesData.actionUrls.IMPR_INTERNAL&&(i=a.tilesData.actionUrls.IMPR_INTERNAL,e.Array.each(a.tilesData.tiles,function(a){if(a.assetIndexVertical===t){var n="st=t,si=0,sv="+a.assetIndexVertical+",sa="+a.assetId;e.Af.Beacon.send(i.replace("$(AD_POSN)",escape(n)))}}))},isFlashInstalled:function(){var t,i,a=null;if(e.UA.ie)try{a=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/[A-Za-z\s]+/g,"").split(",")}catch(n){}else{if(e.UA.safari)return!1;navigator.mimeTypes&&(t=navigator.mimeTypes["application/x-shockwave-flash"])&&(i=t.enabledPlugin)&&(a=i.description.replace(/\s[rd]/g,".").replace(/[A-Za-z\s]+/g,"").split("."))}return!!a&&"0"!==a[0]},initTilePage:function(t,i){var a,n;t&&(a=this,n=e.one(t),e.one("body").setAttribute("data-imageloader-checkposition",!0),setTimeout(function(){e.Stencil.initAll(t),a._onScroll()},100),a.tilesData=i,a.tilesVideos=n.all("video"),n.delegate("click",e.bind(a.toggleMuteBtn,this),".mute-btn"),a.tileContainers=n.all("[data-vsi]"),a.tileDeferLoadVideos=n.all(".js-tile-video"),a.viewer.disable&&a.viewer.disable(),a.viewer.node&&a.viewer.node.focus(),document.body.scrollTop=0,a.loadHTMLTiles(n.all(".js-tile-html"),0))},toggleMuteBtn:function(e){var t,i,a=this;e.halt(!0),t=e.target.ancestor("[data-vsi]").one("video"),i=!1,e.target.hasClass("mute-on")&&t?(t.getDOMNode().muted=!1,e.target.replaceClass("mute-on","mute-off"),e.target.set("title",this.i18n.CLICK_MUTE),e.target.set("aria-label",this.i18n.MUTE),i=!0):t&&(t.getDOMNode().muted=!0,e.target.replaceClass("mute-off","mute-on"),e.target.set("title",this.i18n.CLICK_UNMUTE),e.target.set("aria-label",this.i18n.UNMUTE)),i&&a.tilesVideos&&a.tilesVideos.size()>0&&a.tilesVideos.each(function(e){var i,a;e!==t&&((i=e.getDOMNode()).muted||(i.muted=!0,(a=e.ancestor("[data-vsi]").one(".mute-btn"))&&a.replaceClass("mute-off","mute-on")))})},loadHTMLTiles:function(t,i){var a,n,o,l,s,d,r;i>=t.size()||(a=this,(o=(n=t.item(i)).getData("url"))?(l=n.ancestor("[data-vsi]"))&&(s=l.getData("vsi"),d=null,e.Array.each(this.tilesData.tiles,function(e){e.assetIndexVertical===s&&(d=e)}),d&&(r="st=t,si=0,sv="+d.assetIndexVertical+",sa="+d.assetId,a.tilesadModel.loadTextTile({adPosn:r,embeddedLandingUrls:d.embeddedLandingUrls||[],url:o},function(e,o){o&&a.renderHTMLTile(n,o.html),a.loadHTMLTiles(t,i+1),a._onScroll()}))):a.loadHTMLTiles(t,i+1))},renderHTMLTile:function(e,t){e&&t&&e.setContent(t)},destroyTilesPage:function(){this.tilesData=null,this.tilesVideos=null,this.tileContainers=null},removeRemoteApplets:function(e){
var t,i,a,n,o,l,s,d,r=this,c=Object.keys(r.ui.slots);if(e){for(o=0,l=c.length;o<l;o++)(t=(i=e&&e.parentNode&&e.parentNode.getElementsByClassName("js-viewer-slot-"+c[o]))&&i[0]&&i[0].getElementsByClassName("js-applet")[0])&&(a=t.getAttribute("data-applet-guid"))&&YMedia.My&&YMedia.My.App.applets[a]&&YMedia.My.App.applets[a].destroy();for(s=0,d=(n=e.getElementsByClassName("js-viewer-slots")).length;s<d;s++)n[s].innerHTML=""}},mergeObjects:function(){var e,t,i,a={};for(e=arguments.length-1;e>=0;e--)for(i in t=arguments[e])i&&(a[i]=t[i]);return a},isPlayerJSLoaded:function(){return YAHOO&&YAHOO.VideoPlatform&&YAHOO.VideoPlatform.VideoPlayer},isPlayerEventsReady:function(){return YAHOO&&YAHOO.VideoPlatform&&YAHOO.VideoPlatform.API_Events},getCookie:function(e){return YMedia&&YMedia.Cookie&&YMedia.Cookie.get(e)},setCookie:function(e,t){return YMedia&&YMedia.Cookie&&YMedia.Cookie.set(e,t)},fireOmnitureBeacon:function(e){var t,i=this;a.Y=a.Y||{},a.Y.OmnitureUtil=a.Y.OmnitureUtil||{},a.Y.OmnitureUtil.getCookie=i.getCookie,a.Y.OmnitureUtil.setCookie=i.setCookie,a.Y&&a.Y.Omniture?a.Y.Omniture.fireBeacon(e):((t=document.createElement("script")).id="omnitureBeaconScript",t.src=i.js.omniture||"https://s.yimg.com/os/mit/media/m/news/omniture-mega-min-78f5e30.js",t.onload=function(){a.Y.Omniture.initialize({params:e,getCookie:i.getCookie,setCookie:i.setCookie})},document.body.appendChild(t))},getMobileAdsPos:function(t){var i,a,n,o,l,s,d,r,c=this,u=t.querySelector(".Content-Body"),p=t.querySelector("#mobile-displayad-wraper"),g=t.querySelector("#mobile-displayad-placeholder"),m=c.ui.mobileAdPos||"LREC-9,LREC2-9",f=c.ui.mobileAdPosNonHosted||"LREC-9",h=c.ui.mobileAdPosWithVideoAd||"LREC2-9";if(c.ui.enableMobileVideoAutoplayAd&&c.isWhitelistedMobileOS()&&(i=c.ui.mobileVideoAdUrl)&&(i+=Math.random(),(a=document.getElementById("mobileVideoAdScript"))&&document.body.removeChild(a),(n=document.createElement("script")).id="mobileVideoAdScript",n.src=i,n.onload=function(){setTimeout(function(){e.Global.fire("content:videoad")},500)},document.body.appendChild(n),p=t.querySelector("#"+c.ui.mobileVideoAdAdPos),g=t.querySelector("#videoad-placeholder"),m=h,f=""),l="",(o=c.adsConfig.displayAds.positions.aboveFold)&&o.length>0&&(l=o.join(",")),l&&(m=l+","+m,f=l+","+f,h=l+","+h),t.getAttribute("data-hosted")||null||(m=f),p){for(s=u.firstChild,d=c.ui.mobileAdPositionThreshold||200,r=!1;s;s=s.nextSibling)if(s.offsetTop>d&&!c.ads.hasEmbed(s)&&!c.ads.hasEmbed(s.nextSibling)){r=!0;break}r?u.insertBefore(p,s):(m=f,g.parentNode.insertBefore(p,g))}return m},isWhitelistedMobileOS:function(){var t,i=!1,a=e.UA.ios;return a&&a>=8&&(i=!0),(t=e.UA.android)&&t>=4.4&&(i=!0),i},getComscoreC4Param:function(e){var t="US",i="fp";return e.region&&(t=e.region.toUpperCase()),e.site&&(i=e.site),t+" "+i},isVvEnabled:function(){var e=this,t=e.ui.enableVerticalVideo,i=de.ios>=10&&(de.safari||window.navigator.standalone)&&de.userAgent.indexOf("FxiOS")<0&&!window.opera,a=de.android&&de.chrome>=53;return t&&(i||a)},onClickReadMore:function(e){var t,i,a=this.container.one(".offnetamp-hidden"),n=this.container.one(".offnetamp-iframe"),o=e.target;n&&(t=n.getAttribute("data-amplink")||"")&&(e.preventDefault(),n.setAttribute("src",t),a.removeClass("offnetamp-hidden"),a.addClass("offnetamp-displayed"),window.scrollTo(0,0),i=this.rapidParseYLK(o),this.fireClickBeacon(i.sec,i.slk,i.elm,0,i))}})},"@VERSION@",{requires:["af-applet-view","af-beacon","af-cache","af-config","af-event","af-cookie","af-pageviz","stencil","angus-slider","event-tap","td-video-manager-util","td-viewer-ads","td-viewer-slideshow","json-parse","td-applet-viewer-vertical-video-util","stencil-imageloader"]});YUI.add("td-viewer-model",function(e){"use strict";var t,a,i,n="max-age",s="stale-while-revalidate",r=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/,c=/\/\/(?:[^\/\.]+\.)?([^\/\.]+)\.yahoo\.com((\/[\w\-\.]+)*(\/video\/))*(.*)$/,o=e.Af.Event,l=e.TD.Applet.ViewerVerticalVideoUtil;function d(){var t=this;t.cache=e.Af.Cache,t.cache.isNativeEnabled()||(t.cache={mem:{},set:function(e,t){this.mem[e]=t},get:function(e,t){var a=this.mem[e];return t&&t(!a,a)},remove:function(e){delete this.mem[e]}}),t.staleData={}}d.prototype={add:function(e,t,a){this.cache.set(e,t,a)},remove:function(e){this.cache.remove(e)},get:function(e){var t=this;return t.cache.get(e,function(e,a,i){return a&&i&&i.isStale&&(t.staleData[a.id]=!0),a})},getList:function(e){var t,a,i,n,s=[];for(a=0,i=e.length;a<i;a++)n=e[a],(t=this.get(n))&&s.push(t);return s.length>0?s:null},uncachedKeys:function(e,t){var a,i,n,s=[];for(i=0,n=e.length;i<n;i++)a=e[i],this.contains(a,t)||s.push(a);return s.length>0?s:null},contains:function(e,t){return this.cache.get(e,function(e,a,i){return!!a&&(!!t||(!i||!i.isStale))})},getStaleData:function(){var e,t=[],a=this.staleData;for(e in a)a.hasOwnProperty(e)&&t.push(e);return t},cleanStaleData:function(){this.staleData={}}},e.namespace("TD.Viewer").Model=e.Base.create("TDViewerModel",e.Model,[e.Af.Sync],{resource:"contentList",readonly:!0,consolidate:!1,initializer:function(e){var n=this;n.itemCache=new d,n.fullItems={},n.itemMaps={},n.categories={},n.isFetching=!1,n.isBatchingPhotos=!1,n.videoItems=[],n.tilesAdsItems={},n.fullVideoItems=[],n.prefetchTimer=null,n.cacheControl=e.cache,t=e.dataFetch.NUM_PREFETCH_ITEMS,a=e.dataFetch.NUM_RENDER_ITEMS,i=e.dataFetch.NUM_BATCH_PHOTOS,n.config=e,setInterval(function(){n.updateStaleContent()},1e3*(e.dataFetch.STALE_DATA_FETCH||1800))},addToLCPList:function(e,t){var a,i=this;e.lcp&&(a=i.getCacheControl(e.type),i.itemCache.add(e.id,e,a,function(t){i.cachedUuids[e.id]=!t}),t.push(e.id))},prefetchFromList:function(e,a,i,n){var s=this,r=[];s.config.optimisticPrefetch?(r=s.getNextUuids(e,a[0].id,t,!1),i.forEach(function(e){-1!==r.indexOf(e)&&r.splice(r.indexOf(e),1)})):a.forEach(function(e){r.push(e.id)}),n.listId=e,s.prefetchItems(r,!0,n)},initContent:function(t,a,i,n,s,r){var c,o,l,d;if(!Array.isArray(a)||!Array.isArray(i))return!1;t=t||"",r=r||{},c=this,l=[],d=e.Object.getValue(r,["ads","tilesAds","enabled"]),s&&a.forEach(function(e){o=c.getCacheControl(e.type),c.itemCache.add(e.id,e,o,function(t){c.cachedUuids[e.id]=!t})}),a.forEach(function(e){c.addToLCPList(e,l)}),c.fullItems[t]=i,c.itemMaps[t]=[],c.categories[t]=n,d||(c.removeAdsFromList(a),c.removeAdsFromList(i)),r&&r.ui&&r.ui.enableModalBackfillVideoAds&&(c.extractVideoFromList(a),c.extractVideoFromList(i)),i.forEach(function(e,a){-1===c.itemMaps[t].indexOf(e.id)&&c.itemMaps[t].push(e.id),d&&"4"===e.type&&e.tiles&&(c.tilesAdsItems[e.id]=e)}),s||c.prefetchFromList(t,a,l,r)},initContentList:function(e,t,a){if(!e)return!1;this.fullItems[e]=[],this.itemMaps[e]=[],this.categories[e]=null,this.fetchContentList(e,!1,t,a)},removeAdsFromList:function(e){var t=e.length;for(t=e.length-1;t>=0;t--)"4"===e[t].type&&e.splice(t,1)},extractVideoFromList:function(e){var t,a,i=this,n=e.length;if(e)for(n=e.length-1;n>=0;n--)"3"===e[n].type&&-1===i.videoItems.indexOf(e[n].id)&&r.test(e[n].id)&&(t=!1,e[n].link&&e[n].title&&(a=e[n].link.match(c))&&a.length>=6&&("screen"!==a[1]&&"/video/"!==a[4]||(t=!0)),t&&(i.videoItems.length>=30&&(i.videoItems.shift(),i.fullVideoItems.shift()),i.videoItems.push(e[n].id),i.fullVideoItems.push(e[n])))},updateStaleContent:function(){var e;(e=this.itemCache.getStaleData())&&e.length>0&&(this.itemCache.cleanStaleData(),this.prefetchItems(e,!0))},batchContent:function(e,t,a){var i,n,s,r,c,l,d,h,m;if(Array.isArray(t)){for(e=e||"",a=a||{},n=!0,s=[],r=(i=this).itemCache,c=[],l=a.ui&&a.ui.enableVerticalVideo,m=t.length-1;m>=0;m--)if(!r.contains(t[m].id,!0)){n=!1;break}t.forEach(function(t){var a,n=t.id;-1===i.getItemIndex(e,n)&&(-1!==(h=i.getItemIndex(e,d))?(i.fullItems[e].splice(h+1,0,t),i.itemMaps[e].splice(h+1,0,n)):(i.fullItems[e].push(t),i.itemMaps[e].push(n))),d=n,i.setItemMeta(e,n,t),i.addToLCPList(t,s),l&&(a=r.get(n))&&a.verticalVideo&&c.push({id:n,verticalVideo:a.verticalVideo})}),n?l&&c.length>0&&o.fire("vertical-video:content-fetched",{content:c}):i.prefetchFromList(e,t,s,a)}},addNewContent:function(e,t,a){if(Array.isArray(t)){e=e||"",a=a||{};var i,n,s=[];for(i=t.length-1;i>=0;i--)n=t[i].id,this.itemCache.contains(n,!0)||(s.push(n),this.fullItems[e].push(t[i]),this.itemMaps[e].push(n));s.length&&(a.listId=e,this.prefetchItems(s,!0,a))}},removeContent:function(e,t){if(Array.isArray(t)){e=e||"";var a,i=this;t.forEach(function(t){(a=i.itemMaps[e].indexOf(t))>-1&&(i.fullItems[e].splice(a,1),i.itemMaps[e].splice(a,1))})}},prefetchItems:function(e,t,a,i){var n,s,r,c,o=this;if(!e||!Array.isArray(e))return i&&i(null);n=0,s=Math.min(n+20,e.length),r=[],e.length>20?(c=function(l){l&&(r=r.concat(l)),s<e.length?(n=s,s=Math.min(n+20,e.length),o.prefetchItemsBatch(e.slice(n,s),t,a,c)):i&&i(r)},o.prefetchItemsBatch(e.slice(n,s),t,a,c)):o.prefetchItemsBatch(e,t,a,i)},prefetchItemsBatch:function(t,a,i,n){var s,r,c,o=this,l=[];if(i=i||{},!t||!Array.isArray(t))return n&&n(null);for(s=t.length-1;s>=0;s--)t[s]||t.splice(s,1);return 0===t.length?n&&n(null):a||(t=o.itemCache.uncachedKeys(t,!0))?(!a&&window._perfModalFetchStart&&window._perfModalFetchStart(),o.config&&o.config.useUuidPrefix?t.forEach(function(e){if(e){var t="";(c=o.getItemMeta(i.listId,e))&&(o.config.checkIsEligibleOnly?c.is_eligible_false&&-1===e.indexOf("SS-")&&(t="SS-"):c.eligible||-1!==e.indexOf("SS-")?c.isUpsell&&-1===e.indexOf("UC-")&&(t="UC-"):t="SS-"),l.push(t+e)}}):l=t,r={params:{uuids:l.join(),category:i.listId?o.categories[i.listId]:o.get("category")}},e.Object.getValue(o,["config","uiConfig","enableVerticalVideo"])&&(r.params.ad_meta=!0,r.params.enable_vertical_video=!0),
void o.fetchData(r,a,i,n)):n&&n(null)},fetchContentList:function(t,a,i,n){var s,r=this;if(!t)return n&&n(null);i=i||{},!a&&window._perfModalFetchStart&&window._perfModalFetchStart(),s={params:{listId:t}},e.Object.getValue(r,["config","uiConfig","enableVerticalVideo"])&&(s.params.enable_vertical_video=!0,s.params.enable_content_list_ads=!0,s.params.useTumblrTags=!0),r.fetchData(s,a,i,n)},fetchData:function(t,a,i,n){var s,r=this,c=r.config&&r.config.uiConfig,d=e.Object.getValue(i,["params","enableEntities"]),h=void 0!==d?d:r.config.enableEntities,m=e.Object.getValue(i,["params","enableRelatedContent"]),u=void 0!==m?m:c&&c.related_content_enabled,f=c&&c.enableVerticalVideo;(t=t||{}).params=t.params||{},t.params.curveball=r.get("curveball"),i.params&&i.params.curveball&&(t.params.curveball=e.merge(t.params.curveball,i.params.curveball)),i.sync&&(t.context={config:i.sync}),i.pcsExclusions&&(t.params.sponsorCheck=!0),h&&(t.params.entities_enabled=!0),c&&(e.Object.getValue(c,["comments","enabled"])&&(t.params.commentsEnabled=!0),c.offnetUrlSchemeEnabled&&(t.params.offnetUrlSchemeEnabled=!0),c.adsMeta&&(t.params.ad_meta=!0),c.useCapSummary&&(t.params.use_cap_summary=!0),c.useSsYcts&&(t.params.use_ss_ycts=!0),c.lcpBodyEnabled&&(t.params.lcp_body_enabled=!0),c.nydcContent&&(t.params.nydc_content=!0),c.nydcMags&&(t.params.use_mags_nydc=!0),c.enableReadMore&&(t.params.include_category_data=!0),c.viewerDebug&&(t.params.viewerDebug=!0),c.imageResize&&(t.params.imageResize=!0),c.resizeSlideshowEnabled&&(t.params.resizeSlideshowEnabled=!0),c.linkYlk&&(t.params.linkYlk=c.linkYlk),c.yqlResizeEnabled&&(t.params.yqlResizeEnabled=c.yqlResizeEnabled),c.lazyLoad&&(t.params.lazyLoad=c.lazyLoad),c.forceRedisRead&&(t.params.forceRedisRead=c.forceRedisRead),c.videoEnrichment&&(t.params.videoEnrichment=!0),c.useSSSummary&&(t.params.useSSSummary=!0),c.rdsig_enabled&&(t.params.rdsig_enabled=!0),c.resizeIframeUrl&&(t.params.resizeIframeUrl=c.resizeIframeUrl),c.enableIframeAutoPlayException&&(t.params.enableIframeAutoPlayException=c.enableIframeAutoPlayException),c.offnetDeeplink&&(t.params.offnetDeeplink=!0),c.revShareEnabled&&(t.params.page_type=c.revSharePageType,t.params.page_design=c.revSharePageDesign,t.params.app_name=c.revShareAppName,-1!==i.userSegment&&(t.params.user_segment=i.userSegment)),c.property_attribution_enabled&&(t.params.property_attribution_enabled=!0),c.offnetAMP&&(t.params.offnetAMP=!0,c.use_ss_lcp&&(t.params.use_ss_lcp=!0),c.yMcacheAMPEnabled&&c.yMcacheHost&&(t.params.yMcacheAMPEnabled=!0,t.params.yMcacheHost=c.yMcacheHost)),c.lead_video_enabled&&(t.params.lead_video_enabled=!0),u&&(t.params.related_content_enabled=!0)),f&&(t.params.vertical_video_ar=l.getAspectRatio()),s=i.listId,r.sync("read",t,function(e,t){if(!a&&window._perfModalFetchEnd&&window._perfModalFetchEnd(),e||!t||!t.items)return n&&n(null);var i,l,d=t.items,h=[];d.forEach(function(e){e.sponsor&&(e={id:e.id,link:e.link,sponsor:e.sponsor,type:e.type}),(l=r.getItemMeta(s,e.id)||{}).interestString&&(e.entities=l.interestString),r.config.enableCategories&&e.categories&&(e.entities&&0!==e.entities.length?0!==e.categories.length&&(e.entities=e.entities+"|"+e.categories):e.entities=e.categories),c&&c.enableReadMore&&e.categoryData&&(l.categoryData=e.categoryData,r.setItemMeta(s,e.id,l)),c&&c.comments_preview&&(e.hosted||c.comments.offnet.enabled)&&(e.showCommentsBtn=!0),(c&&c.licensedFullBody&&"true"===e.is_eligible||e.hosted)&&(e.showFullBody=!0),i=r.getCacheControl(e.type),r.itemCache.add(e.id,e,i),f&&e.verticalVideo&&h.push({id:e.id,verticalVideo:e.verticalVideo})}),f&&h.length>0&&o.fire("vertical-video:content-fetched",{content:h}),n&&n(d)})},fetchItems:function(e,i,n,s){var r,c,o,l=this,d=!i,h=[],m={listId:e,entities_enabled:!0,sync:{timeout:2e3,retry:{max_retries:0}}};if(l.isFetching)s&&s(e,null);else{if(l.tilesAdsItems&&i&&l.tilesAdsItems[i])return o=l.tilesAdsItems[i],void(s&&s(e,[o]));if(a=l.config.dataFetch.NUM_RENDER_ITEMS,n&&(a=n),e=e||"",0===(r=Array.isArray(i)?i:l.getNextUuids(e,i,a)).length)return s&&s(e,null);if(Array.isArray(i)&&(i=r[0]),!(c=l.itemCache.uncachedKeys(r,!1)))return h=l.itemCache.getList(r),l.setItems(e,h,d),void(s&&s(e,h));c=l.getNextUuids(e,i,t,!0),r.forEach(function(e){c.indexOf(e)<0&&l.itemCache.contains(e,!0)&&c.unshift(e)}),c=c.slice(0,t),l.isFetching=!0,l.prefetchItems(c,!1,m,function(t){l.isFetching=!1,t=l.createAssociativeArray(t),r.forEach(function(a){var i,n=l.itemCache.get(a)||t[a];n&&(i=l.getItemMeta(e,a),n.source=i&&i.source||null,h.push(n))}),l.setItems(e,h,d),s&&s(e,h)})}},getItemIndex:function(e,t){return e&&t?this.itemMaps[e]&&this.itemMaps[e].indexOf(t):-1},getItemMeta:function(e,t){var a=this.getItemIndex(e,t);return a>=0?this.fullItems[e][a]:null},getVideoItems:function(e){var t=this;return e&&t.videoItems&&t.videoItems.length<=0&&t.fullItems[e]&&t.extractVideoFromList(t.fullItems[e]),t.videoItems},getVideoItemIndex:function(e){return e?this.videoItems&&this.videoItems.indexOf(e):-1},getVideoItemMeta:function(e){var t=this.getVideoItemIndex(e);return t>=0?this.fullVideoItems[t]:null},setItemMeta:function(e,t,a){var i=this.getItemIndex(e,t);i>=0&&(this.fullItems[e][i]=a)},setItems:function(e,t,a){var i;t&&0!==t.length&&(i=t,a&&(i=(i=this.get("items")||[]).concat(t)),this.setAttrs({items:i}))},getNextUuids:function(e,t,a,i){var n,s,r,c,o,l=this,d=[];if(e=e||"",t?i&&l.itemCache.contains(t,!0)||(d.push(t),a--):t=(s=l.get("items")).length>0?s[s.length-1].id:"",!l.fullItems[e]||typeof l.itemMaps[e].indexOf(t)>-1)return d;for(c=0,o=l.fullItems[e].length,r=l.itemMaps[e].indexOf(t)+1;a>0&&r+c<o&&(n=l.fullItems[e][r+c]);)n.videoAdAssets||i&&l.itemCache.contains(n.id,!0)||(d.push(n.id),a--),c++;return d.length>0?d:[]},createAssociativeArray:function(e){var t={};return Array.isArray(e)&&e.forEach(function(a,i){t[a.id]=e[i]}),t},getCacheControl:function(e){var t=this.cacheControl,a=e?e.toUpperCase():"STORY";return[n,"=",t[n][a]||300,",",s,"=",t[s][a]||43200].join("")},nextBatchPhotos:function(e,t){
var a,n,s=this;if(s.isBatchingPhotos||!e.id||!e.start)return t&&t(null);a=s.itemCache.get(e.id),n={params:{type:"photos",uuid:e.id,start:e.start,count:i}},s.isBatchingPhotos=!0,s.sync("read",n,function(i,n){var r,c;if(s.isBatchingPhotos=!1,r=n&&n.items,i||!r||!r[0])return t&&t(null);c=r[0].images||[],t&&t(c),a&&(a.images=a.images.concat(c),s.itemCache.add(e.id,a,s.getCacheControl(a.type)))})}},{ATTRS:{items:{value:[]}}})},"@VERSION@",{requires:["af-cache","af-sync","base-build","model","af-beacon","af-event","td-applet-viewer-vertical-video-util"]});YUI.add("array-extras",function(e,t){var n=e.Array,r=e.Lang,i=Array.prototype;n.lastIndexOf=r._isNative(i.lastIndexOf)?function(e,t,n){return n||n===0?e.lastIndexOf(t,n):e.lastIndexOf(t)}:function(e,t,n){var r=e.length,i=r-1;if(n||n===0)i=Math.min(n<0?r+n:n,r);if(i>-1&&r>0)for(;i>-1;--i)if(i in e&&e[i]===t)return i;return-1},n.unique=function(e,t){var n=0,r=e.length,i=[],s,o,u,a;e:for(;n<r;n++){a=e[n];for(s=0,u=i.length;s<u;s++){o=i[s];if(t){if(t.call(e,a,o,n,e))continue e}else if(a===o)continue e}i.push(a)}return i},n.filter=r._isNative(i.filter)?function(e,t,n){return i.filter.call(e,t,n)}:function(e,t,n){var r=0,i=e.length,s=[],o;for(;r<i;++r)r in e&&(o=e[r],t.call(n,o,r,e)&&s.push(o));return s},n.reject=function(e,t,r){return n.filter(e,function(e,n,i){return!t.call(r,e,n,i)})},n.every=r._isNative(i.every)?function(e,t,n){return i.every.call(e,t,n)}:function(e,t,n){for(var r=0,i=e.length;r<i;++r)if(r in e&&!t.call(n,e[r],r,e))return!1;return!0},n.map=r._isNative(i.map)?function(e,t,n){return i.map.call(e,t,n)}:function(e,t,n){var r=0,s=e.length,o=i.concat.call(e);for(;r<s;++r)r in e&&(o[r]=t.call(n,e[r],r,e));return o},n.reduce=r._isNative(i.reduce)?function(e,t,n,r){return i.reduce.call(e,function(e,t,i,s){return n.call(r,e,t,i,s)},t)}:function(e,t,n,r){var i=0,s=e.length,o=t;for(;i<s;++i)i in e&&(o=n.call(r,o,e[i],i,e));return o},n.find=function(e,t,n){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r,e))return e[r];return null},n.grep=function(e,t){return n.filter(e,function(e,n){return t.test(e)})},n.partition=function(e,t,r){var i={matches:[],rejects:[]};return n.each(e,function(n,s){var u=t.call(r,n,s,e)?i.matches:i.rejects;u.push(n)}),i},n.zip=function(e,t){var r=[];return n.each(e,function(e,n){r.push([e,t[n]])}),r},n.flatten=function(e){var t=[],i,s,o;if(!e)return t;for(i=0,s=e.length;i<s;++i)o=e[i],r.isArray(o)?t.push.apply(t,n.flatten(o)):t.push(o);return t}},"3.18.1",{requires:["yui-base"]});
YUI.add("array-invoke",function(e,t){e.Array.invoke=function(t,n){var r=e.Array(arguments,2,!0),i=e.Lang.isFunction,s=[];return e.Array.each(e.Array(t),function(e,t){e&&i(e[n])&&(s[t]=e[n].apply(e,r))}),s}},"3.18.1",{requires:["yui-base"]});
YUI.add("arraylist",function(e,t){function s(t){t!==undefined?this._items=e.Lang.isArray(t)?t:n(t):this._items=this._items||[]}var n=e.Array,r=n.each,i;i={item:function(e){return this._items[e]},each:function(e,t){return r(this._items,function(n,r){n=this.item(r),e.call(t||n,n,r,this)},this),this},some:function(e,t){return n.some(this._items,function(n,r){return n=this.item(r),e.call(t||n,n,r,this)},this)},indexOf:function(e){return n.indexOf(this._items,e)},size:function(){return this._items.length},isEmpty:function(){return!this.size()},toJSON:function(){return this._items}},i._item=i.item,e.mix(s.prototype,i),e.mix(s,{addMethod:function(e,t){t=n(t),r(t,function(t){e[t]=function(){var e=n(arguments,0,!0),i=[];return r(this._items,function(n,r){n=this._item(r);var s=n[t].apply(n,e);s!==undefined&&s!==n&&(i[r]=s)},this),i.length?i:this}})}}),e.ArrayList=s},"3.18.1",{requires:["yui-base"]});
YUI.add("async-queue",function(e,t){e.AsyncQueue=function(){this._init(),this.add.apply(this,arguments)};var n=e.AsyncQueue,r="execute",i="shift",s="promote",o="remove",u=e.Lang.isObject,a=e.Lang.isFunction;n.defaults=e.mix({autoContinue:!0,iterations:1,timeout:10,until:function(){return this.iterations|=0,this.iterations<=0}},e.config.queueDefaults||{}),e.extend(n,e.EventTarget,{_running:!1,_init:function(){e.EventTarget.call(this,{prefix:"queue",emitFacade:!0}),this._q=[],this.defaults={},this._initEvents()},_initEvents:function(){this.publish({execute:{defaultFn:this._defExecFn,emitFacade:!0},shift:{defaultFn:this._defShiftFn,emitFacade:!0},add:{defaultFn:this._defAddFn,emitFacade:!0},promote:{defaultFn:this._defPromoteFn,emitFacade:!0},remove:{defaultFn:this._defRemoveFn,emitFacade:!0}})},next:function(){var e;while(this._q.length){e=this._q[0]=this._prepare(this._q[0]);if(!e||!e.until())break;this.fire(i,{callback:e}),e=null}return e||null},_defShiftFn:function(e){this.indexOf(e.callback)===0&&this._q.shift()},_prepare:function(t){if(a(t)&&t._prepared)return t;var r=e.merge(n.defaults,{context:this,args:[],_prepared:!0},this.defaults,a(t)?{fn:t}:t),i=e.bind(function(){i._running||i.iterations--,a(i.fn)&&i.fn.apply(i.context||e,e.Array(i.args))},this);return e.mix(i,r)},run:function(){var e,t=!0;if(this._executing)return this._running=!0,this;for(e=this.next();e&&!this.isRunning();e=this.next()){t=e.timeout<0?this._execute(e):this._schedule(e);if(!t)break}return e||this.fire("complete"),this},_execute:function(e){this._running=e._running=!0,this._executing=e,e.iterations--,this.fire(r,{callback:e});var t=this._running&&e.autoContinue;return this._running=e._running=!1,this._executing=!1,t},_schedule:function(t){return this._running=e.later(t.timeout,this,function(){this._execute(t)&&this.run()}),!1},isRunning:function(){return!!this._running},_defExecFn:function(e){e.callback()},add:function(){return this.fire("add",{callbacks:e.Array(arguments,0,!0)}),this},_defAddFn:function(t){var n=this._q,r=[];e.Array.each(t.callbacks,function(e){u(e)&&(n.push(e),r.push(e))}),t.added=r},pause:function(){return this._running&&u(this._running)&&this._running.cancel(),this._running=!1,this},stop:function(){return this._q=[],this._running&&u(this._running)&&(this._running.cancel(),this._running=!1),this._executing||this.run(),this},indexOf:function(e){var t=0,n=this._q.length,r;for(;t<n;++t){r=this._q[t];if(r===e||r.id===e)return t}return-1},getCallback:function(e){var t=this.indexOf(e);return t>-1?this._q[t]:null},promote:function(e){var t={callback:e},n;return this.isRunning()?n=this.after(i,function(){this.fire(s,t),n.detach()},this):this.fire(s,t),this},_defPromoteFn:function(e){var t=this.indexOf(e.callback),n=t>-1?this._q.splice(t,1)[0]:null;e.promoted=n,n&&this._q.unshift(n)},remove:function(e){var t={callback:e},n;return this.isRunning()?n=this.after(i,function(){this.fire(o,t),n.detach()},this):this.fire(o,t),this},_defRemoveFn:function(e){var t=this.indexOf(e.callback);e.removed=t>-1?this._q.splice(t,1)[0]:null},size:function(){return this.isRunning()||this.next(),this._q.length}})},"3.18.1",{requires:["event-custom"]});
YUI.add("attribute-base",function(e,t){function n(){e.AttributeCore.apply(this,arguments),e.AttributeObservable.apply(this,arguments),e.AttributeExtras.apply(this,arguments)}e.mix(n,e.AttributeCore,!1,null,1),e.mix(n,e.AttributeExtras,!1,null,1),e.mix(n,e.AttributeObservable,!0,null,1),n.INVALID_VALUE=e.AttributeCore.INVALID_VALUE,n._ATTR_CFG=e.AttributeCore._ATTR_CFG.concat(e.AttributeObservable._ATTR_CFG),n.protectAttrs=e.AttributeCore.protectAttrs,e.Attribute=n},"3.18.1",{requires:["attribute-core","attribute-observable","attribute-extras"]});
YUI.add("attribute-complex",function(e,t){var n=e.Attribute;n.Complex=function(){},n.Complex.prototype={_normAttrVals:n.prototype._normAttrVals,_getAttrInitVal:n.prototype._getAttrInitVal},e.AttributeComplex=n.Complex},"3.18.1",{requires:["attribute-base"]});
YUI.add("attribute-core",function(e,t){function b(e,t,n){this._yuievt=null,this._initAttrHost(e,t,n)}e.State=function(){this.data={}},e.State.prototype={add:function(e,t,n){var r=this.data[e];r||(r=this.data[e]={}),r[t]=n},addAll:function(e,t){var n=this.data[e],r;n||(n=this.data[e]={});for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r])},remove:function(e,t){var n=this.data[e];n&&delete n[t]},removeAll:function(t,n){var r;n?e.each(n,function(e,n){this.remove(t,typeof n=="string"?n:e)},this):(r=this.data,t in r&&delete r[t])},get:function(e,t){var n=this.data[e];if(n)return n[t]},getAll:function(e,t){var n=this.data[e],r,i;if(t)i=n;else if(n){i={};for(r in n)n.hasOwnProperty(r)&&(i[r]=n[r])}return i}};var n=e.Object,r=e.Lang,i=".",s="getter",o="setter",u="readOnly",a="writeOnce",f="initOnly",l="validator",c="value",h="valueFn",p="lazyAdd",d="added",v="_bypassProxy",m="initValue",g="lazy",y;b.INVALID_VALUE={},y=b.INVALID_VALUE,b._ATTR_CFG=[o,s,l,c,h,a,u,p,v],b.protectAttrs=function(t){if(t){t=e.merge(t);for(var n in t)t.hasOwnProperty(n)&&(t[n]=e.merge(t[n]))}return t},b.prototype={_initAttrHost:function(t,n,r){this._state=new e.State,this._initAttrs(t,n,r)},addAttr:function(e,t,n){var r=this,i=r._state,s=i.data,o,u,a;t=t||{},p in t&&(n=t[p]),u=i.get(e,d);if(n&&!u)i.data[e]={lazy:t,added:!0};else if(!u||t.isLazyAdd)a=c in t,a&&(o=t.value,t.value=undefined),t.added=!0,t.initializing=!0,s[e]=t,a&&r.set(e,o),t.initializing=!1;return r},attrAdded:function(e){return!!this._state.get(e,d)},get:function(e){return this._getAttr(e)},_isLazyAttr:function(e){return this._state.get(e,g)},_addLazyAttr:function(e,t){var n=this._state;t=t||n.get(e,g),t&&(n.data[e].lazy=undefined,t.isLazyAdd=!0,this.addAttr(e,t))},set:function(e,t,n){return this._setAttr(e,t,n)},_set:function(e,t,n){return this._setAttr(e,t,n,!0)},_setAttr:function(t,r,s,o){var u=!0,a=this._state,l=this._stateProxy,c=this._tCfgs,h,p,d,v,m,g,y;return t.indexOf(i)!==-1&&(d=t,v=t.split(i),t=v.shift()),c&&c[t]&&this._addOutOfOrder(t,c[t]),h=a.data[t]||{},h.lazy&&(h=h.lazy,this._addLazyAttr(t,h)),p=h.value===undefined,l&&t in l&&!h._bypassProxy&&(p=!1),g=h.writeOnce,y=h.initializing,!p&&!o&&(g&&(u=!1),h.readOnly&&(u=!1)),!y&&!o&&g===f&&(u=!1),u&&(p||(m=this.get(t)),v&&(r=n.setValue(e.clone(m),v,r),r===undefined&&(u=!1)),u&&(!this._fireAttrChange||y?this._setAttrVal(t,d,m,r,s,h):this._fireAttrChange(t,d,m,r,s,h))),this},_addOutOfOrder:function(e,t){var n={};n[e]=t,delete this._tCfgs[e],this._addAttrs(n,this._tVals)},_getAttr:function(e){var t=e,r=this._tCfgs,s,o,u,a;return e.indexOf(i)!==-1&&(s=e.split(i),e=s.shift()),r&&r[e]&&this._addOutOfOrder(e,r[e]),a=this._state.data[e]||{},a.lazy&&(a=a.lazy,this._addLazyAttr(e,a)),u=this._getStateVal(e,a),o=a.getter,o&&!o.call&&(o=this[o]),u=o?o.call(this,u,t):u,u=s?n.getValue(u,s):u,u},_getStateVal:function(e,t){var n=this._stateProxy;return t||(t=this._state.getAll(e)||{}),n&&e in n&&!t._bypassProxy?n[e]:t.value},_setStateVal:function(e,t){var n=this._stateProxy;n&&e in n&&!this._state.get(e,v)?n[e]=t:this._state.add(e,c,t)},_setAttrVal:function(e,t,n,i,s,o){var u=this,a=!0,f=o||this._state.data[e]||{},l=f.validator,c=f.setter,h=f.initializing,p=this._getStateVal(e,f),d=t||e,v,g;return l&&(l.call||(l=this[l]),l&&(g=l.call(u,i,d,s),!g&&h&&(i=f.defaultValue,g=!0))),!l||g?(c&&(c.call||(c=this[c]),c&&(v=c.call(u,i,d,s),v===y?h?i=f.defaultValue:a=!1:v!==undefined&&(i=v))),a&&(!t&&i===p&&!r.isObject(i)?a=!1:(m in f||(f.initValue=i),u._setStateVal(e,i)))):a=!1,a},setAttrs:function(e,t){return this._setAttrs(e,t)},_setAttrs:function(e,t){var n;for(n in e)e.hasOwnProperty(n)&&this.set(n,e[n],t);return this},getAttrs:function(e){return this._getAttrs(e)},_getAttrs:function(e){var t={},r,i,s,o=e===!0;if(!e||o)e=n.keys(this._state.data);for(i=0,s=e.length;i<s;i++){r=e[i];if(!o||this._getStateVal(r)!=this._state.get(r,m))t[r]=this.get(r)}return t},addAttrs:function(e,t,n){return e&&(this._tCfgs=e,this._tVals=t?this._normAttrVals(t):null,this._addAttrs(e,this._tVals,n),this._tCfgs=this._tVals=null),this},_addAttrs:function(e,t,n){var r=this._tCfgs,i=this._tVals,s,o,u;for(s in e)e.hasOwnProperty(s)&&(o=e[s],o.defaultValue=o.value,u=this._getAttrInitVal(s,o,i),u!==undefined&&(o.value=u),r[s]&&(r[s]=undefined),this.addAttr(s,o,n))},_protectAttrs:b.protectAttrs,_normAttrVals:function(e){var t,n,r,s,o,u;if(!e)return null;t={};for(u in e)e.hasOwnProperty(u)&&(u.indexOf(i)!==-1?(r=u.split(i),s=r.shift(),n=n||{},o=n[s]=n[s]||[],o[o.length]={path:r,value:e[u]}):t[u]=e[u]);return{simple:t,complex:n}},_getAttrInitVal:function(e,t,r){var i=t.value,s=t.valueFn,o,u=!1,a=t.readOnly,f,l,c,h,p,d,v;!a&&r&&(f=r.simple,f&&f.hasOwnProperty(e)&&(i=f[e],u=!0)),s&&!u&&(s.call||(s=this[s]),s&&(o=s.call(this,e),i=o));if(!a&&r){l=r.complex;if(l&&l.hasOwnProperty(e)&&i!==undefined&&i!==null){v=l[e];for(c=0,h=v.length;c<h;++c)p=v[c].path,d=v[c].value,n.setValue(i,p,d)}}return i},_initAttrs:function(t,n,r){t=t||this.constructor.ATTRS;var i=e.Base,s=e.BaseCore,o=i&&e.instanceOf(this,i),u=!o&&s&&e.instanceOf(this,s);t&&!o&&!u&&this.addAttrs(e.AttributeCore.protectAttrs(t),n,r)}},e.AttributeCore=b},"3.18.1",{requires:["oop"]});
YUI.add("attribute-extras",function(e,t){function o(){}var n="broadcast",r="published",i="initValue",s={readOnly:1,writeOnce:1,getter:1,broadcast:1};o.prototype={modifyAttr:function(e,t){var i=this,o,u;if(i.attrAdded(e)){i._isLazyAttr(e)&&i._addLazyAttr(e),u=i._state;for(o in t)s[o]&&t.hasOwnProperty(o)&&(u.add(e,o,t[o]),o===n&&u.remove(e,r))}},removeAttr:function(e){this._state.removeAll(e)},reset:function(t){var n=this;return t?(n._isLazyAttr(t)&&n._addLazyAttr(t),n.set(t,n._state.get(t,i))):e.Object.each(n._state.data,function(e,t){n.reset(t)}),n},_getAttrCfg:function(t){var n,r=this._state;return t?n=r.getAll(t)||{}:(n={},e.each(r.data,function(e,t){n[t]=r.getAll(t)})),n}},e.AttributeExtras=o},"3.18.1",{requires:["oop"]});
YUI.add("attribute-observable",function(e,t){function s(){this._ATTR_E_FACADE={},n.call(this,{emitFacade:!0})}var n=e.EventTarget,r="Change",i="broadcast";s._ATTR_CFG=[i],s.prototype={set:function(e,t,n){return this._setAttr(e,t,n)},_set:function(e,t,n){return this._setAttr(e,t,n,!0)},setAttrs:function(e,t){return this._setAttrs(e,t)},_setAttrs:function(e,t){var n;for(n in e)e.hasOwnProperty(n)&&this.set(n,e[n],t);return this},_fireAttrChange:function(t,n,i,s,o,u){var a=this,f=this._getFullType(t+r),l=a._state,c,h,p;u||(u=l.data[t]||{}),u.published||(p=a._publish(f),p.emitFacade=!0,p.defaultTargetOnly=!0,p.defaultFn=a._defAttrChangeFn,h=u.broadcast,h!==undefined&&(p.broadcast=h),u.published=!0),o?(c=e.merge(o),c._attrOpts=o):c=a._ATTR_E_FACADE,c.attrName=t,c.subAttrName=n,c.prevVal=i,c.newVal=s,a._hasPotentialSubscribers(f)?a.fire(f,c):this._setAttrVal(t,n,i,s,o,u)},_defAttrChangeFn:function(e,t){var n=e._attrOpts;n&&delete e._attrOpts,this._setAttrVal(e.attrName,e.subAttrName,e.prevVal,e.newVal,n)?t||(e.newVal=this.get(e.attrName)):t||e.stopImmediatePropagation()}},e.mix(s,n,!1,null,1),e.AttributeObservable=s,e.AttributeEvents=s},"3.18.1",{requires:["event-custom"]});
YUI.add("autocomplete-base",function(e,t){function T(){}var n=e.Escape,r=e.Lang,i=e.Array,s=e.Object,o=r.isFunction,u=r.isString,a=r.trim,f=e.Attribute.INVALID_VALUE,l="_functionValidator",c="_sourceSuccess",h="allowBrowserAutocomplete",p="inputNode",d="query",v="queryDelimiter",m="requestTemplate",g="results",y="resultListLocator",b="value",w="valueChange",E="clear",S=d,x=g;T.prototype={initializer:function(){e.before(this._bindUIACBase,this,"bindUI"),e.before(this._syncUIACBase,this,"syncUI"),this.publish(E,{defaultFn:this._defClearFn}),this.publish(S,{defaultFn:this._defQueryFn}),this.publish(x,{defaultFn:this._defResultsFn})},destructor:function(){this._acBaseEvents&&this._acBaseEvents.detach(),delete this._acBaseEvents,delete this._cache,delete this._inputNode,delete this._rawSource},clearCache:function(){return this._cache&&(this._cache={}),this},sendRequest:function(t,n){var r,i=this.get("source");return t||t===""?this._set(d,t):t=this.get(d)||"",i&&(n||(n=this.get(m)),r=n?n.call(this,t):t,i.sendRequest({query:t,request:r,callback:{success:e.bind(this._onResponse,this,t)}})),this},_bindUIACBase:function(){var t=this.get(p),n=t&&t.tokenInput;n&&(t=n.get(p),this._set("tokenInput",n));if(!t){e.error("No inputNode specified.");return}this._inputNode=t,this._acBaseEvents=new e.EventHandle([t.on(w,this._onInputValueChange,this),t.on("blur",this._onInputBlur,this),this.after(h+"Change",this._syncBrowserAutocomplete),this.after("sourceTypeChange",this._afterSourceTypeChange),this.after(w,this._afterValueChange)])},_syncUIACBase:function(){this._syncBrowserAutocomplete(),this.set(b,this.get(p).get(b))},_createArraySource:function(e){var t=this;return{type:"array",sendRequest:function(n){t[c](e.concat(),n)}}},_createFunctionSource:function(e){var t=this;return{type:"function",sendRequest:function(n){function i(e){t[c](e||[],n)}var r;(r=e(n.query,i))&&i(r)}}},_createObjectSource:function(e){var t=this;return{type:"object",sendRequest:function(n){var r=n.query;t[c](s.owns(e,r)?e[r]:[],n)}}},_functionValidator:function(e){return e===null||o(e)},_getObjectValue:function(e,t){if(!e)return;for(var n=0,r=t.length;e&&n<r;n++)e=e[t[n]];return e},_parseResponse:function(e,t,r){var i={data:r,query:e,results:[]},s=this.get(y),o=[],u=t&&t.results,a,f,l,c,h,p,d,v,m,g,b;u&&s&&(u=s.call(this,u));if(u&&u.length){a=this.get("resultFilters"),b=this.get("resultTextLocator");for(p=0,d=u.length;p<d;++p)m=u[p],g=b?b.call(this,m):m.toString(),o.push({display:n.html(g),raw:m,text:g});for(p=0,d=a.length;p<d;++p){o=a[p].call(this,e,o.concat());if(!o)return;if(!o.length)break}if(o.length){l=this.get("resultFormatter"),h=this.get("resultHighlighter"),v=this.get("maxResults"),v&&v>0&&o.length>v&&(o.length=v);if(h){c=h.call(this,e,o.concat());if(!c)return;for(p=0,d=c.length;p<d;++p)m=o[p],m.highlighted=c[p],m.display=m.highlighted}if(l){f=l.call(this,e,o.concat());if(!f)return;for(p=0,d=f.length;p<d;++p)o[p].display=f[p]}}}i.results=o,this.fire(x,i)},_parseValue:function(e){var t=this.get(v);return t&&(e=e.split(t),e=e[e.length-1]),r.trimLeft(e)},_setEnableCache:function(e){this._cache=e?{}:null},_setLocator:function(e){if(this[l](e))return e;var t=this;return e=e.toString().split("."),function(n){return n&&t._getObjectValue(n,e)}},_setRequestTemplate:function(e){return this[l](e)?e:(e=e.toString(),function(t){return r.sub(e,{query:encodeURIComponent(t)})})},_setResultFilters:function(t){var n,s;return t===null?[]:(n=e.AutoCompleteFilters,s=function(e){return o(e)?e:u(e)&&n&&o(n[e])?n[e]:!1},r.isArray(t)?(t=i.map(t,s),i.every(t,function(e){return!!e})?t:f):(t=s(t),t?[t]:f))},_setResultHighlighter:function(t){var n;return this[l](t)?t:(n=e.AutoCompleteHighlighters,u(t)&&n&&o(n[t])?n[t]:f)},_setSource:function(t){var n=this.get("sourceType")||r.type(t),i;return t&&o(t.sendRequest)||t===null||n==="datasource"?(this._rawSource=t,t):(i=T.SOURCE_TYPES[n])?(this._rawSource=t,r.isString(i)?this[i](t):i(t)):(e.error("Unsupported source type '"+n+"'. Maybe autocomplete-sources isn't loaded?"),f)},_sourceSuccess:function(e,t){t.callback.success({data:e,response:{results:e}})},_syncBrowserAutocomplete:function(){var e=this.get(p);e.get("nodeName").toLowerCase()==="input"&&e.setAttribute("autocomplete",this.get(h)?"on":"off")},_updateValue:function(e){var t=this.get(v),n,s,o;e=r.trimLeft(e),t&&(n=a(t),o=i.map(a(this.get(b)).split(t),a),s=o.length,s>1&&(o[s-1]=e,e=o.join(n+" ")),e=e+n+" "),this.set(b,e)},_afterSourceTypeChange:function(e){this._rawSource&&this.set("source",this._rawSource)},_afterValueChange:function(e){var t=e.newVal,n=this,r=e.src===T.UI_SRC,i,s,o,u;r||n._inputNode.set(b,t),o=n.get("minQueryLength"),u=n._parseValue(t)||"",o>=0&&u.length>=o?r?(i=n.get("queryDelay"),s=function(){n.fire(S,{inputValue:t,query:u,src:e.src})},i?(clearTimeout(n._delay),n._delay=setTimeout(s,i)):s()):n._set(d,u):(clearTimeout(n._delay),n.fire(E,{prevVal:e.prevVal?n._parseValue(e.prevVal):null,src:e.src}))},_onInputBlur:function(e){var t=this.get(v),n,i,s;if(t&&!this.get("allowTrailingDelimiter")){t=r.trimRight(t),s=i=this._inputNode.get(b);if(t)while((i=r.trimRight(i))&&(n=i.length-t.length)&&i.lastIndexOf(t)===n)i=i.substring(0,n);else i=r.trimRight(i);i!==s&&this.set(b,i)}},_onInputValueChange:function(e){var t=e.newVal;t!==this.get(b)&&this.set(b,t,{src:T.UI_SRC})},_onResponse:function(e,t){e===(this.get(d)||"")&&this._parseResponse(e||"",t.response,t.data)},_defClearFn:function(){this._set(d,null),this._set(g,[])},_defQueryFn:function(e){this.sendRequest(e.query)},_defResultsFn:function(e){this._set(g,e[g])}},T.ATTRS={allowBrowserAutocomplete:{value:!1},allowTrailingDelimiter:{value:!1},enableCache:{lazyAdd:!1,setter:"_setEnableCache",value:!0},inputNode:{setter:e.one,writeOnce:"initOnly"},maxResults:{value:0},minQueryLength:{value:1},query:{readOnly:!0,value:null},queryDelay:{value:100},queryDelimiter:{value:null},requestTemplate:{setter:"_setRequestTemplate",value:null},resultFilters:{setter:"_setResultFilters",value:[]},resultFormatter
:{validator:l,value:null},resultHighlighter:{setter:"_setResultHighlighter",value:null},resultListLocator:{setter:"_setLocator",value:null},results:{readOnly:!0,value:[]},resultTextLocator:{setter:"_setLocator",value:null},source:{setter:"_setSource",value:null},sourceType:{value:null},tokenInput:{readOnly:!0},value:{value:""}},T._buildCfg={aggregates:["SOURCE_TYPES"],statics:["UI_SRC"]},T.SOURCE_TYPES={array:"_createArraySource","function":"_createFunctionSource",object:"_createObjectSource"},T.UI_SRC=e.Widget&&e.Widget.UI_SRC||"ui",e.AutoCompleteBase=T},"3.18.1",{optional:["autocomplete-sources"],requires:["array-extras","base-build","escape","event-valuechange","node-base"]});
YUI.add("autocomplete-highlighters",function(e,t){var n=e.Array,r=e.Highlight,i=e.mix(e.namespace("AutoCompleteHighlighters"),{charMatch:function(e,t,i){var s=n.unique((i?e:e.toLowerCase()).split(""));return n.map(t,function(e){return r.all(e.text,s,{caseSensitive:i})})},charMatchCase:function(e,t){return i.charMatch(e,t,!0)},phraseMatch:function(e,t,i){return n.map(t,function(t){return r.all(t.text,[e],{caseSensitive:i})})},phraseMatchCase:function(e,t){return i.phraseMatch(e,t,!0)},startsWith:function(e,t,i){return n.map(t,function(t){return r.all(t.text,[e],{caseSensitive:i,startsWith:!0})})},startsWithCase:function(e,t){return i.startsWith(e,t,!0)},subWordMatch:function(t,i,s){var o=e.Text.WordBreak.getUniqueWords(t,{ignoreCase:!s});return n.map(i,function(e){return r.all(e.text,o,{caseSensitive:s})})},subWordMatchCase:function(e,t){return i.subWordMatch(e,t,!0)},wordMatch:function(e,t,i){return n.map(t,function(t){return r.words(t.text,e,{caseSensitive:i})})},wordMatchCase:function(e,t){return i.wordMatch(e,t,!0)}})},"3.18.1",{requires:["array-extras","highlight-base"]});
YUI.add("autocomplete-list-keys",function(e,t){function u(){e.after(this._bindKeys,this,"bindUI"),this._initKeys()}var n=40,r=13,i=27,s=9,o=38;u.prototype={_initKeys:function(){var e={},t={};e[n]=this._keyDown,t[r]=this._keyEnter,t[i]=this._keyEsc,t[s]=this._keyTab,t[o]=this._keyUp,this._keys=e,this._keysVisible=t},destructor:function(){this._unbindKeys()},_bindKeys:function(){this._keyEvents=this._inputNode.on("keydown",this._onInputKey,this)},_unbindKeys:function(){this._keyEvents&&this._keyEvents.detach(),this._keyEvents=null},_keyDown:function(){this.get("visible")?this._activateNextItem():this.show()},_keyEnter:function(e){var t=this.get("activeItem");if(!t)return!1;this.selectItem(t,e)},_keyEsc:function(){this.hide()},_keyTab:function(e){var t;if(this.get("tabSelect")){t=this.get("activeItem");if(t)return this.selectItem(t,e),!0}return!1},_keyUp:function(){this._activatePrevItem()},_onInputKey:function(e){var t,n=e.keyCode;this._lastInputKey=n,this.get("results").length&&(t=this._keys[n],!t&&this.get("visible")&&(t=this._keysVisible[n]),t&&t.call(this,e)!==!1&&e.preventDefault())}},e.Base.mix(e.AutoCompleteList,[u])},"3.18.1",{requires:["autocomplete-list","base-build"]});
YUI.add("autocomplete-plugin",function(e,t){function r(e){e.inputNode=e.host,!e.render&&e.render!==!1&&(e.render=!0),r.superclass.constructor.apply(this,arguments)}var n=e.Plugin;e.extend(r,e.AutoCompleteList,{},{NAME:"autocompleteListPlugin",NS:"ac",CSS_PREFIX:e.ClassNameManager.getClassName("aclist")}),n.AutoComplete=r,n.AutoCompleteList=r},"3.18.1",{requires:["autocomplete-list","node-pluginhost"]});
YUI.add("autocomplete-sources",function(e,t){var n=e.AutoCompleteBase,r=e.Lang,i="_sourceSuccess",s="maxResults",o="requestTemplate",u="resultListLocator";e.mix(n.prototype,{_YQL_SOURCE_REGEX:/^(?:select|set|use)\s+/i,_beforeCreateObjectSource:function(t){return t instanceof e.Node&&t.get("nodeName").toLowerCase()==="select"?this._createSelectSource(t):e.JSONPRequest&&t instanceof e.JSONPRequest?this._createJSONPSource(t):this._createObjectSource(t)},_createIOSource:function(t){function a(n){var o=n.request;if(r._cache&&o in r._cache){r[i](r._cache[o],n);return}s&&s.isInProgress()&&s.abort(),s=e.io(r._getXHRUrl(t,n),{on:{success:function(t,s){var u;try{u=e.JSON.parse(s.responseText)}catch(a){e.error("JSON parse error",a)}u&&(r._cache&&(r._cache[o]=u),r[i](u,n))}}})}var n={type:"io"},r=this,s,o,u;return n.sendRequest=function(t){o=t;if(u)return;u=!0,e.use("io-base","json-parse",function(){n.sendRequest=a,a(o)})},n},_createJSONPSource:function(t){function u(e){var n=e.request,s=e.query;if(r._cache&&n in r._cache){r[i](r._cache[n],e);return}t._config.on.success=function(t){r._cache&&(r._cache[n]=t),r[i](t,e)},t.send(s)}var n={type:"jsonp"},r=this,s,o;return n.sendRequest=function(i){s=i;if(o)return;o=!0,e.use("jsonp",function(){t instanceof e.JSONPRequest||(t=new e.JSONPRequest(t,{format:e.bind(r._jsonpFormatter,r)})),n.sendRequest=u,u(s)})},n},_createSelectSource:function(e){var t=this;return{type:"select",sendRequest:function(n){var r=[];e.get("options").each(function(e){r.push({html:e.get("innerHTML"),index:e.get("index"),node:e,selected:e.get("selected"),text:e.get("text"),value:e.get("value")})}),t[i](r,n)}}},_createStringSource:function(e){return this._YQL_SOURCE_REGEX.test(e)?this._createYQLSource(e):e.indexOf("{callback}")!==-1?this._createJSONPSource(e):this._createIOSource(e)},_createYQLSource:function(t){function c(o){var u=o.query,a=n.get("yqlEnv"),f=n.get(s),c,h,p;p=r.sub(t,{maxResults:f>0?f:1e3,request:o.request,query:u});if(n._cache&&p in n._cache){n[i](n._cache[p],o);return}c=function(e){n._cache&&(n._cache[p]=e),n[i](e,o)},h={proto:n.get("yqlProtocol")},l?(l._callback=c,l._opts=h,l._params.q=p,a&&(l._params.env=a)):l=new e.YQLRequest(p,{on:{success:c},allowCache:!1},a?{env:a}:null,h),l.send()}var n=this,o={type:"yql"},a,f,l;return n.get(u)||n.set(u,n._defaultYQLLocator),o.sendRequest=function(t){a=t,f||(f=!0,e.use("yql",function(){o.sendRequest=c,c(a)}))},o},_defaultYQLLocator:function(t){var n=t&&t.query&&t.query.results,i;return n&&r.isObject(n)?(i=e.Object.values(n)||[],n=i.length===1?i[0]:i,r.isArray(n)||(n=[n])):n=[],n},_getXHRUrl:function(e,t){var n=this.get(s);return t.query!==t.request&&(e+=t.request),r.sub(e,{maxResults:n>0?n:1e3,query:encodeURIComponent(t.query)})},_jsonpFormatter:function(e,t,n){var i=this.get(s),u=this.get(o);return u&&(e+=u(n)),r.sub(e,{callback:t,maxResults:i>0?i:1e3,query:encodeURIComponent(n)})}}),e.mix(n.ATTRS,{yqlEnv:{value:null},yqlProtocol:{value:"http"}}),e.mix(n.SOURCE_TYPES,{io:"_createIOSource",jsonp:"_createJSONPSource",object:"_beforeCreateObjectSource",select:"_createSelectSource",string:"_createStringSource",yql:"_createYQLSource"},!0)},"3.18.1",{optional:["io-base","json-parse","jsonp","yql"],requires:["autocomplete-base"]});
YUI.add("base-base",function(e,t){function o(){i.apply(this,arguments),s.apply(this,arguments),r.apply(this,arguments)}var n=e.AttributeCore,r=e.AttributeExtras,i=e.BaseCore,s=e.BaseObservable;o._ATTR_CFG=i._ATTR_CFG.concat(s._ATTR_CFG),o._NON_ATTRS_CFG=i._NON_ATTRS_CFG.concat(s._NON_ATTRS_CFG),o.NAME="base",o.ATTRS=n.protectAttrs(i.ATTRS),o.modifyAttrs=i.modifyAttrs,e.mix(o,i,!1,null,1),e.mix(o,r,!1,null,1),e.mix(o,s,!0,null,1),o.prototype.constructor=o,e.Base=o},"3.18.1",{requires:["attribute-base","base-core","base-observable"]});
YUI.add("base-build",function(e,t){function f(e,t,n){n[e]&&(t[e]=(t[e]||[]).concat(n[e]))}function l(e,t,n){n._ATTR_CFG&&(t._ATTR_CFG_HASH=null,f.apply(null,arguments))}function c(e,t,r){n.modifyAttrs(t,r.ATTRS)}var n=e.BaseCore,r=e.Base,i=e.Lang,s="initializer",o="destructor",u=["_PLUG","_UNPLUG"],a;r._build=function(t,n,i,u,a,f){var l=r._build,c=l._ctor(n,f),h=l._cfg(n,f,i),p=l._mixCust,d=c._yuibuild.dynamic,v,m,g,y,b,w;for(v=0,m=i.length;v<m;v++)g=i[v],y=g.prototype,b=y[s],w=y[o],delete y[s],delete y[o],e.mix(c,g,!0,null,1),p(c,g,h),b&&(y[s]=b),w&&(y[o]=w),c._yuibuild.exts.push(g);return u&&e.mix(c.prototype,u,!0),a&&(e.mix(c,l._clean(a,h),!0),p(c,a,h)),c.prototype.hasImpl=l._impl,d&&(c.NAME=t,c.prototype.constructor=c,c.modifyAttrs=n.modifyAttrs),c},a=r._build,e.mix(a,{_mixCust:function(t,n,r){var s,o,u,a,f,l;r&&(s=r.aggregates,o=r.custom,u=r.statics),u&&e.mix(t,n,!0,u);if(s)for(l=0,f=s.length;l<f;l++)a=s[l],!t.hasOwnProperty(a)&&n.hasOwnProperty(a)&&(t[a]=i.isArray(n[a])?[]:{}),e.aggregate(t,n,!0,[a]);if(o)for(l in o)o.hasOwnProperty(l)&&o[l](l,t,n)},_tmpl:function(t){function n(){n.superclass.constructor.apply(this,arguments)}return e.extend(n,t),n},_impl:function(e){var t=this._getClasses(),n,r,i,s,o,u;for(n=0,r=t.length;n<r;n++){i=t[n];if(i._yuibuild){s=i._yuibuild.exts,o=s.length;for(u=0;u<o;u++)if(s[u]===e)return!0}}return!1},_ctor:function(e,t){var n=t&&!1===t.dynamic?!1:!0,r=n?a._tmpl(e):e,i=r._yuibuild;return i||(i=r._yuibuild={}),i.id=i.id||null,i.exts=i.exts||[],i.dynamic=n,r},_cfg:function(t,n,r){var i=[],s={},o=[],u,a=n&&n.aggregates,f=n&&n.custom,l=n&&n.statics,c=t,h,p;while(c&&c.prototype)u=c._buildCfg,u&&(u.aggregates&&(i=i.concat(u.aggregates)),u.custom&&e.mix(s,u.custom,!0),u.statics&&(o=o.concat(u.statics))),c=c.superclass?c.superclass.constructor:null;if(r)for(h=0,p=r.length;h<p;h++)c=r[h],u=c._buildCfg,u&&(u.aggregates&&(i=i.concat(u.aggregates)),u.custom&&e.mix(s,u.custom,!0),u.statics&&(o=o.concat(u.statics)));return a&&(i=i.concat(a)),f&&e.mix(s,n.cfgBuild,!0),l&&(o=o.concat(l)),{aggregates:i,custom:s,statics:o}},_clean:function(t,n){var r,i,s,o=e.merge(t),u=n.aggregates,a=n.custom;for(r in a)o.hasOwnProperty(r)&&delete o[r];for(i=0,s=u.length;i<s;i++)r=u[i],o.hasOwnProperty(r)&&delete o[r];return o}}),r.build=function(e,t,n,r){return a(e,t,n,null,null,r)},r.create=function(e,t,n,r,i){return a(e,t,n,r,i)},r.mix=function(e,t){return e._CACHED_CLASS_DATA&&(e._CACHED_CLASS_DATA=null),a(null,e,t,null,null,{dynamic:!1})},n._buildCfg={aggregates:u.concat(),custom:{ATTRS:c,_ATTR_CFG:l,_NON_ATTRS_CFG:f}},r._buildCfg={aggregates:u.concat(),custom:{ATTRS:c,_ATTR_CFG:l,_NON_ATTRS_CFG:f}}},"3.18.1",{requires:["base-base"]});
YUI.add("base-core",function(e,t){function v(e){this._BaseInvoked||(this._BaseInvoked=!0,this._initBase(e))}var n=e.Object,r=e.Lang,i=".",s="initialized",o="destroyed",u="initializer",a="value",f=Object.prototype.constructor,l="deep",c="shallow",h="destructor",p=e.AttributeCore,d=function(e,t,n){var r;for(r in t)n[r]&&(e[r]=t[r]);return e};v._ATTR_CFG=p._ATTR_CFG.concat("cloneDefaultValue"),v._NON_ATTRS_CFG=["plugins"],v.NAME="baseCore",v.ATTRS={initialized:{readOnly:!0,value:!1},destroyed:{readOnly:!0,value:!1}},v.modifyAttrs=function(t,n){typeof t!="function"&&(n=t,t=this);var r,i,s;r=t.ATTRS||(t.ATTRS={});if(n){t._CACHED_CLASS_DATA=null;for(s in n)n.hasOwnProperty(s)&&(i=r[s]||(r[s]={}),e.mix(i,n[s],!0))}},v.prototype={_initBase:function(t){e.stamp(this),this._initAttribute(t);var n=e.Plugin&&e.Plugin.Host;this._initPlugins&&n&&n.call(this),this._lazyAddAttrs!==!1&&(this._lazyAddAttrs=!0),this.name=this.constructor.NAME,this.init.apply(this,arguments)},_initAttribute:function(){p.call(this)},init:function(e){return this._baseInit(e),this},_baseInit:function(e){this._initHierarchy(e),this._initPlugins&&this._initPlugins(e),this._set(s,!0)},destroy:function(){return this._baseDestroy(),this},_baseDestroy:function(){this._destroyPlugins&&this._destroyPlugins(),this._destroyHierarchy(),this._set(o,!0)},_getClasses:function(){return this._classes||this._initHierarchyData(),this._classes},_getAttrCfgs:function(){return this._attrs||this._initHierarchyData(),this._attrs},_getInstanceAttrCfgs:function(e){var t={},r,i,s,o,u,a,f,l=e._subAttrs,c=this._attrCfgHash();for(a in e)if(e.hasOwnProperty(a)&&a!=="_subAttrs"){f=e[a],r=t[a]=d({},f,c),i=r.value,i&&typeof i=="object"&&this._cloneDefaultValue(a,r);if(l&&l.hasOwnProperty(a)){o=e._subAttrs[a];for(u in o)s=o[u],s.path&&n.setValue(r.value,s.path,s.value)}}return t},_filterAdHocAttrs:function(e,t){var n,r=this._nonAttrs,i;if(t){n={};for(i in t)!e[i]&&!r[i]&&t.hasOwnProperty(i)&&(n[i]={value:t[i]})}return n},_initHierarchyData:function(){var e=this.constructor,t=e._CACHED_CLASS_DATA,n,r,i,s,o,u=!e._ATTR_CFG_HASH,a,f={},l=[],c=[];n=e;if(!t){while(n){l[l.length]=n,n.ATTRS&&(c[c.length]=n.ATTRS);if(u){s=n._ATTR_CFG,o=o||{};if(s)for(r=0,i=s.length;r<i;r+=1)o[s[r]]=!0}a=n._NON_ATTRS_CFG;if(a)for(r=0,i=a.length;r<i;r++)f[a[r]]=!0;n=n.superclass?n.superclass.constructor:null}u&&(e._ATTR_CFG_HASH=o),t=e._CACHED_CLASS_DATA={classes:l,nonAttrs:f,attrs:this._aggregateAttrs(c)}}this._classes=t.classes,this._attrs=t.attrs,this._nonAttrs=t.nonAttrs},_attrCfgHash:function(){return this.constructor._ATTR_CFG_HASH},_cloneDefaultValue:function(t,n){var i=n.value,s=n.cloneDefaultValue;s===l||s===!0?n.value=e.clone(i):s===c?n.value=e.merge(i):s===undefined&&(f===i.constructor||r.isArray(i))&&(n.value=e.clone(i))},_aggregateAttrs:function(e){var t,n,r,s,o,u,f=this._attrCfgHash(),l,c={};if(e)for(u=e.length-1;u>=0;--u){n=e[u];for(t in n)n.hasOwnProperty(t)&&(s=d({},n[t],f),o=null,t.indexOf(i)!==-1&&(o=t.split(i),t=o.shift()),l=c[t],o&&l&&l.value?(r=c._subAttrs,r||(r=c._subAttrs={}),r[t]||(r[t]={}),r[t][o.join(i)]={value:s.value,path:o}):o||(l?(l.valueFn&&a in s&&(l.valueFn=null),d(l,s,f)):c[t]=s))}return c},_initHierarchy:function(e){var t=this._lazyAddAttrs,n,r,i,s,o,a,f,l,c,h,p,d=[],v=this._getClasses(),m=this._getAttrCfgs(),g=v.length-1;for(o=g;o>=0;o--){n=v[o],r=n.prototype,h=n._yuibuild&&n._yuibuild.exts,r.hasOwnProperty(u)&&(d[d.length]=r.initializer);if(h)for(a=0,f=h.length;a<f;a++)l=h[a],l.apply(this,arguments),c=l.prototype,c.hasOwnProperty(u)&&(d[d.length]=c.initializer)}p=this._getInstanceAttrCfgs(m),this._preAddAttrs&&this._preAddAttrs(p,e,t),this._allowAdHocAttrs&&this.addAttrs(this._filterAdHocAttrs(m,e),e,t),this.addAttrs(p,e,t);for(i=0,s=d.length;i<s;i++)d[i].apply(this,arguments)},_destroyHierarchy:function(){var e,t,n,r,i,s,o,u,a=this._getClasses();for(n=0,r=a.length;n<r;n++){e=a[n],t=e.prototype,o=e._yuibuild&&e._yuibuild.exts;if(o)for(i=0,s=o.length;i<s;i++)u=o[i].prototype,u.hasOwnProperty(h)&&u.destructor.apply(this,arguments);t.hasOwnProperty(h)&&t.destructor.apply(this,arguments)}},toString:function(){return this.name+"["+e.stamp(this,!0)+"]"}},e.mix(v,p,!1,null,1),v.prototype.constructor=v,e.BaseCore=v},"3.18.1",{requires:["attribute-core"]});
YUI.add("base-observable",function(e,t){function f(){}var n=e.Lang,r="destroy",i="init",s="bubbleTargets",o="_bubbleTargets",u=e.AttributeObservable,a=e.BaseCore;f._ATTR_CFG=u._ATTR_CFG.concat(),f._NON_ATTRS_CFG=["on","after","bubbleTargets"],f.prototype={_initAttribute:function(){a.prototype._initAttribute.apply(this,arguments),u.call(this),this._eventPrefix=this.constructor.EVENT_PREFIX||this.constructor.NAME,this._yuievt.config.prefix=this._eventPrefix},init:function(e){var t=this._getFullType(i),n=this._publish(t);return n.emitFacade=!0,n.fireOnce=!0,n.defaultTargetOnly=!0,n.defaultFn=this._defInitFn,this._preInitEventCfg(e),n._hasPotentialSubscribers()?this.fire(t,{cfg:e}):(this._baseInit(e),n.fired=!0,n.firedWith=[{cfg:e}]),this},_preInitEventCfg:function(e){e&&(e.on&&this.on(e.on),e.after&&this.after(e.after));var t,r,i,u=e&&s in e;if(u||o in this){i=u?e&&e.bubbleTargets:this._bubbleTargets;if(n.isArray(i))for(t=0,r=i.length;t<r;t++)this.addTarget(i[t]);else i&&this.addTarget(i)}},destroy:function(){return this.publish(r,{fireOnce:!0,defaultTargetOnly:!0,defaultFn:this._defDestroyFn}),this.fire(r),this.detachAll(),this},_defInitFn:function(e){this._baseInit(e.cfg)},_defDestroyFn:function(e){this._baseDestroy(e.cfg)}},e.mix(f,u,!1,null,1),e.BaseObservable=f},"3.18.1",{requires:["attribute-observable","base-core"]});
YUI.add("base-pluginhost",function(e,t){var n=e.Base,r=e.Plugin.Host;e.mix(n,r,!1,null,1),n.plug=r.plug,n.unplug=r.unplug},"3.18.1",{requires:["base-base","pluginhost"]});
YUI.add("classnamemanager",function(e,t){var n="classNamePrefix",r="classNameDelimiter",i=e.config;i[n]=i[n]||"yui3",i[r]=i[r]||"-",e.ClassNameManager=function(){var t=i[n],s=i[r];return{getClassName:e.cached(function(){var n=e.Array(arguments);return n[n.length-1]!==!0?n.unshift(t):n.pop(),n.join(s)})}}()},"3.18.1",{requires:["yui-base"]});
YUI.add("color-base",function(e,t){var n=/^#?([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})(\ufffe)?/,r=/^#?([\da-fA-F]{1})([\da-fA-F]{1})([\da-fA-F]{1})(\ufffe)?/,i=/rgba?\(([\d]{1,3}), ?([\d]{1,3}), ?([\d]{1,3}),? ?([.\d]*)?\)/,s={HEX:"hex",RGB:"rgb",RGBA:"rgba"},o={hex:"toHex",rgb:"toRGB",rgba:"toRGBA"};e.Color={KEYWORDS:{black:"000",silver:"c0c0c0",gray:"808080",white:"fff",maroon:"800000",red:"f00",purple:"800080",fuchsia:"f0f",green:"008000",lime:"0f0",olive:"808000",yellow:"ff0",navy:"000080",blue:"00f",teal:"008080",aqua:"0ff"},REGEX_HEX:n,REGEX_HEX3:r,REGEX_RGB:i,re_RGB:i,re_hex:n,re_hex3:r,STR_HEX:"#{*}{*}{*}",STR_RGB:"rgb({*}, {*}, {*})",STR_RGBA:"rgba({*}, {*}, {*}, {*})",TYPES:s,CONVERTS:o,convert:function(t,n){var r=e.Color.CONVERTS[n.toLowerCase()],i=t;return r&&e.Color[r]&&(i=e.Color[r](t)),i},toHex:function(t){var n=e.Color._convertTo(t,"hex"),r=n.toLowerCase()==="transparent";return n.charAt(0)!=="#"&&!r&&(n="#"+n),r?n.toLowerCase():n.toUpperCase()},toRGB:function(t){var n=e.Color._convertTo(t,"rgb");return n.toLowerCase()},toRGBA:function(t){var n=e.Color._convertTo(t,"rgba");return n.toLowerCase()},toArray:function(t){var n=e.Color.findType(t).toUpperCase(),r,i,s,o;return n==="HEX"&&t.length<5&&(n="HEX3"),n.charAt(n.length-1)==="A"&&(n=n.slice(0,-1)),r=e.Color["REGEX_"+n],r&&(i=r.exec(t)||[],s=i.length,s&&(i.shift(),s--,n==="HEX3"&&(i[0]+=i[0],i[1]+=i[1],i[2]+=i[2]),o=i[s-1],o||(i[s-1]=1))),i},fromArray:function(t,n){t=t.concat();if(typeof n=="undefined")return t.join(", ");var r="{*}";n=e.Color["STR_"+n.toUpperCase()],t.length===3&&n.match(/\{\*\}/g).length===4&&t.push(1);while(n.indexOf(r)>=0&&t.length>0)n=n.replace(r,t.shift());return n},findType:function(t){if(e.Color.KEYWORDS[t])return"keyword";var n=t.indexOf("("),r;return n>0&&(r=t.substr(0,n)),r&&e.Color.TYPES[r.toUpperCase()]?e.Color.TYPES[r.toUpperCase()]:"hex"},_getAlpha:function(t){var n,r=e.Color.toArray(t);return r.length>3&&(n=r.pop()),+n||1},_keywordToHex:function(t){var n=e.Color.KEYWORDS[t];if(n)return n},_convertTo:function(t,n){if(t==="transparent")return t;var r=e.Color.findType(t),i=n,s,o,u,a;return r==="keyword"&&(t=e.Color._keywordToHex(t),r="hex"),r==="hex"&&t.length<5&&(t.charAt(0)==="#"&&(t=t.substr(1)),t="#"+t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),r===n?t:(r.charAt(r.length-1)==="a"&&(r=r.slice(0,-1)),s=n.charAt(n.length-1)==="a",s&&(n=n.slice(0,-1),o=e.Color._getAlpha(t)),a=n.charAt(0).toUpperCase()+n.substr(1).toLowerCase(),u=e.Color["_"+r+"To"+a],u||r!=="rgb"&&n!=="rgb"&&(t=e.Color["_"+r+"ToRgb"](t),r="rgb",u=e.Color["_"+r+"To"+a]),u&&(t=u(t,s)),s&&(e.Lang.isArray(t)||(t=e.Color.toArray(t)),t.push(o),t=e.Color.fromArray(t,i.toUpperCase())),t)},_hexToRgb:function(e,t){var n,r,i;return e.charAt(0)==="#"&&(e=e.substr(1)),e=parseInt(e,16),n=e>>16,r=e>>8&255,i=e&255,t?[n,r,i]:"rgb("+n+", "+r+", "+i+")"},_rgbToHex:function(t){var n=e.Color.toArray(t),r=n[2]|n[1]<<8|n[0]<<16;r=(+r).toString(16);while(r.length<6)r="0"+r;return"#"+r}}},"3.18.1",{requires:["yui-base"]});
YUI.add("cookie",function(e,t){function h(e){throw new TypeError(e)}function p(e){(!s(e)||e==="")&&h("Cookie name must be a non-empty string.")}function d(e){(!s(e)||e==="")&&h("Subcookie name must be a non-empty string.")}var n=e.Lang,r=e.Object,i=null,s=n.isString,o=n.isObject,u=n.isUndefined,a=n.isFunction,f=encodeURIComponent,l=decodeURIComponent,c=e.config.doc;e.Cookie={_createCookieString:function(e,t,n,r){r=r||{};var i=f(e)+"="+(n?f(t):t),u=r.expires,a=r.path,l=r.domain;return o(r)&&(u instanceof Date&&(i+="; expires="+u.toUTCString()),s(a)&&a!==""&&(i+="; path="+a),s(l)&&l!==""&&(i+="; domain="+l),r.secure===!0&&(i+="; secure")),i},_createCookieHashString:function(e){o(e)||h("Cookie._createCookieHashString(): Argument must be an object.");var t=[];return r.each(e,function(e,n){!a(e)&&!u(e)&&t.push(f(n)+"="+f(String(e)))}),t.join("&")},_parseCookieHash:function(e){var t=e.split("&"),n=i,r={};if(e.length)for(var s=0,o=t.length;s<o;s++)n=t[s].split("="),r[l(n[0])]=l(n[1]);return r},_parseCookieString:function(e,t,n){var r={};if(s(e)&&e.length>0){var o=t===!1?function(e){return e}:l,a=e.split(/;\s/g),f=i,c=i,h=i;for(var p=0,d=a.length;p<d;p++){h=a[p].match(/([^=]+)=/i);if(h instanceof Array)try{f=l(h[1]),c=o(a[p].substring(h[1].length+1))}catch(v){}else f=l(a[p]),c="";!u(n)&&n.reverseCookieLoading?u(r[f])&&(r[f]=c):r[f]=c}}return r},_setDoc:function(e){c=e},exists:function(e){p(e);var t=this._parseCookieString(c.cookie,!0);return t.hasOwnProperty(e)},get:function(e,t){p(e);var n,r,s;return a(t)?(s=t,t={}):o(t)?s=t.converter:t={},n=this._parseCookieString(c.cookie,!t.raw,t),r=n[e],u(r)?i:a(s)?s(r):r},getSub:function(e,t,n,r){var s=this.getSubs(e,r);return s!==i?(d(t),u(s[t])?i:a(n)?n(s[t]):s[t]):i},getSubs:function(e,t){p(e);var n=this._parseCookieString(c.cookie,!1,t);return s(n[e])?this._parseCookieHash(n[e]):i},remove:function(t,n){return p(t),n=e.merge(n||{},{expires:new Date(0)}),this.set(t,"",n)},removeSub:function(e,t,n){p(e),d(t),n=n||{};var r=this.getSubs(e);if(o(r)&&r.hasOwnProperty(t)){delete r[t];if(!n.removeIfEmpty)return this.setSubs(e,r,n);for(var i in r)if(r.hasOwnProperty(i)&&!a(r[i])&&!u(r[i]))return this.setSubs(e,r,n);return this.remove(e,n)}return""},set:function(e,t,n){p(e),u(t)&&h("Cookie.set(): Value cannot be undefined."),n=n||{};var r=this._createCookieString(e,t,!n.raw,n);return c.cookie=r,r},setSub:function(e,t,n,r){p(e),d(t),u(n)&&h("Cookie.setSub(): Subcookie value cannot be undefined.");var i=this.getSubs(e);return o(i)||(i={}),i[t]=n,this.setSubs(e,i,r)},setSubs:function(e,t,n){p(e),o(t)||h("Cookie.setSubs(): Cookie value must be an object.");var r=this._createCookieString(e,this._createCookieHashString(t),!1,n);return c.cookie=r,r}}},"3.18.1",{requires:["yui-base"]});
YUI.add("datatype-xml-parse",function(e,t){e.mix(e.namespace("XML"),{parse:function(t){var n=null,r;return typeof t=="string"&&(r=e.config.win,r.ActiveXObject!==undefined?(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(t)):r.DOMParser!==undefined?n=(new DOMParser).parseFromString(t,"text/xml"):r.Windows!==undefined&&(n=new Windows.Data.Xml.Dom.XmlDocument,n.loadXml(t))),n===null||n.documentElement===null||n.documentElement.nodeName==="parsererror",n}}),e.namespace("Parsers").xml=e.XML.parse,e.namespace("DataType"),e.DataType.XML=e.XML},"3.18.1");
YUI.add("dom-base",function(e,t){var n=e.config.doc.documentElement,r=e.DOM,i="tagName",s="ownerDocument",o="",u=e.Features.add,a=e.Features.test;e.mix(r,{getText:n.textContent!==undefined?function(e){var t="";return e&&(t=e.textContent),t||""}:function(e){var t="";return e&&(t=e.innerText||e.nodeValue),t||""},setText:n.textContent!==undefined?function(e,t){e&&(e.textContent=t)}:function(e,t){"innerText"in e?e.innerText=t:"nodeValue"in e&&(e.nodeValue=t)},CUSTOM_ATTRIBUTES:n.hasAttribute?{htmlFor:"for",className:"class"}:{"for":"htmlFor","class":"className"},setAttribute:function(e,t,n,i){e&&t&&e.setAttribute&&(t=r.CUSTOM_ATTRIBUTES[t]||t,e.setAttribute(t,n,i))},getAttribute:function(e,t,n){n=n!==undefined?n:2;var i="";return e&&t&&e.getAttribute&&(t=r.CUSTOM_ATTRIBUTES[t]||t,i=e.tagName==="BUTTON"&&t==="value"?r.getValue(e):e.getAttribute(t,n),i===null&&(i="")),i},VALUE_SETTERS:{},VALUE_GETTERS:{},getValue:function(e){var t="",n;return e&&e[i]&&(n=r.VALUE_GETTERS[e[i].toLowerCase()],n?t=n(e):t=e.value),t===o&&(t=o),typeof t=="string"?t:""},setValue:function(e,t){var n;e&&e[i]&&(n=r.VALUE_SETTERS[e[i].toLowerCase()],t=t===null?"":t,n?n(e,t):e.value=t)},creators:{}}),u("value-set","select",{test:function(){var t=e.config.doc.createElement("select");return t.innerHTML="<option>1</option><option>2</option>",t.value="2",t.value&&t.value==="2"}}),a("value-set","select")||(r.VALUE_SETTERS.select=function(e,t){for(var n=0,i=e.getElementsByTagName("option"),s;s=i[n++];)if(r.getValue(s)===t){s.selected=!0;break}}),e.mix(r.VALUE_GETTERS,{button:function(e){return e.attributes&&e.attributes.value?e.attributes.value.value:""}}),e.mix(r.VALUE_SETTERS,{button:function(e,t){var n=e.attributes.value;n||(n=e[s].createAttribute("value"),e.setAttributeNode(n)),n.value=t}}),e.mix(r.VALUE_GETTERS,{option:function(e){var t=e.attributes;return t.value&&t.value.specified?e.value:e.text},select:function(e){var t=e.value,n=e.options;return n&&n.length&&(e.multiple||e.selectedIndex>-1&&(t=r.getValue(n[e.selectedIndex]))),t}});var f,l,c;e.mix(e.DOM,{hasClass:function(t,n){var r=e.DOM._getRegExp("(?:^|\\s+)"+n+"(?:\\s+|$)");return r.test(t.className)},addClass:function(t,n){e.DOM.hasClass(t,n)||(t.className=e.Lang.trim([t.className,n].join(" ")))},removeClass:function(t,n){n&&l(t,n)&&(t.className=e.Lang.trim(t.className.replace(e.DOM._getRegExp("(?:^|\\s+)"+n+"(?:\\s+|$)")," ")),l(t,n)&&c(t,n))},replaceClass:function(e,t,n){c(e,t),f(e,n)},toggleClass:function(e,t,n){var r=n!==undefined?n:!l(e,t);r?f(e,t):c(e,t)}}),l=e.DOM.hasClass,c=e.DOM.removeClass,f=e.DOM.addClass;var h=/<([a-z]+)/i,r=e.DOM,u=e.Features.add,a=e.Features.test,p={},d=function(t,n){var r=e.config.doc.createElement("div"),i=!0;r.innerHTML=t;if(!r.firstChild||r.firstChild.tagName!==n.toUpperCase())i=!1;return i},v=/(?:\/(?:thead|tfoot|tbody|caption|col|colgroup)>)+\s*<tbody/,m="<table>",g="</table>",y;e.mix(e.DOM,{_fragClones:{},_create:function(e,t,n){n=n||"div";var i=r._fragClones[n];return i?i=i.cloneNode(!1):i=r._fragClones[n]=t.createElement(n),i.innerHTML=e,i},_children:function(e,t){var n=0,r=e.children,i,s,o;r&&r.tags&&(t?r=e.children.tags(t):s=r.tags("!").length);if(!r||!r.tags&&t||s){i=r||e.childNodes,r=[];while(o=i[n++])o.nodeType===1&&(!t||t===o.tagName)&&r.push(o)}return r||[]},create:function(t,n){typeof t=="string"&&(t=e.Lang.trim(t)),n=n||e.config.doc;var i=h.exec(t),s=r._create,o=p,u=null,a,f,l,c;return t!=undefined&&(i&&i[1]&&(a=o[i[1].toLowerCase()],typeof a=="function"?s=a:f=a),l=s(t,n,f),c=l.childNodes,c.length===1?u=l.removeChild(c[0]):c[0]&&c[0].className==="yui3-big-dummy"?(y=l.selectedIndex,c.length===2?u=c[0].nextSibling:(l.removeChild(c[0]),u=r._nl2frag(c,n))):u=r._nl2frag(c,n)),u},_nl2frag:function(t,n){var r=null,i,s;if(t&&(t.push||t.item)&&t[0]){n=n||t[0].ownerDocument,r=n.createDocumentFragment(),t.item&&(t=e.Array(t,0,!0));for(i=0,s=t.length;i<s;i++)r.appendChild(t[i])}return r},addHTML:function(t,n,i){var s=t.parentNode,o=0,u,a=n,f;if(n!=undefined)if(n.nodeType)f=n;else if(typeof n=="string"||typeof n=="number")a=f=r.create(n);else if(n[0]&&n[0].nodeType){f=e.config.doc.createDocumentFragment();while(u=n[o++])f.appendChild(u)}if(i)if(f&&i.parentNode)i.parentNode.insertBefore(f,i);else switch(i){case"replace":while(t.firstChild)t.removeChild(t.firstChild);f&&t.appendChild(f);break;case"before":f&&s.insertBefore(f,t);break;case"after":f&&(t.nextSibling?s.insertBefore(f,t.nextSibling):s.appendChild(f));break;default:f&&t.appendChild(f)}else f&&t.appendChild(f);return t.nodeName=="SELECT"&&y>0&&(t.selectedIndex=y-1),a},wrap:function(t,n){var r=n&&n.nodeType?n:e.DOM.create(n),i=r.getElementsByTagName("*");i.length&&(r=i[i.length-1]),t.parentNode&&t.parentNode.replaceChild(r,t),r.appendChild(t)},unwrap:function(e){var t=e.parentNode,n=t.lastChild,r=e,i;if(t){i=t.parentNode;if(i){e=t.firstChild;while(e!==n)r=e.nextSibling,i.insertBefore(e,t),e=r;i.replaceChild(n,t)}else t.removeChild(e)}}}),u("innerhtml","table",{test:function(){var t=e.config.doc.createElement("table");try{t.innerHTML="<tbody></tbody>"}catch(n){return!1}return t.firstChild&&t.firstChild.nodeName==="TBODY"}}),u("innerhtml-div","tr",{test:function(){return d("<tr></tr>","tr")}}),u("innerhtml-div","script",{test:function(){return d("<script></script>","script")}}),a("innerhtml","table")||(p.tbody=function(t,n){var i=r.create(m+t+g,n),s=e.DOM._children(i,"tbody")[0];return i.children.length>1&&s&&!v.test(t)&&s.parentNode.removeChild(s),i}),a("innerhtml-div","script")||(p.script=function(e,t){var n=t.createElement("div");return n.innerHTML="-"+e,n.removeChild(n.firstChild),n},p.link=p.style=p.script),a("innerhtml-div","tr")||(e.mix(p,{option:function(e,t){return r.create('<select><option class="yui3-big-dummy" selected></option>'+e+"</select>",t)},tr:function(e,t){return r.create("<tbody>"+e+"</tbody>",t)},td:function(e,t){return r.create("<tr>"+e+"</tr>",t)},col:function(e,t){return r.create("<colgroup>"+e+"</colgroup>",t)},tbody:"table"}),e.mix(p,{legend:"fieldset"
,th:p.td,thead:p.tbody,tfoot:p.tbody,caption:p.tbody,colgroup:p.tbody,optgroup:p.option})),r.creators=p,e.mix(e.DOM,{setWidth:function(t,n){e.DOM._setSize(t,"width",n)},setHeight:function(t,n){e.DOM._setSize(t,"height",n)},_setSize:function(e,t,n){n=n>0?n:0;var r=0;e.style[t]=n+"px",r=t==="height"?e.offsetHeight:e.offsetWidth,r>n&&(n-=r-n,n<0&&(n=0),e.style[t]=n+"px")}})},"3.18.1",{requires:["dom-core"]});
YUI.add("dom-core",function(e,t){var n="nodeType",r="ownerDocument",i="documentElement",s="defaultView",o="parentWindow",u="tagName",a="parentNode",f="previousSibling",l="nextSibling",c="contains",h="compareDocumentPosition",p=[],d=function(){var t=e.config.doc.createElement("div"),n=t.appendChild(e.config.doc.createTextNode("")),r=!1;try{r=t.contains(n)}catch(i){}return r}(),v={byId:function(e,t){return v.allById(e,t)[0]||null},getId:function(e){var t;return e.id&&!e.id.tagName&&!e.id.item?t=e.id:e.attributes&&e.attributes.id&&(t=e.attributes.id.value),t},setId:function(e,t){e.setAttribute?e.setAttribute("id",t):e.id=t},ancestor:function(e,t,n,r){var i=null;return n&&(i=!t||t(e)?e:null),i||v.elementByAxis(e,a,t,null,r)},ancestors:function(e,t,n,r){var i=e,s=[];while(i=v.ancestor(i,t,n,r)){n=!1;if(i){s.unshift(i);if(r&&r(i))return s}}return s},elementByAxis:function(e,t,n,r,i){while(e&&(e=e[t])){if((r||e[u])&&(!n||n(e)))return e;if(i&&i(e))return null}return null},contains:function(e,t){var r=!1;if(!t||!e||!t[n]||!e[n])r=!1;else if(e[c]&&(t[n]===1||d))r=e[c](t);else if(e[h]){if(e===t||!!(e[h](t)&16))r=!0}else r=v._bruteContains(e,t);return r},inDoc:function(e,t){var n=!1,s;return e&&e.nodeType&&(t||(t=e[r]),s=t[i],s&&s.contains&&e.tagName?n=s.contains(e):n=v.contains(s,e)),n},allById:function(t,n){n=n||e.config.doc;var r=[],i=[],s,o;if(n.querySelectorAll)i=n.querySelectorAll('[id="'+t+'"]');else if(n.all){r=n.all(t);if(r){r.nodeName&&(r.id===t?(i.push(r),r=p):r=[r]);if(r.length)for(s=0;o=r[s++];)(o.id===t||o.attributes&&o.attributes.id&&o.attributes.id.value===t)&&i.push(o)}}else i=[v._getDoc(n).getElementById(t)];return i},isWindow:function(e){return!!(e&&e.scrollTo&&e.document)},_removeChildNodes:function(e){while(e.firstChild)e.removeChild(e.firstChild)},siblings:function(e,t){var n=[],r=e;while(r=r[f])r[u]&&(!t||t(r))&&n.unshift(r);r=e;while(r=r[l])r[u]&&(!t||t(r))&&n.push(r);return n},_bruteContains:function(e,t){while(t){if(e===t)return!0;t=t.parentNode}return!1},_getRegExp:function(e,t){return t=t||"",v._regexCache=v._regexCache||{},v._regexCache[e+t]||(v._regexCache[e+t]=new RegExp(e,t)),v._regexCache[e+t]},_getDoc:function(t){var i=e.config.doc;return t&&(i=t[n]===9?t:t[r]||t.document||e.config.doc),i},_getWin:function(t){var n=v._getDoc(t);return n[s]||n[o]||e.config.win},_batch:function(e,t,n,r,i,s){t=typeof t=="string"?v[t]:t;var o,u=0,a,f;if(t&&e)while(a=e[u++])o=o=t.call(v,a,n,r,i,s),typeof o!="undefined"&&(f||(f=[]),f.push(o));return typeof f!="undefined"?f:e},generateID:function(t){var n=t.id;return n||(n=e.stamp(t),t.id=n),n}};e.DOM=v},"3.18.1",{requires:["oop","features"]});
YUI.add("dom-screen",function(e,t){(function(e){var t="documentElement",n="compatMode",r="position",i="fixed",s="relative",o="left",u="top",a="BackCompat",f="medium",l="borderLeftWidth",c="borderTopWidth",h="getBoundingClientRect",p="getComputedStyle",d=e.DOM,v=/^t(?:able|d|h)$/i,m;e.UA.ie&&(e.config.doc[n]!=="BackCompat"?m=t:m="body"),e.mix(d,{winHeight:function(e){var t=d._getWinSize(e).height;return t},winWidth:function(e){var t=d._getWinSize(e).width;return t},docHeight:function(e){var t=d._getDocSize(e).height;return Math.max(t,d._getWinSize(e).height)},docWidth:function(e){var t=d._getDocSize(e).width;return Math.max(t,d._getWinSize(e).width)},docScrollX:function(n,r){r=r||n?d._getDoc(n):e.config.doc;var i=r.defaultView,s=i?i.pageXOffset:0;return Math.max(r[t].scrollLeft,r.body.scrollLeft,s)},docScrollY:function(n,r){r=r||n?d._getDoc(n):e.config.doc;var i=r.defaultView,s=i?i.pageYOffset:0;return Math.max(r[t].scrollTop,r.body.scrollTop,s)},getXY:function(){return e.config.doc[t][h]?function(r){var i=null,s,o,u,f,l,c,p,v,g,y;if(r&&r.tagName){p=r.ownerDocument,u=p[n],u!==a?y=p[t]:y=p.body,y.contains?g=y.contains(r):g=e.DOM.contains(y,r);if(g){v=p.defaultView,v&&"pageXOffset"in v?(s=v.pageXOffset,o=v.pageYOffset):(s=m?p[m].scrollLeft:d.docScrollX(r,p),o=m?p[m].scrollTop:d.docScrollY(r,p)),e.UA.ie&&(!p.documentMode||p.documentMode<8||u===a)&&(l=y.clientLeft,c=y.clientTop),f=r[h](),i=[f.left,f.top];if(l||c)i[0]-=l,i[1]-=c;if(o||s)if(!e.UA.ios||e.UA.ios>=4.2)i[0]+=s,i[1]+=o}else i=d._getOffset(r)}return i}:function(t){var n=null,s,o,u,a,f;if(t)if(d.inDoc(t)){n=[t.offsetLeft,t.offsetTop],s=t.ownerDocument,o=t,u=e.UA.gecko||e.UA.webkit>519?!0:!1;while(o=o.offsetParent)n[0]+=o.offsetLeft,n[1]+=o.offsetTop,u&&(n=d._calcBorders(o,n));if(d.getStyle(t,r)!=i){o=t;while(o=o.parentNode){a=o.scrollTop,f=o.scrollLeft,e.UA.gecko&&d.getStyle(o,"overflow")!=="visible"&&(n=d._calcBorders(o,n));if(a||f)n[0]-=f,n[1]-=a}n[0]+=d.docScrollX(t,s),n[1]+=d.docScrollY(t,s)}else n[0]+=d.docScrollX(t,s),n[1]+=d.docScrollY(t,s)}else n=d._getOffset(t);return n}}(),getScrollbarWidth:e.cached(function(){var t=e.config.doc,n=t.createElement("div"),r=t.getElementsByTagName("body")[0],i=.1;return r&&(n.style.cssText="position:absolute;visibility:hidden;overflow:scroll;width:20px;",n.appendChild(t.createElement("p")).style.height="1px",r.insertBefore(n,r.firstChild),i=n.offsetWidth-n.clientWidth,r.removeChild(n)),i},null,.1),getX:function(e){return d.getXY(e)[0]},getY:function(e){return d.getXY(e)[1]},setXY:function(e,t,n){var i=d.setStyle,a,f,l,c;e&&t&&(a=d.getStyle(e,r),f=d._getOffset(e),a=="static"&&(a=s,i(e,r,a)),c=d.getXY(e),t[0]!==null&&i(e,o,t[0]-c[0]+f[0]+"px"),t[1]!==null&&i(e,u,t[1]-c[1]+f[1]+"px"),n||(l=d.getXY(e),(l[0]!==t[0]||l[1]!==t[1])&&d.setXY(e,t,!0)))},setX:function(e,t){return d.setXY(e,[t,null])},setY:function(e,t){return d.setXY(e,[null,t])},swapXY:function(e,t){var n=d.getXY(e);d.setXY(e,d.getXY(t)),d.setXY(t,n)},_calcBorders:function(t,n){var r=parseInt(d[p](t,c),10)||0,i=parseInt(d[p](t,l),10)||0;return e.UA.gecko&&v.test(t.tagName)&&(r=0,i=0),n[0]+=i,n[1]+=r,n},_getWinSize:function(r,i){i=i||r?d._getDoc(r):e.config.doc;var s=i.defaultView||i.parentWindow,o=i[n],u=s.innerHeight,a=s.innerWidth,f=i[t];return o&&!e.UA.opera&&(o!="CSS1Compat"&&(f=i.body),u=f.clientHeight,a=f.clientWidth),{height:u,width:a}},_getDocSize:function(r){var i=r?d._getDoc(r):e.config.doc,s=i[t];return i[n]!="CSS1Compat"&&(s=i.body),{height:s.scrollHeight,width:s.scrollWidth}}})})(e),function(e){var t="top",n="right",r="bottom",i="left",s=function(e,s){var o=Math.max(e[t],s[t]),u=Math.min(e[n],s[n]),a=Math.min(e[r],s[r]),f=Math.max(e[i],s[i]),l={};return l[t]=o,l[n]=u,l[r]=a,l[i]=f,l},o=e.DOM;e.mix(o,{region:function(e){var t=o.getXY(e),n=!1;return e&&t&&(n=o._getRegion(t[1],t[0]+e.offsetWidth,t[1]+e.offsetHeight,t[0])),n},intersect:function(u,a,f){var l=f||o.region(u),c={},h=a,p;if(h.tagName)c=o.region(h);else{if(!e.Lang.isObject(a))return!1;c=a}return p=s(c,l),{top:p[t],right:p[n],bottom:p[r],left:p[i],area:(p[r]-p[t])*(p[n]-p[i]),yoff:p[r]-p[t],xoff:p[n]-p[i],inRegion:o.inRegion(u,a,!1,f)}},inRegion:function(u,a,f,l){var c={},h=l||o.region(u),p=a,d;if(p.tagName)c=o.region(p);else{if(!e.Lang.isObject(a))return!1;c=a}return f?h[i]>=c[i]&&h[n]<=c[n]&&h[t]>=c[t]&&h[r]<=c[r]:(d=s(c,h),d[r]>=d[t]&&d[n]>=d[i]?!0:!1)},inViewportRegion:function(e,t,n){return o.inRegion(e,o.viewportRegion(e),t,n)},_getRegion:function(e,s,o,u){var a={};return a[t]=a[1]=e,a[i]=a[0]=u,a[r]=o,a[n]=s,a.width=a[n]-a[i],a.height=a[r]-a[t],a},viewportRegion:function(t){t=t||e.config.doc.documentElement;var n=!1,r,i;return t&&(r=o.docScrollX(t),i=o.docScrollY(t),n=o._getRegion(i,o.winWidth(t)+r,i+o.winHeight(t),r)),n}})}(e)},"3.18.1",{requires:["dom-base","dom-style"]});
YUI.add("dom-style",function(e,t){var n="documentElement",r="defaultView",i="ownerDocument",s="style",o="float",u="cssFloat",a="styleFloat",f="transparent",l="getComputedStyle",c="getBoundingClientRect",h=e.config.doc,p=e.DOM,d,v,m=["WebkitTransform","MozTransform","OTransform","msTransform","transform"],g=/width|height|top|left|right|bottom|margin|padding/i;e.Array.each(m,function(e){e in h[n].style&&(d=e,v=e+"Origin")}),e.mix(p,{DEFAULT_UNIT:"px",CUSTOM_STYLES:{},setStyle:function(e,t,n,r){r=r||e.style;var i=p.CUSTOM_STYLES;if(r){n===null||n===""?n="":!isNaN(Number(n))&&g.test(t)&&(n+=p.DEFAULT_UNIT);if(t in i){if(i[t].set){i[t].set(e,n,r);return}typeof i[t]=="string"&&(t=i[t])}else t===""&&(t="cssText",n="");r[t]=n}},getStyle:function(e,t,n){n=n||e.style;var r=p.CUSTOM_STYLES,i="";if(n){if(t in r){if(r[t].get)return r[t].get(e,t,n);typeof r[t]=="string"&&(t=r[t])}i=n[t],i===""&&(i=p[l](e,t))}return i},setStyles:function(t,n){var r=t.style;e.each(n,function(e,n){p.setStyle(t,n,e,r)},p)},getComputedStyle:function(e,t){var n="",o=e[i],u;return e[s]&&o[r]&&o[r][l]&&(u=o[r][l](e,null),u&&(n=u[t])),n}}),h[n][s][u]!==undefined?p.CUSTOM_STYLES[o]=u:h[n][s][a]!==undefined&&(p.CUSTOM_STYLES[o]=a),e.UA.webkit&&(p[l]=function(e,t){var n=e[i][r],s=n[l](e,"")[t];return s==="rgba(0, 0, 0, 0)"&&(s=f),s}),e.DOM._getAttrOffset=function(t,n){var r=e.DOM[l](t,n),i=t.offsetParent,s,o,u;return r==="auto"&&(s=e.DOM.getStyle(t,"position"),s==="static"||s==="relative"?r=0:i&&i[c]&&(o=i[c]()[n],u=t[c]()[n],n==="left"||n==="top"?r=u-o:r=o-t[c]()[n])),r},e.DOM._getOffset=function(e){var t,n=null;return e&&(t=p.getStyle(e,"position"),n=[parseInt(p[l](e,"left"),10),parseInt(p[l](e,"top"),10)],isNaN(n[0])&&(n[0]=parseInt(p.getStyle(e,"left"),10),isNaN(n[0])&&(n[0]=t==="relative"?0:e.offsetLeft||0)),isNaN(n[1])&&(n[1]=parseInt(p.getStyle(e,"top"),10),isNaN(n[1])&&(n[1]=t==="relative"?0:e.offsetTop||0))),n},d&&(p.CUSTOM_STYLES.transform={set:function(e,t,n){n[d]=t},get:function(e){return p[l](e,d)}},p.CUSTOM_STYLES.transformOrigin={set:function(e,t,n){n[v]=t},get:function(e){return p[l](e,v)}})},"3.18.1",{requires:["dom-base"]});
YUI.add("escape",function(e,t){var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&#x60;"},r={html:function(e){return(e+"").replace(/[&<>"'\/`]/g,r._htmlReplacer)},regex:function(e){return(e+"").replace(/[\-$\^*()+\[\]{}|\\,.?\s]/g,"\\$&")},_htmlReplacer:function(e){return n[e]}};r.regexp=r.regex,e.Escape=r},"3.18.1",{requires:["yui-base"]});
YUI.add("event-base",function(e,t){e.publish("domready",{fireOnce:!0,async:!0}),YUI.Env.DOMReady?e.fire("domready"):e.Do.before(function(){e.fire("domready")},YUI.Env,"_ready");var n=e.UA,r={},i={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9,63272:46,63273:36,63275:35},s=function(t){if(!t)return t;try{t&&3==t.nodeType&&(t=t.parentNode)}catch(n){return null}return e.one(t)},o=function(e,t,n){this._event=e,this._currentTarget=t,this._wrapper=n||r,this.init()};e.extend(o,Object,{init:function(){var e=this._event,t=this._wrapper.overrides,r=e.pageX,o=e.pageY,u,a=this._currentTarget;this.altKey=e.altKey,this.ctrlKey=e.ctrlKey,this.metaKey=e.metaKey,this.shiftKey=e.shiftKey,this.type=t&&t.type||e.type,this.clientX=e.clientX,this.clientY=e.clientY,this.pageX=r,this.pageY=o,u=e.keyCode||e.charCode,n.webkit&&u in i&&(u=i[u]),this.keyCode=u,this.charCode=u,this.which=e.which||e.charCode||u,this.button=this.which,this.target=s(e.target),this.currentTarget=s(a),this.relatedTarget=s(e.relatedTarget);if(e.type=="mousewheel"||e.type=="DOMMouseScroll")this.wheelDelta=e.detail?e.detail*-1:Math.round(e.wheelDelta/80)||(e.wheelDelta<0?-1:1);this._touch&&this._touch(e,a,this._wrapper)},stopPropagation:function(){this._event.stopPropagation(),this._wrapper.stopped=1,this.stopped=1},stopImmediatePropagation:function(){var e=this._event;e.stopImmediatePropagation?e.stopImmediatePropagation():this.stopPropagation(),this._wrapper.stopped=2,this.stopped=2},preventDefault:function(e){var t=this._event;t.preventDefault(),e&&(t.returnValue=e),this._wrapper.prevented=1,this.prevented=1},halt:function(e){e?this.stopImmediatePropagation():this.stopPropagation(),this.preventDefault()}}),o.resolve=s,e.DOM2EventFacade=o,e.DOMEventFacade=o,function(){e.Env.evt.dom_wrappers={},e.Env.evt.dom_map={};var t=e.Env.evt,n=e.config,r=n.win,i=YUI.Env.add,s=YUI.Env.remove,o=function(){YUI.Env.windowLoaded=!0,e.Event._load(),s(r,"load",o)},u=function(){e.Event._unload()},a="domready",f="~yui|2|compat~",l=function(t){try{return t&&typeof t!="string"&&e.Lang.isNumber(t.length)&&!t.tagName&&!e.DOM.isWindow(t)}catch(n){return!1}},c=e.CustomEvent.prototype._delete,h=function(t){var n=c.apply(this,arguments);return this.hasSubs()||e.Event._clean(this),n},p=function(){var n=!1,o=0,c=[],d=t.dom_wrappers,v=null,m=t.dom_map;return{POLL_RETRYS:1e3,POLL_INTERVAL:40,lastError:null,_interval:null,_dri:null,DOMReady:!1,startInterval:function(){p._interval||(p._interval=setInterval(p._poll,p.POLL_INTERVAL))},onAvailable:function(t,n,r,i,s,u){var a=e.Array(t),f,l;for(f=0;f<a.length;f+=1)c.push({id:a[f],fn:n,obj:r,override:i,checkReady:s,compat:u});return o=this.POLL_RETRYS,setTimeout(p._poll,0),l=new e.EventHandle({_delete:function(){if(l.handle){l.handle.detach();return}var e,t;for(e=0;e<a.length;e++)for(t=0;t<c.length;t++)a[e]===c[t].id&&c.splice(t,1)}}),l},onContentReady:function(e,t,n,r,i){return p.onAvailable(e,t,n,r,!0,i)},attach:function(t,n,r,i){return p._attach(e.Array(arguments,0,!0))},_createWrapper:function(t,n,s,o,u){var a,f=e.stamp(t),l="event:"+f+n;return!1===u&&(l+="native"),s&&(l+="capture"),a=d[l],a||(a=e.publish(l,{silent:!0,bubbles:!1,emitFacade:!1,contextFn:function(){return o?a.el:(a.nodeRef=a.nodeRef||e.one(a.el),a.nodeRef)}}),a.overrides={},a.el=t,a.key=l,a.domkey=f,a.type=n,a.fn=function(e){a.fire(p.getEvent(e,t,o||!1===u))},a.capture=s,t==r&&n=="load"&&(a.fireOnce=!0,v=l),a._delete=h,d[l]=a,m[f]=m[f]||{},m[f][l]=a,i(t,n,a.fn,s)),a},_attach:function(t,n){var i,s,o,u,a,c=!1,h,d=t[0],v=t[1],m=t[2]||r,g=n&&n.facade,y=n&&n.capture,b=n&&n.overrides;t[t.length-1]===f&&(i=!0);if(!v||!v.call)return!1;if(l(m))return s=[],e.each(m,function(e,r){t[2]=e,s.push(p._attach(t.slice(),n))}),new e.EventHandle(s);if(e.Lang.isString(m)){if(i)o=e.DOM.byId(m);else{o=e.Selector.query(m);switch(o.length){case 0:o=null;break;case 1:o=o[0];break;default:return t[2]=o,p._attach(t,n)}}if(!o)return h=p.onAvailable(m,function(){h.handle=p._attach(t,n)},p,!0,!1,i),h;m=o}return m?(e.Node&&e.instanceOf(m,e.Node)&&(m=e.Node.getDOMNode(m)),u=p._createWrapper(m,d,y,i,g),b&&e.mix(u.overrides,b),m==r&&d=="load"&&YUI.Env.windowLoaded&&(c=!0),i&&t.pop(),a=t[3],h=u._on(v,a,t.length>4?t.slice(4):null),c&&u.fire(),h):!1},detach:function(t,n,r,i){var s=e.Array(arguments,0,!0),o,u,a,c,h,v;s[s.length-1]===f&&(o=!0);if(t&&t.detach)return t.detach();typeof r=="string"&&(o?r=e.DOM.byId(r):(r=e.Selector.query(r),u=r.length,u<1?r=null:u==1&&(r=r[0])));if(!r)return!1;if(r.detach)return s.splice(2,1),r.detach.apply(r,s);if(l(r)){a=!0;for(c=0,u=r.length;c<u;++c)s[2]=r[c],a=e.Event.detach.apply(e.Event,s)&&a;return a}return!t||!n||!n.call?p.purgeElement(r,!1,t):(h="event:"+e.stamp(r)+t,v=d[h],v?v.detach(n):!1)},getEvent:function(t,n,i){var s=t||r.event;return i?s:new e.DOMEventFacade(s,n,d["event:"+e.stamp(n)+t.type])},generateId:function(t){return e.DOM.generateID(t)},_isValidCollection:l,_load:function(t){n||(n=!0,e.fire&&e.fire(a),p._poll())},_poll:function(){if(p.locked)return;if(e.UA.ie&&!YUI.Env.DOMReady){p.startInterval();return}p.locked=!0;var t,r,i,s,u,a,f=!n;f||(f=o>0),u=[],a=function(t,n){var r,i=n.override;try{n.compat?(n.override?i===!0?r=n.obj:r=i:r=t,n.fn.call(r,n.obj)):(r=n.obj||e.one(t),n.fn.apply(r,e.Lang.isArray(i)?i:[]))}catch(s){}};for(t=0,r=c.length;t<r;++t)i=c[t],i&&!i.checkReady&&(s=i.compat?e.DOM.byId(i.id):e.Selector.query(i.id,null,!0),s?(a(s,i),c[t]=null):u.push(i));for(t=0,r=c.length;t<r;++t){i=c[t];if(i&&i.checkReady){s=i.compat?e.DOM.byId(i.id):e.Selector.query(i.id,null,!0);if(s){if(n||s.get&&s.get("nextSibling")||s.nextSibling)a(s,i),c[t]=null}else u.push(i)}}o=u.length===0?0:o-1,f?p.startInterval():(clearInterval(p._interval),p._interval=null),p.locked=!1;return},purgeElement:function(t,n,r){var i=e.Lang.isString(t)?e.Selector.query(t,null,!0):t,s=p.getListeners(i,r),o,u,a,f;if(n&&i){s=s||[],a=e.Selector.query("*",i),u=a.length;for(o=0;o<u;++o)f=p.getListeners(a[o],r),f&&(s=s.concat(f))}if(s)for(o=0,u=s.length;o<u;++o)s[o].detachAll()}
,_clean:function(t){var n=t.key,r=t.domkey;s(t.el,t.type,t.fn,t.capture),delete d[n],delete e._yuievt.events[n],m[r]&&(delete m[r][n],e.Object.size(m[r])||delete m[r])},getListeners:function(n,r){var i=e.stamp(n,!0),s=m[i],o=[],u=r?"event:"+i+r:null,a=t.plugins;return s?(u?(a[r]&&a[r].eventDef&&(u+="_synth"),s[u]&&o.push(s[u]),u+="native",s[u]&&o.push(s[u])):e.each(s,function(e,t){o.push(e)}),o.length?o:null):null},_unload:function(t){e.each(d,function(e,n){e.type=="unload"&&e.fire(t),e.detachAll()}),s(r,"unload",u)},nativeAdd:i,nativeRemove:s}}();e.Event=p,n.injected||YUI.Env.windowLoaded?o():i(r,"load",o);if(e.UA.ie){e.on(a,p._poll);if(e.UA.ie<7)try{i(r,"unload",u)}catch(d){}}p.Custom=e.CustomEvent,p.Subscriber=e.Subscriber,p.Target=e.EventTarget,p.Handle=e.EventHandle,p.Facade=e.EventFacade,p._poll()}(),e.Env.evt.plugins.available={on:function(t,n,r,i){var s=arguments.length>4?e.Array(arguments,4,!0):null;return e.Event.onAvailable.call(e.Event,r,n,i,s)}},e.Env.evt.plugins.contentready={on:function(t,n,r,i){var s=arguments.length>4?e.Array(arguments,4,!0):null;return e.Event.onContentReady.call(e.Event,r,n,i,s)}}},"3.18.1",{requires:["event-custom-base"]});
YUI.add("event-custom-base",function(e,t){e.Env.evt={handles:{},plugins:{}};var n=0,r=1,i={objs:null,before:function(t,r,i,s){var o=t,u;return s&&(u=[t,s].concat(e.Array(arguments,4,!0)),o=e.rbind.apply(e,u)),this._inject(n,o,r,i)},after:function(t,n,i,s){var o=t,u;return s&&(u=[t,s].concat(e.Array(arguments,4,!0)),o=e.rbind.apply(e,u)),this._inject(r,o,n,i)},_inject:function(t,n,r,i){var s=e.stamp(r),o,u;return r._yuiaop||(r._yuiaop={}),o=r._yuiaop,o[i]||(o[i]=new e.Do.Method(r,i),r[i]=function(){return o[i].exec.apply(o[i],arguments)}),u=s+e.stamp(n)+i,o[i].register(u,n,t),new e.EventHandle(o[i],u)},detach:function(e){e.detach&&e.detach()}};e.Do=i,i.Method=function(e,t){this.obj=e,this.methodName=t,this.method=e[t],this.before={},this.after={}},i.Method.prototype.register=function(e,t,n){n?this.after[e]=t:this.before[e]=t},i.Method.prototype._delete=function(e){delete this.before[e],delete this.after[e]},i.Method.prototype.exec=function(){var t=e.Array(arguments,0,!0),n,r,s,o=this.before,u=this.after,a=!1;for(n in o)if(o.hasOwnProperty(n)){r=o[n].apply(this.obj,t);if(r)switch(r.constructor){case i.Halt:return r.retVal;case i.AlterArgs:t=r.newArgs;break;case i.Prevent:a=!0;break;default:}}a||(r=this.method.apply(this.obj,t)),i.originalRetVal=r,i.currentRetVal=r;for(n in u)if(u.hasOwnProperty(n)){s=u[n].apply(this.obj,t);if(s&&s.constructor===i.Halt)return s.retVal;s&&s.constructor===i.AlterReturn&&(r=s.newRetVal,i.currentRetVal=r)}return r},i.AlterArgs=function(e,t){this.msg=e,this.newArgs=t},i.AlterReturn=function(e,t){this.msg=e,this.newRetVal=t},i.Halt=function(e,t){this.msg=e,this.retVal=t},i.Prevent=function(e){this.msg=e},i.Error=i.Halt;var s=e.Array,o="after",u=["broadcast","monitored","bubbles","context","contextFn","currentTarget","defaultFn","defaultTargetOnly","details","emitFacade","fireOnce","async","host","preventable","preventedFn","queuable","silent","stoppedFn","target","type"],a=s.hash(u),f=Array.prototype.slice,l=9,c="yui:log",h=function(e,t,n){var r;for(r in t)a[r]&&(n||!(r in e))&&(e[r]=t[r]);return e};e.CustomEvent=function(t,n){this._kds=e.CustomEvent.keepDeprecatedSubs,this.id=e.guid(),this.type=t,this.silent=this.logSystem=t===c,this._kds&&(this.subscribers={},this.afters={}),n&&h(this,n,!0)},e.CustomEvent.keepDeprecatedSubs=!1,e.CustomEvent.mixConfigs=h,e.CustomEvent.prototype={constructor:e.CustomEvent,signature:l,context:e,preventable:!0,bubbles:!0,hasSubs:function(e){var t=0,n=0,r=this._subscribers,i=this._afters,s=this.sibling;return r&&(t=r.length),i&&(n=i.length),s&&(r=s._subscribers,i=s._afters,r&&(t+=r.length),i&&(n+=i.length)),e?e==="after"?n:t:t+n},monitor:function(e){this.monitored=!0;var t=this.id+"|"+this.type+"_"+e,n=f.call(arguments,0);return n[0]=t,this.host.on.apply(this.host,n)},getSubs:function(){var e=this.sibling,t=this._subscribers,n=this._afters,r,i;return e&&(r=e._subscribers,i=e._afters),r?t?t=t.concat(r):t=r.concat():t?t=t.concat():t=[],i?n?n=n.concat(i):n=i.concat():n?n=n.concat():n=[],[t,n]},applyConfig:function(e,t){h(this,e,t)},_on:function(t,n,r,i){var s=new e.Subscriber(t,n,r,i),u;return this.fireOnce&&this.fired&&(u=this.firedWith,this.emitFacade&&this._addFacadeToArgs&&this._addFacadeToArgs(u),this.async?setTimeout(e.bind(this._notify,this,s,u),0):this._notify(s,u)),i===o?(this._afters||(this._afters=[]),this._afters.push(s)):(this._subscribers||(this._subscribers=[]),this._subscribers.push(s)),this._kds&&(i===o?this.afters[s.id]=s:this.subscribers[s.id]=s),new e.EventHandle(this,s)},subscribe:function(e,t){var n=arguments.length>2?f.call(arguments,2):null;return this._on(e,t,n,!0)},on:function(e,t){var n=arguments.length>2?f.call(arguments,2):null;return this.monitored&&this.host&&this.host._monitor("attach",this,{args:arguments}),this._on(e,t,n,!0)},after:function(e,t){var n=arguments.length>2?f.call(arguments,2):null;return this._on(e,t,n,o)},detach:function(e,t){if(e&&e.detach)return e.detach();var n,r,i=0,s=this._subscribers,o=this._afters;if(s)for(n=s.length;n>=0;n--)r=s[n],r&&(!e||e===r.fn)&&(this._delete(r,s,n),i++);if(o)for(n=o.length;n>=0;n--)r=o[n],r&&(!e||e===r.fn)&&(this._delete(r,o,n),i++);return i},unsubscribe:function(){return this.detach.apply(this,arguments)},_notify:function(e,t,n){var r;return r=e.notify(t,this),!1===r||this.stopped>1?!1:!0},log:function(e,t){},fire:function(){var e=[];return e.push.apply(e,arguments),this._fire(e)},_fire:function(e){return this.fireOnce&&this.fired?!0:(this.fired=!0,this.fireOnce&&(this.firedWith=e),this.emitFacade?this.fireComplex(e):this.fireSimple(e))},fireSimple:function(e){this.stopped=0,this.prevented=0;if(this.hasSubs()){var t=this.getSubs();this._procSubs(t[0],e),this._procSubs(t[1],e)}return this.broadcast&&this._broadcast(e),this.stopped?!1:!0},fireComplex:function(e){return e[0]=e[0]||{},this.fireSimple(e)},_procSubs:function(e,t,n){var r,i,s;for(i=0,s=e.length;i<s;i++){r=e[i];if(r&&r.fn){!1===this._notify(r,t,n)&&(this.stopped=2);if(this.stopped===2)return!1}}return!0},_broadcast:function(t){if(!this.stopped&&this.broadcast){var n=t.concat();n.unshift(this.type),this.host!==e&&e.fire.apply(e,n),this.broadcast===2&&e.Global.fire.apply(e.Global,n)}},unsubscribeAll:function(){return this.detachAll.apply(this,arguments)},detachAll:function(){return this.detach()},_delete:function(e,t,n){var r=e._when;t||(t=r===o?this._afters:this._subscribers),t&&(n=s.indexOf(t,e,0),e&&t[n]===e&&t.splice(n,1)),this._kds&&(r===o?delete this.afters[e.id]:delete this.subscribers[e.id]),this.monitored&&this.host&&this.host._monitor("detach",this,{ce:this,sub:e}),e&&(e.deleted=!0)}},e.Subscriber=function(t,n,r,i){this.fn=t,this.context=n,this.id=e.guid(),this.args=r,this._when=i},e.Subscriber.prototype={constructor:e.Subscriber,_notify:function(e,t,n){if(this.deleted&&!this.postponed){if(!this.postponed)return delete this.postponed,null;delete this.fn,delete this.context}var r=this.args,i;switch(n.signature){case 0:i=this.fn.call(e,n.type,t,e);break;case 1:i=this.fn.call(e,t[0]||null,e);break;
default:r||t?(t=t||[],r=r?t.concat(r):t,i=this.fn.apply(e,r)):i=this.fn.call(e)}return this.once&&n._delete(this),i},notify:function(t,n){var r=this.context,i=!0;r||(r=n.contextFn?n.contextFn():n.context);if(e.config&&e.config.throwFail)i=this._notify(r,t,n);else try{i=this._notify(r,t,n)}catch(s){e.error(this+" failed: "+s.message,s)}return i},contains:function(e,t){return t?this.fn===e&&this.context===t:this.fn===e},valueOf:function(){return this.id}},e.EventHandle=function(e,t){this.evt=e,this.sub=t},e.EventHandle.prototype={batch:function(t,n){t.call(n||this,this),e.Lang.isArray(this.evt)&&e.Array.each(this.evt,function(e){e.batch.call(n||e,t)})},detach:function(){var t=this.evt,n=0,r;if(t)if(e.Lang.isArray(t))for(r=0;r<t.length;r++)n+=t[r].detach();else t._delete(this.sub),n=1;return n},monitor:function(e){return this.evt.monitor.apply(this.evt,arguments)}};var p=e.Lang,d=":",v="|",m="~AFTER~",g=/(.*?)(:)(.*?)/,y=e.cached(function(e){return e.replace(g,"*$2$3")}),b=function(e,t){return!t||!e||e.indexOf(d)>-1?e:t+d+e},w=e.cached(function(e,t){var n=e,r,i,s;return p.isString(n)?(s=n.indexOf(m),s>-1&&(i=!0,n=n.substr(m.length)),s=n.indexOf(v),s>-1&&(r=n.substr(0,s),n=n.substr(s+1),n==="*"&&(n=null)),[r,t?b(n,t):n,i,n]):n}),E=function(t){var n=this._yuievt,r;n||(n=this._yuievt={events:{},targets:null,config:{host:this,context:this},chain:e.config.chain}),r=n.config,t&&(h(r,t,!0),t.chain!==undefined&&(n.chain=t.chain),t.prefix&&(r.prefix=t.prefix))};E.prototype={constructor:E,once:function(){var e=this.on.apply(this,arguments);return e.batch(function(e){e.sub&&(e.sub.once=!0)}),e},onceAfter:function(){var e=this.after.apply(this,arguments);return e.batch(function(e){e.sub&&(e.sub.once=!0)}),e},parseType:function(e,t){return w(e,t||this._yuievt.config.prefix)},on:function(t,n,r){var i=this._yuievt,s=w(t,i.config.prefix),o,u,a,l,c,h,d,v=e.Env.evt.handles,g,y,b,E=e.Node,S,x,T;this._monitor("attach",s[1],{args:arguments,category:s[0],after:s[2]});if(p.isObject(t))return p.isFunction(t)?e.Do.before.apply(e.Do,arguments):(o=n,u=r,a=f.call(arguments,0),l=[],p.isArray(t)&&(T=!0),g=t._after,delete t._after,e.each(t,function(e,t){p.isObject(e)&&(o=e.fn||(p.isFunction(e)?e:o),u=e.context||u);var n=g?m:"";a[0]=n+(T?e:t),a[1]=o,a[2]=u,l.push(this.on.apply(this,a))},this),i.chain?this:new e.EventHandle(l));h=s[0],g=s[2],b=s[3];if(E&&e.instanceOf(this,E)&&b in E.DOM_EVENTS)return a=f.call(arguments,0),a.splice(2,0,E.getDOMNode(this)),e.on.apply(e,a);t=s[1];if(e.instanceOf(this,YUI)){y=e.Env.evt.plugins[t],a=f.call(arguments,0),a[0]=b,E&&(S=a[2],e.instanceOf(S,e.NodeList)?S=e.NodeList.getDOMNodes(S):e.instanceOf(S,E)&&(S=E.getDOMNode(S)),x=b in E.DOM_EVENTS,x&&(a[2]=S));if(y)d=y.on.apply(e,a);else if(!t||x)d=e.Event._attach(a)}return d||(c=i.events[t]||this.publish(t),d=c._on(n,r,arguments.length>3?f.call(arguments,3):null,g?"after":!0),t.indexOf("*:")!==-1&&(this._hasSiblings=!0)),h&&(v[h]=v[h]||{},v[h][t]=v[h][t]||[],v[h][t].push(d)),i.chain?this:d},subscribe:function(){return this.on.apply(this,arguments)},detach:function(t,n,r){var i=this._yuievt.events,s,o=e.Node,u=o&&e.instanceOf(this,o);if(!t&&this!==e){for(s in i)i.hasOwnProperty(s)&&i[s].detach(n,r);return u&&e.Event.purgeElement(o.getDOMNode(this)),this}var a=w(t,this._yuievt.config.prefix),l=p.isArray(a)?a[0]:null,c=a?a[3]:null,h,d=e.Env.evt.handles,v,m,g,y,b=function(e,t,n){var r=e[t],i,s;if(r)for(s=r.length-1;s>=0;--s)i=r[s].evt,(i.host===n||i.el===n)&&r[s].detach()};if(l){m=d[l],t=a[1],v=u?e.Node.getDOMNode(this):this;if(m){if(t)b(m,t,v);else for(s in m)m.hasOwnProperty(s)&&b(m,s,v);return this}}else{if(p.isObject(t)&&t.detach)return t.detach(),this;if(u&&(!c||c in o.DOM_EVENTS))return g=f.call(arguments,0),g[2]=o.getDOMNode(this),e.detach.apply(e,g),this}h=e.Env.evt.plugins[c];if(e.instanceOf(this,YUI)){g=f.call(arguments,0);if(h&&h.detach)return h.detach.apply(e,g),this;if(!t||!h&&o&&t in o.DOM_EVENTS)return g[0]=t,e.Event.detach.apply(e.Event,g),this}return y=i[a[1]],y&&y.detach(n,r),this},unsubscribe:function(){return this.detach.apply(this,arguments)},detachAll:function(e){return this.detach(e)},unsubscribeAll:function(){return this.detachAll.apply(this,arguments)},publish:function(t,n){var r,i=this._yuievt,s=i.config,o=s.prefix;return typeof t=="string"?(o&&(t=b(t,o)),r=this._publish(t,s,n)):(r={},e.each(t,function(e,t){o&&(t=b(t,o)),r[t]=this._publish(t,s,e||n)},this)),r},_getFullType:function(e){var t=this._yuievt.config.prefix;return t?t+d+e:e},_publish:function(t,n,r){var i,s=this._yuievt,o=s.config,u=o.host,a=o.context,f=s.events;return i=f[t],(o.monitored&&!i||i&&i.monitored)&&this._monitor("publish",t,{args:arguments}),i||(i=f[t]=new e.CustomEvent(t,n),n||(i.host=u,i.context=a)),r&&h(i,r,!0),i},_monitor:function(e,t,n){var r,i,s;if(t){typeof t=="string"?(s=t,i=this.getEvent(t,!0)):(i=t,s=t.type);if(this._yuievt.config.monitored&&(!i||i.monitored)||i&&i.monitored)r=s+"_"+e,n.monitored=e,this.fire.call(this,r,n)}},fire:function(e){var t=typeof e=="string",n=arguments.length,r=e,i=this._yuievt,s=i.config,o=s.prefix,u,a,l,c;t&&n<=3?n===2?c=[arguments[1]]:n===3?c=[arguments[1],arguments[2]]:c=[]:c=f.call(arguments,t?1:0),t||(r=e&&e.type),o&&(r=b(r,o)),a=i.events[r],this._hasSiblings&&(l=this.getSibling(r,a),l&&!a&&(a=this.publish(r))),(s.monitored&&(!a||a.monitored)||a&&a.monitored)&&this._monitor("fire",a||r,{args:c});if(!a){if(i.hasTargets)return this.bubble({type:r},c,this);u=!0}else l&&(a.sibling=l),u=a._fire(c);return i.chain?this:u},getSibling:function(e,t){var n;return e.indexOf(d)>-1&&(e=y(e),n=this.getEvent(e,!0),n&&(n.applyConfig(t),n.bubbles=!1,n.broadcast=0)),n},getEvent:function(e,t){var n,r;return t||(n=this._yuievt.config.prefix,e=n?b(e,n):e),r=this._yuievt.events,r[e]||null},after:function(t,n){var r=f.call(arguments,0);switch(p.type(t)){case"function":return e.Do.after.apply(e.Do,arguments);case"array":case"object":r[0]._after=!0;break;default:r[0]=m+t}return this.on.apply(this,r)},before:function(){return this.on.apply
(this,arguments)}},e.EventTarget=E,e.mix(e,E.prototype),E.call(e,{bubbles:!1}),YUI.Env.globalEvents=YUI.Env.globalEvents||new E,e.Global=YUI.Env.globalEvents},"3.18.1",{requires:["oop"]});
YUI.add("event-custom-complex",function(e,t){var n,r,i=e.Object,s,o={},u=e.CustomEvent.prototype,a=e.EventTarget.prototype,f=function(e,t){var n;for(n in t)r.hasOwnProperty(n)||(e[n]=t[n])};e.EventFacade=function(e,t){e||(e=o),this._event=e,this.details=e.details,this.type=e.type,this._type=e.type,this.target=e.target,this.currentTarget=t,this.relatedTarget=e.relatedTarget},e.mix(e.EventFacade.prototype,{stopPropagation:function(){this._event.stopPropagation(),this.stopped=1},stopImmediatePropagation:function(){this._event.stopImmediatePropagation(),this.stopped=2},preventDefault:function(){this._event.preventDefault(),this.prevented=1},halt:function(e){this._event.halt(e),this.prevented=1,this.stopped=e?2:1}}),u.fireComplex=function(t){var n,r,i,s,o,u=!0,a,f,l,c,h,p,d,v,m,g=this,y=g.host||g,b,w,E=g.stack,S=y._yuievt,x;if(E&&g.queuable&&g.type!==E.next.type)return E.queue||(E.queue=[]),E.queue.push([g,t]),!0;x=g.hasSubs()||S.hasTargets||g.broadcast,g.target=g.target||y,g.currentTarget=y,g.details=t.concat();if(x){n=E||{id:g.id,next:g,silent:g.silent,stopped:0,prevented:0,bubbling:null,type:g.type,defaultTargetOnly:g.defaultTargetOnly},f=g.getSubs(),l=f[0],c=f[1],g.stopped=g.type!==n.type?0:n.stopped,g.prevented=g.type!==n.type?0:n.prevented,g.stoppedFn&&(a=new e.EventTarget({fireOnce:!0,context:y}),g.events=a,a.on("stopped",g.stoppedFn)),g._facade=null,r=g._createFacade(t),l&&g._procSubs(l,t,r),g.bubbles&&y.bubble&&!g.stopped&&(w=n.bubbling,n.bubbling=g.type,n.type!==g.type&&(n.stopped=0,n.prevented=0),u=y.bubble(g,t,null,n),g.stopped=Math.max(g.stopped,n.stopped),g.prevented=Math.max(g.prevented,n.prevented),n.bubbling=w),d=g.prevented,d?(v=g.preventedFn,v&&v.apply(y,t)):(m=g.defaultFn,m&&(!g.defaultTargetOnly&&!n.defaultTargetOnly||y===r.target)&&m.apply(y,t)),g.broadcast&&g._broadcast(t);if(c&&!g.prevented&&g.stopped<2){h=n.afterQueue;if(n.id===g.id||g.type!==S.bubbling){g._procSubs(c,t,r);if(h)while(b=h.last())b()}else p=c,n.execDefaultCnt&&(p=e.merge(p),e.each(p,function(e){e.postponed=!0})),h||(n.afterQueue=new e.Queue),n.afterQueue.add(function(){g._procSubs(p,t,r)})}g.target=null;if(n.id===g.id){s=n.queue;if(s)while(s.length)i=s.pop(),o=i[0],n.next=o,o._fire(i[1]);g.stack=null}u=!g.stopped,g.type!==S.bubbling&&(n.stopped=0,n.prevented=0,g.stopped=0,g.prevented=0)}else m=g.defaultFn,m&&(r=g._createFacade(t),(!g.defaultTargetOnly||y===r.target)&&m.apply(y,t));return g._facade=null,u},u._hasPotentialSubscribers=function(){return this.hasSubs()||this.host._yuievt.hasTargets||this.broadcast},u._createFacade=u._getFacade=function(t){var n=this.details,r=n&&n[0],i=r&&typeof r=="object",s=this._facade;return s||(s=new e.EventFacade(this,this.currentTarget)),i?(f(s,r),r.type&&(s.type=r.type),t&&(t[0]=s)):t&&t.unshift(s),s.details=this.details,s.target=this.originalTarget||this.target,s.currentTarget=this.currentTarget,s.stopped=0,s.prevented=0,this._facade=s,this._facade},u._addFacadeToArgs=function(e){var t=e[0];t&&t.halt&&t.stopImmediatePropagation&&t.stopPropagation&&t._event||this._createFacade(e)},u.stopPropagation=function(){this.stopped=1,this.stack&&(this.stack.stopped=1),this.events&&this.events.fire("stopped",this)},u.stopImmediatePropagation=function(){this.stopped=2,this.stack&&(this.stack.stopped=2),this.events&&this.events.fire("stopped",this)},u.preventDefault=function(){this.preventable&&(this.prevented=1,this.stack&&(this.stack.prevented=1))},u.halt=function(e){e?this.stopImmediatePropagation():this.stopPropagation(),this.preventDefault()},a.addTarget=function(t){var n=this._yuievt;return n.targets||(n.targets={}),n.targets[e.stamp(t)]=t,n.hasTargets=!0,this},a.getTargets=function(){var e=this._yuievt.targets;return e?i.values(e):[]},a.removeTarget=function(t){var n=this._yuievt.targets;return n&&(delete n[e.stamp(t,!0)],i.size(n)===0&&(this._yuievt.hasTargets=!1)),this},a.bubble=function(e,t,n,r){var i=this._yuievt.targets,s=!0,o,u,a,f,l,c=e&&e.type,h=n||e&&e.target||this,p;if(!e||!e.stopped&&i)for(a in i)if(i.hasOwnProperty(a)){o=i[a],u=o._yuievt.events[c],o._hasSiblings&&(l=o.getSibling(c,u)),l&&!u&&(u=o.publish(c)),p=o._yuievt.bubbling,o._yuievt.bubbling=c;if(!u)o._yuievt.hasTargets&&o.bubble(e,t,h,r);else{l&&(u.sibling=l),u.target=h,u.originalTarget=h,u.currentTarget=o,f=u.broadcast,u.broadcast=!1,u.emitFacade=!0,u.stack=r,s=s&&u.fire.apply(u,t||e.details||[]),u.broadcast=f,u.originalTarget=null;if(u.stopped)break}o._yuievt.bubbling=p}return s},a._hasPotentialSubscribers=function(e){var t=this._yuievt,n=t.events[e];return n?n.hasSubs()||t.hasTargets||n.broadcast:!1},n=new e.EventFacade,r={};for(s in n)r[s]=!0},"3.18.1",{requires:["event-custom-base"]});
YUI.add("event-delegate",function(e,t){function f(t,r,u,l){var c=n(arguments,0,!0),h=i(u)?u:null,p,d,v,m,g,y,b,w,E;if(s(t)){w=[];if(o(t))for(y=0,b=t.length;y<b;++y)c[0]=t[y],w.push(e.delegate.apply(e,c));else{c.unshift(null);for(y in t)t.hasOwnProperty(y)&&(c[0]=y,c[1]=t[y],w.push(e.delegate.apply(e,c)))}return new e.EventHandle(w)}p=t.split(/\|/),p.length>1&&(g=p.shift(),c[0]=t=p.shift()),d=e.Node.DOM_EVENTS[t],s(d)&&d.delegate&&(E=d.delegate.apply(d,arguments));if(!E){if(!t||!r||!u||!l)return;v=h?e.Selector.query(h,null,!0):u,!v&&i(u)&&(E=e.on("available",function(){e.mix(E,e.delegate.apply(e,c),!0)},u)),!E&&v&&(c.splice(2,2,v),E=e.Event._attach(c,{facade:!1}),E.sub.filter=l,E.sub._notify=f.notifySub)}return E&&g&&(m=a[g]||(a[g]={}),m=m[t]||(m[t]=[]),m.push(E)),E}var n=e.Array,r=e.Lang,i=r.isString,s=r.isObject,o=r.isArray,u=e.Selector.test,a=e.Env.evt.handles;f.notifySub=function(t,r,i){r=r.slice(),this.args&&r.push.apply(r,this.args);var s=f._applyFilter(this.filter,r,i),o,u,a,l;if(s){s=n(s),o=r[0]=new e.DOMEventFacade(r[0],i.el,i),o.container=e.one(i.el);for(u=0,a=s.length;u<a&&!o.stopped;++u){o.currentTarget=e.one(s[u]),l=this.fn.apply(this.context||o.currentTarget,r);if(l===!1)break}return l}},f.compileFilter=e.cached(function(e){return function(t,n){return u(t._node,e,n.currentTarget===n.target?null:n.currentTarget._node)}}),f._disabledRE=/^(?:button|input|select|textarea)$/i,f._applyFilter=function(t,n,r){var s=n[0],o=r.el,a=s.target||s.srcElement,l=[],c=!1;a.nodeType===3&&(a=a.parentNode);if(a.disabled&&f._disabledRE.test(a.nodeName))return l;n.unshift(a);if(i(t))while(a){c=a===o,u(a,t,c?null:o)&&l.push(a);if(c)break;a=a.parentNode}else{n[0]=e.one(a),n[1]=new e.DOMEventFacade(s,o,r);while(a){t.apply(n[0],n)&&l.push(a);if(a===o)break;a=a.parentNode,n[0]=e.one(a)}n[1]=s}return l.length<=1&&(l=l[0]),n.shift(),l},e.delegate=e.Event.delegate=f},"3.18.1",{requires:["node-base"]});
YUI.add("event-flick",function(e,t){var n=e.Event._GESTURE_MAP,r={start:n.start,end:n.end,move:n.move},i="start",s="end",o="move",u="ownerDocument",a="minVelocity",f="minDistance",l="preventDefault",c="_fs",h="_fsh",p="_feh",d="_fmh",v="nodeType";e.Event.define("flick",{on:function(e,t,n){var s=e.on(r[i],this._onStart,this,e,t,n);t[h]=s},detach:function(e,t,n){var r=t[h],i=t[p];r&&(r.detach(),t[h]=null),i&&(i.detach(),t[p]=null)},processArgs:function(t){var n=t.length>3?e.merge(t.splice(3,1)[0]):{};return a in n||(n[a]=this.MIN_VELOCITY),f in n||(n[f]=this.MIN_DISTANCE),l in n||(n[l]=this.PREVENT_DEFAULT),n},_onStart:function(t,n,i,a){var f=!0,l,h,m,g=i._extra.preventDefault,y=t;t.touches&&(f=t.touches.length===1,t=t.touches[0]),f&&(g&&(!g.call||g(t))&&y.preventDefault(),t.flick={time:(new Date).getTime()},i[c]=t,l=i[p],m=n.get(v)===9?n:n.get(u),l||(l=m.on(r[s],e.bind(this._onEnd,this),null,n,i,a),i[p]=l),i[d]=m.once(r[o],e.bind(this._onMove,this),null,n,i,a))},_onMove:function(e,t,n,r){var i=n[c];i&&i.flick&&(i.flick.time=(new Date).getTime())},_onEnd:function(e,t,n,r){var i=(new Date).getTime(),s=n[c],o=!!s,u=e,h,p,v,m,g,y,b,w,E=n[d];E&&(E.detach(),delete n[d]),o&&(e.changedTouches&&(e.changedTouches.length===1&&e.touches.length===0?u=e.changedTouches[0]:o=!1),o&&(m=n._extra,v=m[l],v&&(!v.call||v(e))&&e.preventDefault(),h=s.flick.time,i=(new Date).getTime(),p=i-h,g=[u.pageX-s.pageX,u.pageY-s.pageY],m.axis?w=m.axis:w=Math.abs(g[0])>=Math.abs(g[1])?"x":"y",y=g[w==="x"?0:1],b=p!==0?y/p:0,isFinite(b)&&Math.abs(y)>=m[f]&&Math.abs(b)>=m[a]&&(e.type="flick",e.flick={time:p,distance:y,velocity:b,axis:w,start:s},r.fire(e)),n[c]=null))},MIN_VELOCITY:0,MIN_DISTANCE:0,PREVENT_DEFAULT:!1})},"3.18.1",{requires:["node-base","event-touch","event-synthetic"]});
YUI.add("event-focus",function(e,t){function u(t,r,u){var a="_"+t+"Notifiers";e.Event.define(t,{_useActivate:o,_attach:function(i,s,o){return e.DOM.isWindow(i)?n._attach([t,function(e){s.fire(e)},i]):n._attach([r,this._proxy,i,this,s,o],{capture:!0})},_proxy:function(t,r,i){var s=t.target,f=t.currentTarget,l=s.getData(a),c=e.stamp(f._node),h=o||s!==f,p;r.currentTarget=i?s:f,r.container=i?f:null,l?h=!0:(l={},s.setData(a,l),h&&(p=n._attach([u,this._notify,s._node]).sub,p.once=!0)),l[c]||(l[c]=[]),l[c].push(r),h||this._notify(t)},_notify:function(t,n){var r=t.currentTarget,i=r.getData(a),o=r.ancestors(),u=r.get("ownerDocument"),f=[],l=i?e.Object.keys(i).length:0,c,h,p,d,v,m,g,y,b,w;r.clearData(a),o.push(r),u&&o.unshift(u),o._nodes.reverse(),l&&(m=l,o.some(function(t){var n=e.stamp(t),r=i[n],s,o;if(r){l--;for(s=0,o=r.length;s<o;++s)r[s].handle.sub.filter&&f.push(r[s])}return!l}),l=m);while(l&&(c=o.shift())){d=e.stamp(c),h=i[d];if(h){for(g=0,y=h.length;g<y;++g){p=h[g],b=p.handle.sub,v=!0,t.currentTarget=c,b.filter&&(v=b.filter.apply(c,[c,t].concat(b.args||[])),f.splice(s(f,p),1)),v&&(t.container=p.container,w=p.fire(t));if(w===!1||t.stopped===2)break}delete h[d],l--}if(t.stopped!==2)for(g=0,y=f.length;g<y;++g){p=f[g],b=p.handle.sub,b.filter.apply(c,[c,t].concat(b.args||[]))&&(t.container=p.container,t.currentTarget=c,w=p.fire(t));if(w===!1||t.stopped===2||t.stopped&&f[g+1]&&f[g+1].container!==p.container)break}if(t.stopped)break}},on:function(e,t,n){t.handle=this._attach(e._node,n)},detach:function(e,t){t.handle.detach()},delegate:function(t,n,r,s){i(s)&&(n.filter=function(n){return e.Selector.test(n._node,s,t===n?null:t._node)}),n.handle=this._attach(t._node,r,!0)},detachDelegate:function(e,t){t.handle.detach()}},!0)}var n=e.Event,r=e.Lang,i=r.isString,s=e.Array.indexOf,o=function(){var t=!1,n=e.config.doc,r;return n&&(r=n.createElement("p"),r.setAttribute("onbeforeactivate",";"),t=r.onbeforeactivate!==undefined),t}();o?(u("focus","beforeactivate","focusin"),u("blur","beforedeactivate","focusout")):(u("focus","focus","focus"),u("blur","blur","blur"))},"3.18.1",{requires:["event-synthetic"]});
YUI.add("event-hover",function(e,t){var n=e.Lang.isFunction,r=function(){},i={processArgs:function(e){var t=n(e[2])?2:3;return n(e[t])?e.splice(t,1)[0]:r},on:function(e,t,n,r){var i=t.args?t.args.slice():[];i.unshift(null),t._detach=e[r?"delegate":"on"]({mouseenter:function(e){e.phase="over",n.fire(e)},mouseleave:function(e){var n=t.context||this;i[0]=e,e.type="hover",e.phase="out",t._extra.apply(n,i)}},r)},detach:function(e,t,n){t._detach.detach()}};i.delegate=i.on,i.detachDelegate=i.detach,e.Event.define("hover",i)},"3.18.1",{requires:["event-mouseenter"]});
YUI.add("event-key",function(e,t){var n="+alt",r="+ctrl",i="+meta",s="+shift",o=e.Lang.trim,u={KEY_MAP:{enter:13,space:32,esc:27,backspace:8,tab:9,pageup:33,pagedown:34},_typeRE:/^(up|down|press):/,_keysRE:/^(?:up|down|press):|\+(alt|ctrl|meta|shift)/g,processArgs:function(t){var n=t.splice(3,1)[0],r=e.Array.hash(n.match(/\+(?:alt|ctrl|meta|shift)\b/g)||[]),i={type:this._typeRE.test(n)?RegExp.$1:null,mods:r,keys:null},s=n.replace(this._keysRE,""),u,a,f,l;if(s){s=s.split(","),i.keys={};for(l=s.length-1;l>=0;--l){u=o(s[l]);if(!u)continue;+u==u?i.keys[u]=r:(f=u.toLowerCase(),this.KEY_MAP[f]?(i.keys[this.KEY_MAP[f]]=r,i.type||(i.type="down")):(u=u.charAt(0),a=u.toUpperCase(),r["+shift"]&&(u=a),i.keys[u.charCodeAt(0)]=u===a?e.merge(r,{"+shift":!0}):r))}}return i.type||(i.type="press"),i},on:function(e,t,o,u){var a=t._extra,f="key"+a.type,l=a.keys,c=u?"delegate":"on";t._detach=e[c](f,function(e){var t=l?l[e.which]:a.mods;t&&(!t[n]||t[n]&&e.altKey)&&(!t[r]||t[r]&&e.ctrlKey)&&(!t[i]||t[i]&&e.metaKey)&&(!t[s]||t[s]&&e.shiftKey)&&o.fire(e)},u)},detach:function(e,t,n){t._detach.detach()}};u.delegate=u.on,u.detachDelegate=u.detach,e.Event.define("key",u,!0)},"3.18.1",{requires:["event-synthetic"]});
YUI.add("event-mouseenter",function(e,t){var n=e.Env.evt.dom_wrappers,r=e.DOM.contains,i=e.Array,s=function(){},o={proxyType:"mouseover",relProperty:"fromElement",_notify:function(t,i,s){var o=this._node,u=t.relatedTarget||t[i];o!==u&&!r(o,u)&&s.fire(new e.DOMEventFacade(t,o,n["event:"+e.stamp(o)+t.type]))},on:function(t,n,r){var i=e.Node.getDOMNode(t),s=[this.proxyType,this._notify,i,null,this.relProperty,r];n.handle=e.Event._attach(s,{facade:!1})},detach:function(e,t){t.handle.detach()},delegate:function(t,n,r,i){var o=e.Node.getDOMNode(t),u=[this.proxyType,s,o,null,r];n.handle=e.Event._attach(u,{facade:!1}),n.handle.sub.filter=i,n.handle.sub.relProperty=this.relProperty,n.handle.sub._notify=this._filterNotify},_filterNotify:function(t,n,s){n=n.slice(),this.args&&n.push.apply(n,this.args);var o=e.delegate._applyFilter(this.filter,n,s),u=n[0].relatedTarget||n[0][this.relProperty],a,f,l,c,h;if(o){o=i(o);for(f=0,l=o.length&&(!a||!a.stopped);f<l;++f){h=o[0];if(!r(h,u)){a||(a=new e.DOMEventFacade(n[0],h,s),a.container=e.one(s.el)),a.currentTarget=e.one(h),c=n[1].fire(a);if(c===!1)break}}}return c},detachDelegate:function(e,t){t.handle.detach()}};e.Event.define("mouseenter",o,!0),e.Event.define("mouseleave",e.merge(o,{proxyType:"mouseout",relProperty:"toElement"}),!0)},"3.18.1",{requires:["event-synthetic"]});
YUI.add("event-mousewheel",function(e,t){var n="DOMMouseScroll",r=function(t){var r=e.Array(t,0,!0),i;return e.UA.gecko?(r[0]=n,i=e.config.win):i=e.config.doc,r.length<3?r[2]=i:r.splice(2,0,i),r};e.Env.evt.plugins.mousewheel={on:function(){return e.Event._attach(r(arguments))},detach:function(){return e.Event.detach.apply(e.Event,r(arguments))}}},"3.18.1",{requires:["node-base"]});
YUI.add("event-move",function(e,t){var n=e.Event._GESTURE_MAP,r={start:n.start,end:n.end,move:n.move},i="start",s="move",o="end",u="gesture"+s,a=u+o,f=u+i,l="_msh",c="_mh",h="_meh",p="_dmsh",d="_dmh",v="_dmeh",m="_ms",g="_m",y="minTime",b="minDistance",w="preventDefault",E="button",S="ownerDocument",x="currentTarget",T="target",N="nodeType",C=function(e){var t;return e&&("PointerEvent"in e?t="touchAction":"msPointerEnabled"in e.navigator&&(t="msTouchAction")),t},k=C(e.config.win),L=k==="msTouchAction"||k==="touchAction",A="msTouchActionCount",O="msInitTouchAction",M=function(t,n,r){var i=r?4:3,s=n.length>i?e.merge(n.splice(i,1)[0]):{};return w in s||(s[w]=t.PREVENT_DEFAULT),s},_=function(e,t){return t._extra.root||e.get(N)===9?e:e.get(S)},D=function(t){var n=t.getDOMNode();return t.compareTo(e.config.doc)&&n.documentElement?n.documentElement:!1},P=function(e,t,n){e.pageX=t.pageX,e.pageY=t.pageY,e.screenX=t.screenX,e.screenY=t.screenY,e.clientX=t.clientX,e.clientY=t.clientY,e[T]=e[T]||t[T],e[x]=e[x]||t[x],e[E]=n&&n[E]||1},H=function(t){var n=t.getDOMNode(),r=t.getData(A);L&&(r||(r=0,t.setData(O,n.style[k])),n.style[k]=e.Event._DEFAULT_TOUCH_ACTION,r++,t.setData(A,r))},B=function(e){var t=e.getDOMNode(),n=e.getData(A),r=e.getData(O);L&&(n--,e.setData(A,n),n===0&&t.style[k]!==r&&(t.style[k]=r))},j=function(e,t){t&&(!t.call||t(e))&&e.preventDefault()},F=e.Event.define;e.Event._DEFAULT_TOUCH_ACTION="none",F(f,{on:function(e,t,n){D(e)||H(e),t[l]=e.on(r[i],this._onStart,this,e,t,n)},delegate:function(e,t,n,s){var o=this;t[p]=e.delegate(r[i],function(r){o._onStart(r,e,t,n,!0)},s)},detachDelegate:function(e,t,n,r){var i=t[p];i&&(i.detach(),t[p]=null),D(e)||B(e)},detach:function(e,t,n){var r=t[l];r&&(r.detach(),t[l]=null),D(e)||B(e)},processArgs:function(e,t){var n=M(this,e,t);return y in n||(n[y]=this.MIN_TIME),b in n||(n[b]=this.MIN_DISTANCE),n},_onStart:function(t,n,i,u,a){a&&(n=t[x]);var f=i._extra,l=!0,c=f[y],h=f[b],p=f.button,d=f[w],v=_(n,i),m;t.touches?t.touches.length===1?P(t,t.touches[0],f):l=!1:l=p===undefined||p===t.button,l&&(j(t,d),c===0||h===0?this._start(t,n,u,f):(m=[t.pageX,t.pageY],c>0&&(f._ht=e.later(c,this,this._start,[t,n,u,f]),f._hme=v.on(r[o],e.bind(function(){this._cancel(f)},this))),h>0&&(f._hm=v.on(r[s],e.bind(function(e){(Math.abs(e.pageX-m[0])>h||Math.abs(e.pageY-m[1])>h)&&this._start(t,n,u,f)},this)))))},_cancel:function(e){e._ht&&(e._ht.cancel(),e._ht=null),e._hme&&(e._hme.detach(),e._hme=null),e._hm&&(e._hm.detach(),e._hm=null)},_start:function(e,t,n,r){r&&this._cancel(r),e.type=f,t.setData(m,e),n.fire(e)},MIN_TIME:0,MIN_DISTANCE:0,PREVENT_DEFAULT:!1}),F(u,{on:function(e,t,n){var i,o;D(e)||H(e),o=_(e,t,r[s]),i=o.on(r[s],this._onMove,this,e,t,n),t[c]=i},delegate:function(e,t,n,i){var o=this;t[d]=e.delegate(r[s],function(r){o._onMove(r,e,t,n,!0)},i)},detach:function(e,t,n){var r=t[c];r&&(r.detach(),t[c]=null),D(e)||B(e)},detachDelegate:function(e,t,n,r){var i=t[d];i&&(i.detach(),t[d]=null),D(e)||B(e)},processArgs:function(e,t){return M(this,e,t)},_onMove:function(e,t,n,r,i){i&&(t=e[x]);var s=n._extra.standAlone||t.getData(m),o=n._extra.preventDefault;s&&(e.touches&&(e.touches.length===1?P(e,e.touches[0]):s=!1),s&&(j(e,o),e.type=u,r.fire(e)))},PREVENT_DEFAULT:!1}),F(a,{on:function(e,t,n){var i,s;D(e)||H(e),s=_(e,t),i=s.on(r[o],this._onEnd,this,e,t,n),t[h]=i},delegate:function(e,t,n,i){var s=this;t[v]=e.delegate(r[o],function(r){s._onEnd(r,e,t,n,!0)},i)},detachDelegate:function(e,t,n,r){var i=t[v];i&&(i.detach(),t[v]=null),D(e)||B(e)},detach:function(e,t,n){var r=t[h];r&&(r.detach(),t[h]=null),D(e)||B(e)},processArgs:function(e,t){return M(this,e,t)},_onEnd:function(e,t,n,r,i){i&&(t=e[x]);var s=n._extra.standAlone||t.getData(g)||t.getData(m),o=n._extra.preventDefault;s&&(e.changedTouches&&(e.changedTouches.length===1?P(e,e.changedTouches[0]):s=!1),s&&(j(e,o),e.type=a,r.fire(e),t.clearData(m),t.clearData(g)))},PREVENT_DEFAULT:!1})},"3.18.1",{requires:["node-base","event-touch","event-synthetic"]});
YUI.add("event-outside",function(e,t){var n=["blur","change","click","dblclick","focus","keydown","keypress","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","select","submit"];e.Event.defineOutside=function(t,n){n=n||t+"outside";var r={on:function(n,r,i){r.handle=e.one("doc").on(t,function(e){this.isOutside(n,e.target)&&(e.currentTarget=n,i.fire(e))},this)},detach:function(e,t,n){t.handle.detach()},delegate:function(n,r,i,s){r.handle=e.one("doc").delegate(t,function(e){this.isOutside(n,e.target)&&i.fire(e)},s,this)},isOutside:function(e,t){return t!==e&&!t.ancestor(function(t){return t===e})}};r.detachDelegate=r.detach,e.Event.define(n,r)},e.Array.each(n,function(t){e.Event.defineOutside(t)})},"3.18.1",{requires:["event-synthetic"]});
YUI.add("event-resize",function(e,t){e.Event.define("windowresize",{on:e.UA.gecko&&e.UA.gecko<1.91?function(t,n,r){n._handle=e.Event.attach("resize",function(e){r.fire(e)})}:function(t,n,r){var i=e.config.windowResizeDelay||100;n._handle=e.Event.attach("resize",function(t){n._timer&&n._timer.cancel(),n._timer=e.later(i,e,function(){r.fire(t)})})},detach:function(e,t){t._timer&&t._timer.cancel(),t._handle.detach()}})},"3.18.1",{requires:["node-base","event-synthetic"]});
YUI.add("event-simulate",function(e,t){(function(){function v(t,n,a,f,l,c,h,p,d,v,m){t||e.error("simulateKeyEvent(): Invalid target.");if(i(n)){n=n.toLowerCase();switch(n){case"textevent":n="keypress";break;case"keyup":case"keydown":case"keypress":break;default:e.error("simulateKeyEvent(): Event type '"+n+"' not supported.")}}else e.error("simulateKeyEvent(): Event type must be a string.");s(a)||(a=!0),s(f)||(f=!0),o(l)||(l=e.config.win),s(c)||(c=!1),s(h)||(h=!1),s(p)||(p=!1),s(d)||(d=!1),u(v)||(v=0),u(m)||(m=0);var g=null;if(r(e.config.doc.createEvent)){try{g=e.config.doc.createEvent("KeyEvents"),g.initKeyEvent(n,a,f,l,c,h,p,d,v,m)}catch(y){try{g=e.config.doc.createEvent("Events")}catch(b){g=e.config.doc.createEvent("UIEvents")}finally{g.initEvent(n,a,f),g.view=l,g.altKey=h,g.ctrlKey=c,g.shiftKey=p,g.metaKey=d,g.keyCode=v,g.charCode=m}}t.dispatchEvent(g)}else o(e.config.doc.createEventObject)?(g=e.config.doc.createEventObject(),g.bubbles=a,g.cancelable=f,g.view=l,g.ctrlKey=c,g.altKey=h,g.shiftKey=p,g.metaKey=d,g.keyCode=m>0?m:v,t.fireEvent("on"+n,g)):e.error("simulateKeyEvent(): No event simulation framework present.")}function m(t,n,l,c,h,p,d,v,m,g,y,b,w,E,S,x){t||e.error("simulateMouseEvent(): Invalid target."),i(n)?!a[n.toLowerCase()]&&!f[n]&&e.error("simulateMouseEvent(): Event type '"+n+"' not supported."):e.error("simulateMouseEvent(): Event type must be a string."),s(l)||(l=!0),s(c)||(c=n!=="mousemove"),o(h)||(h=e.config.win),u(p)||(p=1),u(d)||(d=0),u(v)||(v=0),u(m)||(m=0),u(g)||(g=0),s(y)||(y=!1),s(b)||(b=!1),s(w)||(w=!1),s(E)||(E=!1),u(S)||(S=0),x=x||null;var T=null;if(r(e.config.doc.createEvent))T=e.config.doc.createEvent("MouseEvents"),T.initMouseEvent?T.initMouseEvent(n,l,c,h,p,d,v,m,g,y,b,w,E,S,x):(T=e.config.doc.createEvent("UIEvents"),T.initEvent(n,l,c),T.view=h,T.detail=p,T.screenX=d,T.screenY=v,T.clientX=m,T.clientY=g,T.ctrlKey=y,T.altKey=b,T.metaKey=E,T.shiftKey=w,T.button=S,T.relatedTarget=x),x&&!T.relatedTarget&&(n==="mouseout"?T.toElement=x:n==="mouseover"&&(T.fromElement=x)),t.dispatchEvent(T);else if(o(e.config.doc.createEventObject)){T=e.config.doc.createEventObject(),T.bubbles=l,T.cancelable=c,T.view=h,T.detail=p,T.screenX=d,T.screenY=v,T.clientX=m,T.clientY=g,T.ctrlKey=y,T.altKey=b,T.metaKey=E,T.shiftKey=w;switch(S){case 0:T.button=1;break;case 1:T.button=4;break;case 2:break;default:T.button=0}T.relatedTarget=x,t.fireEvent("on"+n,T)}else e.error("simulateMouseEvent(): No event simulation framework present.")}function g(t,n,a,f,l,p){t||e.error("simulateUIEvent(): Invalid target."),i(n)?(n=n.toLowerCase(),c[n]||e.error("simulateUIEvent(): Event type '"+n+"' not supported.")):e.error("simulateUIEvent(): Event type must be a string.");var d=null;s(a)||(a=n in h),s(f)||(f=n==="submit"),o(l)||(l=e.config.win),u(p)||(p=1),r(e.config.doc.createEvent)?(d=e.config.doc.createEvent("UIEvents"),d.initUIEvent(n,a,f,l,p),t.dispatchEvent(d)):o(e.config.doc.createEventObject)?(d=e.config.doc.createEventObject(),d.bubbles=a,d.cancelable=f,d.view=l,d.detail=p,t.fireEvent("on"+n,d)):e.error("simulateUIEvent(): No event simulation framework present.")}function y(t,n,r,i,s,o,u,a,f,l,c,h,p,v,m,g){var y;(!e.UA.ios||e.UA.ios<2)&&e.error("simulateGestureEvent(): Native gesture DOM eventframe is not available in this platform."),t||e.error("simulateGestureEvent(): Invalid target."),e.Lang.isString(n)?(n=n.toLowerCase(),d[n]||e.error("simulateTouchEvent(): Event type '"+n+"' not supported.")):e.error("simulateGestureEvent(): Event type must be a string."),e.Lang.isBoolean(r)||(r=!0),e.Lang.isBoolean(i)||(i=!0),e.Lang.isObject(s)||(s=e.config.win),e.Lang.isNumber(o)||(o=2),e.Lang.isNumber(u)||(u=0),e.Lang.isNumber(a)||(a=0),e.Lang.isNumber(f)||(f=0),e.Lang.isNumber(l)||(l=0),e.Lang.isBoolean(c)||(c=!1),e.Lang.isBoolean(h)||(h=!1),e.Lang.isBoolean(p)||(p=!1),e.Lang.isBoolean(v)||(v=!1),e.Lang.isNumber(m)||(m=1),e.Lang.isNumber(g)||(g=0),y=e.config.doc.createEvent("GestureEvent"),y.initGestureEvent(n,r,i,s,o,u,a,f,l,c,h,p,v,t,m,g),t.dispatchEvent(y)}function b(t,n,r,i,s,o,u,a,f,l,c,h,d,v,m,g,y,b,w){var E;t||e.error("simulateTouchEvent(): Invalid target."),e.Lang.isString(n)?(n=n.toLowerCase(),p[n]||e.error("simulateTouchEvent(): Event type '"+n+"' not supported.")):e.error("simulateTouchEvent(): Event type must be a string."),n==="touchstart"||n==="touchmove"?m.length===0&&e.error("simulateTouchEvent(): No touch object in touches"):n==="touchend"&&y.length===0&&e.error("simulateTouchEvent(): No touch object in changedTouches"),e.Lang.isBoolean(r)||(r=!0),e.Lang.isBoolean(i)||(i=n!=="touchcancel"),e.Lang.isObject(s)||(s=e.config.win),e.Lang.isNumber(o)||(o=1),e.Lang.isNumber(u)||(u=0),e.Lang.isNumber(a)||(a=0),e.Lang.isNumber(f)||(f=0),e.Lang.isNumber(l)||(l=0),e.Lang.isBoolean(c)||(c=!1),e.Lang.isBoolean(h)||(h=!1),e.Lang.isBoolean(d)||(d=!1),e.Lang.isBoolean(v)||(v=!1),e.Lang.isNumber(b)||(b=1),e.Lang.isNumber(w)||(w=0),e.Lang.isFunction(e.config.doc.createEvent)?(e.UA.android?e.UA.android<4?(E=e.config.doc.createEvent("MouseEvents"),E.initMouseEvent(n,r,i,s,o,u,a,f,l,c,h,d,v,0,t),E.touches=m,E.targetTouches=g,E.changedTouches=y):(E=e.config.doc.createEvent("TouchEvent"),E.initTouchEvent(m,g,y,n,s,u,a,f,l,c,h,d,v)):e.UA.ios?e.UA.ios>=2?(E=e.config.doc.createEvent("TouchEvent"),E.initTouchEvent(n,r,i,s,o,u,a,f,l,c,h,d,v,m,g,y,b,w)):e.error("simulateTouchEvent(): No touch event simulation framework present for iOS, "+e.UA.ios+"."):e.error("simulateTouchEvent(): Not supported agent yet, "+e.UA.userAgent),t.dispatchEvent(E)):e.error("simulateTouchEvent(): No event simulation framework present.")}var t=e.Lang,n=e.config.win,r=t.isFunction,i=t.isString,s=t.isBoolean,o=t.isObject,u=t.isNumber,a={click:1,dblclick:1,mouseover:1,mouseout:1,mousedown:1,mouseup:1,mousemove:1,contextmenu:1},f=n&&n.PointerEvent?{pointerover:1,pointerout:1,pointerdown:1,pointerup:1,pointermove:1}:{MSPointerOver:1,MSPointerOut:1,MSPointerDown:1,MSPointerUp:1,MSPointerMove:1},l={keydown:1,keyup:1,keypress:1},c={submit:1,blur
:1,change:1,focus:1,resize:1,scroll:1,select:1},h={scroll:1,resize:1,reset:1,submit:1,change:1,select:1,error:1,abort:1},p={touchstart:1,touchmove:1,touchend:1,touchcancel:1},d={gesturestart:1,gesturechange:1,gestureend:1};e.mix(h,a),e.mix(h,l),e.mix(h,p),e.Event.simulate=function(t,n,r){r=r||{},a[n]||f[n]?m(t,n,r.bubbles,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget):l[n]?v(t,n,r.bubbles,r.cancelable,r.view,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode):c[n]?g(t,n,r.bubbles,r.cancelable,r.view,r.detail):p[n]?e.config.win&&"ontouchstart"in e.config.win&&!e.UA.phantomjs&&!(e.UA.chrome&&e.UA.chrome<6)?b(t,n,r.bubbles,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.touches,r.targetTouches,r.changedTouches,r.scale,r.rotation):e.error("simulate(): Event '"+n+"' can't be simulated. Use gesture-simulate module instead."):e.UA.ios&&e.UA.ios>=2&&d[n]?y(t,n,r.bubbles,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.scale,r.rotation):e.error("simulate(): Event '"+n+"' can't be simulated.")}})()},"3.18.1",{requires:["event-base"]});
YUI.add("event-synthetic",function(e,t){function c(e,t){this.handle=e,this.emitFacade=t}function h(e,t,n){this.handles=[],this.el=e,this.key=n,this.domkey=t}function p(){this._init.apply(this,arguments)}var n=e.CustomEvent,r=e.Env.evt.dom_map,i=e.Array,s=e.Lang,o=s.isObject,u=s.isString,a=s.isArray,f=e.Selector.query,l=function(){};c.prototype.fire=function(t){var n=i(arguments,0,!0),r=this.handle,s=r.evt,u=r.sub,a=u.context,f=u.filter,l=t||{},c;if(this.emitFacade){if(!t||!t.preventDefault)l=s._getFacade(),o(t)&&!t.preventDefault?(e.mix(l,t,!0),n[0]=l):n.unshift(l);l.type=s.type,l.details=n.slice(),f&&(l.container=s.host)}else f&&o(t)&&t.currentTarget&&n.shift();return u.context=a||l.currentTarget||s.host,c=s.fire.apply(s,n),t.prevented&&s.preventedFn&&s.preventedFn.apply(s,n),t.stopped&&s.stoppedFn&&s.stoppedFn.apply(s,n),u.context=a,c},h.prototype={constructor:h,type:"_synth",fn:l,capture:!1,register:function(e){e.evt.registry=this,this.handles.push(e)},unregister:function(t){var n=this.handles,i=r[this.domkey],s;for(s=n.length-1;s>=0;--s)if(n[s].sub===t){n.splice(s,1);break}n.length||(delete i[this.key],e.Object.size(i)||delete r[this.domkey])},detachAll:function(){var e=this.handles,t=e.length;while(--t>=0)e[t].detach()}},e.mix(p,{Notifier:c,SynthRegistry:h,getRegistry:function(t,n,i){var s=t._node,o=e.stamp(s),u="event:"+o+n+"_synth",a=r[o];return i&&(a||(a=r[o]={}),a[u]||(a[u]=new h(s,o,u))),a&&a[u]||null},_deleteSub:function(e){if(e&&e.fn){var t=this.eventDef,r=e.filter?"detachDelegate":"detach";this._subscribers=[],n.keepDeprecatedSubs&&(this.subscribers={}),t[r](e.node,e,this.notifier,e.filter),this.registry.unregister(e),delete e.fn,delete e.node,delete e.context}},prototype:{constructor:p,_init:function(){var e=this.publishConfig||(this.publishConfig={});this.emitFacade="emitFacade"in e?e.emitFacade:!0,e.emitFacade=!1},processArgs:l,on:l,detach:l,delegate:l,detachDelegate:l,_on:function(t,n){var r=[],s=t.slice(),o=this.processArgs(t,n),a=t[2],l=n?"delegate":"on",c,h;return c=u(a)?f(a):i(a||e.one(e.config.win)),!c.length&&u(a)?(h=e.on("available",function(){e.mix(h,e[l].apply(e,s),!0)},a),h):(e.Array.each(c,function(i){var s=t.slice(),u;i=e.one(i),i&&(n&&(u=s.splice(3,1)[0]),s.splice(0,4,s[1],s[3]),(!this.preventDups||!this.getSubs(i,t,null,!0))&&r.push(this._subscribe(i,l,s,o,u)))},this),r.length===1?r[0]:new e.EventHandle(r))},_subscribe:function(t,n,r,i,s){var o=new e.CustomEvent(this.type,this.publishConfig),u=o.on.apply(o,r),a=new c(u,this.emitFacade),f=p.getRegistry(t,this.type,!0),l=u.sub;return l.node=t,l.filter=s,i&&this.applyArgExtras(i,l),e.mix(o,{eventDef:this,notifier:a,host:t,currentTarget:t,target:t,el:t._node,_delete:p._deleteSub},!0),u.notifier=a,f.register(u),this[n](t,l,a,s),u},applyArgExtras:function(e,t){t._extra=e},_detach:function(t){var n=t[2],r=u(n)?f(n):i(n),s,o,a,l,c;t.splice(2,1);for(o=0,a=r.length;o<a;++o){s=e.one(r[o]);if(s){l=this.getSubs(s,t);if(l)for(c=l.length-1;c>=0;--c)l[c].detach()}}},getSubs:function(e,t,n,r){var i=p.getRegistry(e,this.type),s=[],o,u,a,f;if(i){o=i.handles,n||(n=this.subMatch);for(u=0,a=o.length;u<a;++u){f=o[u];if(n.call(this,f.sub,t)){if(r)return f;s.push(o[u])}}}return s.length&&s},subMatch:function(e,t){return!t[1]||e.fn===t[1]}}},!0),e.SyntheticEvent=p,e.Event.define=function(t,n,r){var s,o,f;t&&t.type?(s=t,r=n):n&&(s=e.merge({type:t},n));if(s){if(r||!e.Node.DOM_EVENTS[s.type])o=function(){p.apply(this,arguments)},e.extend(o,p,s),f=new o,t=f.type,e.Node.DOM_EVENTS[t]=e.Env.evt.plugins[t]={eventDef:f,on:function(){return f._on(i(arguments))},delegate:function(){return f._on(i(arguments),!0)},detach:function(){return f._detach(i(arguments))}}}else(u(t)||a(t))&&e.Array.each(i(t),function(t){e.Node.DOM_EVENTS[t]=1});return f}},"3.18.1",{requires:["node-base","event-custom-complex"]});
YUI.add("event-tap",function(e,t){function a(t,n){n=n||e.Object.values(u),e.Array.each(n,function(e){var n=t[e];n&&(n.detach(),t[e]=null)})}var n=e.config.doc,r=e.Event._GESTURE_MAP,i=r.start,s="tap",o=/pointer/i,u={START:"Y_TAP_ON_START_HANDLE",END:"Y_TAP_ON_END_HANDLE",CANCEL:"Y_TAP_ON_CANCEL_HANDLE"};e.Event.define(s,{publishConfig:{preventedFn:function(e){var t=e.target.once("click",function(e){e.preventDefault()});setTimeout(function(){t.detach()},100)}},processArgs:function(e,t){if(!t){var n=e[3];return e.splice(3,1),n}},on:function(e,t,n){t[u.START]=e.on(i,this._start,this,e,t,n)},detach:function(e,t,n){a(t)},delegate:function(t,n,r,s){n[u.START]=e.delegate(i,function(e){this._start(e,t,n,r,!0)},t,s,this)},detachDelegate:function(e,t,n){a(t)},_start:function(e,t,n,i,s){var a={canceled:!1,eventType:e.type},f=n.preventMouse||!1;if(e.button&&e.button===3)return;if(e.touches&&e.touches.length!==1)return;a.node=s?e.currentTarget:t,e.touches?a.startXY=[e.touches[0].pageX,e.touches[0].pageY]:a.startXY=[e.pageX,e.pageY],e.touches?(n[u.END]=t.once("touchend",this._end,this,t,n,i,s,a),n[u.CANCEL]=t.once("touchcancel",this.detach,this,t,n,i,s,a),n.preventMouse=!0):a.eventType.indexOf("mouse")!==-1&&!f?(n[u.END]=t.once("mouseup",this._end,this,t,n,i,s,a),n[u.CANCEL]=t.once("mousecancel",this.detach,this,t,n,i,s,a)):a.eventType.indexOf("mouse")!==-1&&f?n.preventMouse=!1:o.test(a.eventType)&&(n[u.END]=t.once(r.end,this._end,this,t,n,i,s,a),n[u.CANCEL]=t.once(r.cancel,this.detach,this,t,n,i,s,a))},_end:function(e,t,n,r,i,o){var f=o.startXY,l,c,h=15;n._extra&&n._extra.sensitivity>=0&&(h=n._extra.sensitivity),e.changedTouches?(l=[e.changedTouches[0].pageX,e.changedTouches[0].pageY],c=[e.changedTouches[0].clientX,e.changedTouches[0].clientY]):(l=[e.pageX,e.pageY],c=[e.clientX,e.clientY]),Math.abs(l[0]-f[0])<=h&&Math.abs(l[1]-f[1])<=h&&(e.type=s,e.pageX=l[0],e.pageY=l[1],e.clientX=c[0],e.clientY=c[1],e.currentTarget=o.node,r.fire(e)),a(n,[u.END,u.CANCEL])}})},"3.18.1",{requires:["node-base","event-base","event-touch","event-synthetic"]});
YUI.add("event-touch",function(e,t){var n="scale",r="rotation",i="identifier",s=e.config.win,o={};e.DOMEventFacade.prototype._touch=function(t,s,o){var u,a,f,l,c;if(t.touches){this.touches=[],c={};for(u=0,a=t.touches.length;u<a;++u)l=t.touches[u],c[e.stamp(l)]=this.touches[u]=new e.DOMEventFacade(l,s,o)}if(t.targetTouches){this.targetTouches=[];for(u=0,a=t.targetTouches.length;u<a;++u)l=t.targetTouches[u],f=c&&c[e.stamp(l,!0)],this.targetTouches[u]=f||new e.DOMEventFacade(l,s,o)}if(t.changedTouches){this.changedTouches=[];for(u=0,a=t.changedTouches.length;u<a;++u)l=t.changedTouches[u],f=c&&c[e.stamp(l,!0)],this.changedTouches[u]=f||new e.DOMEventFacade(l,s,o)}n in t&&(this[n]=t[n]),r in t&&(this[r]=t[r]),i in t&&(this[i]=t[i])},e.Node.DOM_EVENTS&&e.mix(e.Node.DOM_EVENTS,{touchstart:1,touchmove:1,touchend:1,touchcancel:1,gesturestart:1,gesturechange:1,gestureend:1,MSPointerDown:1,MSPointerUp:1,MSPointerMove:1,MSPointerCancel:1,pointerdown:1,pointerup:1,pointermove:1,pointercancel:1}),s&&"ontouchstart"in s&&!(e.UA.chrome&&e.UA.chrome<6)?(o.start=["touchstart","mousedown"],o.end=["touchend","mouseup"],o.move=["touchmove","mousemove"],o.cancel=["touchcancel","mousecancel"]):s&&s.PointerEvent?(o.start="pointerdown",o.end="pointerup",o.move="pointermove",o.cancel="pointercancel"):s&&"msPointerEnabled"in s.navigator?(o.start="MSPointerDown",o.end="MSPointerUp",o.move="MSPointerMove",o.cancel="MSPointerCancel"):(o.start="mousedown",o.end="mouseup",o.move="mousemove",o.cancel="mousecancel"),e.Event._GESTURE_MAP=o},"3.18.1",{requires:["node-base"]});
YUI.add("event-valuechange",function(e,t){var n="_valuechange",r="value",i="nodeName",s,o={POLL_INTERVAL:50,TIMEOUT:1e4,_poll:function(t,r){var i=t._node,s=r.e,u=t._data&&t._data[n],a=0,f,l,c,h,p,d;if(!i||!u){o._stopPolling(t);return}l=u.prevVal,h=u.nodeName,u.isEditable?c=i.innerHTML:h==="input"||h==="textarea"?c=i.value:h==="select"&&(p=i.options[i.selectedIndex],c=p.value||p.text),c!==l&&(u.prevVal=c,f={_event:s,currentTarget:s&&s.currentTarget||t,newVal:c,prevVal:l,target:s&&s.target||t},e.Object.some(u.notifiers,function(e){var t=e.handle.evt,n;a!==1?e.fire(f):t.el===d&&e.fire(f),n=t&&t._facade?t._facade.stopped:0,n>a&&(a=n,a===1&&(d=t.el));if(a===2)return!0}),o._refreshTimeout(t))},_refreshTimeout:function(e,t){if(!e._node)return;var r=e.getData(n);o._stopTimeout(e),r.timeout=setTimeout(function(){o._stopPolling(e,t)},o.TIMEOUT)},_startPolling:function(t,s,u){var a,f;if(!t.test("input,textarea,select")&&!(f=o._isEditable(t)))return;a=t.getData(n),a||(a={nodeName:t.get(i).toLowerCase(),isEditable:f,prevVal:f?t.getDOMNode().innerHTML:t.get(r)},t.setData(n,a)),a.notifiers||(a.notifiers={});if(a.interval){if(!u.force){a.notifiers[e.stamp(s)]=s;return}o._stopPolling(t,s)}a.notifiers[e.stamp(s)]=s,a.interval=setInterval(function(){o._poll(t,u)},o.POLL_INTERVAL),o._refreshTimeout(t,s)},_stopPolling:function(t,r){if(!t._node)return;var i=t.getData(n)||{};clearInterval(i.interval),delete i.interval,o._stopTimeout(t),r?i.notifiers&&delete i.notifiers[e.stamp(r)]:i.notifiers={}},_stopTimeout:function(e){var t=e.getData(n)||{};clearTimeout(t.timeout),delete t.timeout},_isEditable:function(e){var t=e._node;return t.contentEditable==="true"||t.contentEditable===""},_onBlur:function(e,t){o._stopPolling(e.currentTarget,t)},_onFocus:function(e,t){var s=e.currentTarget,u=s.getData(n);u||(u={isEditable:o._isEditable(s),nodeName:s.get(i).toLowerCase()},s.setData(n,u)),u.prevVal=u.isEditable?s.getDOMNode().innerHTML:s.get(r),o._startPolling(s,t,{e:e})},_onKeyDown:function(e,t){o._startPolling(e.currentTarget,t,{e:e})},_onKeyUp:function(e,t){(e.charCode===229||e.charCode===197)&&o._startPolling(e.currentTarget,t,{e:e,force:!0})},_onMouseDown:function(e,t){o._startPolling(e.currentTarget,t,{e:e})},_onSubscribe:function(t,s,u,a){var f,l,c,h,p;l={blur:o._onBlur,focus:o._onFocus,keydown:o._onKeyDown,keyup:o._onKeyUp,mousedown:o._onMouseDown},f=u._valuechange={};if(a)f.delegated=!0,f.getNodes=function(){return h=t.all("input,textarea,select").filter(a),p=t.all('[contenteditable="true"],[contenteditable=""]').filter(a),h.concat(p)},f.getNodes().each(function(e){e.getData(n)||e.setData(n,{nodeName:e.get(i).toLowerCase(),isEditable:o._isEditable(e),prevVal:c?e.getDOMNode().innerHTML:e.get(r)})}),u._handles=e.delegate(l,t,a,null,u);else{c=o._isEditable(t);if(!t.test("input,textarea,select")&&!c)return;t.getData(n)||t.setData(n,{nodeName:t.get(i).toLowerCase(),isEditable:c,prevVal:c?t.getDOMNode().innerHTML:t.get(r)}),u._handles=t.on(l,null,null,u)}},_onUnsubscribe:function(e,t,n){var r=n._valuechange;n._handles&&n._handles.detach(),r.delegated?r.getNodes().each(function(e){o._stopPolling(e,n)}):o._stopPolling(e,n)}};s={detach:o._onUnsubscribe,on:o._onSubscribe,delegate:o._onSubscribe,detachDelegate:o._onUnsubscribe,publishConfig:{emitFacade:!0}},e.Event.define("valuechange",s),e.Event.define("valueChange",s),e.ValueChange=o},"3.18.1",{requires:["event-focus","event-synthetic"]});
YUI.add("features",function(e,t){var n={};e.mix(e.namespace("Features"),{tests:n,add:function(e,t,r){n[e]=n[e]||{},n[e][t]=r},all:function(t,r){var i=n[t],s=[];return i&&e.Object.each(i,function(n,i){s.push(i+":"+(e.Features.test(t,i,r)?1:0))}),s.length?s.join(";"):""},test:function(t,r,i){i=i||[];var s,o,u,a=n[t],f=a&&a[r];return!f||(s=f.result,e.Lang.isUndefined(s)&&(o=f.ua,o&&(s=e.UA[o]),u=f.test,u&&(!o||s)&&(s=u.apply(e,i)),f.result=s)),s}});var r=e.Features.add;r("load","0",{name:"app-transitions-native",test:function(e){var t=e.config.doc,n=t?t.documentElement:null;return n&&n.style?"MozTransition"in n.style||"WebkitTransition"in n.style||"transition"in n.style:!1},trigger:"app-transitions"}),r("load","1",{name:"autocomplete-list-keys",test:function(e){return!e.UA.ios&&!e.UA.android},trigger:"autocomplete-list"}),r("load","2",{name:"dd-gestures",trigger:"dd-drag",ua:"touchEnabled"}),r("load","3",{name:"dom-style-ie",test:function(e){var t=e.Features.test,n=e.Features.add,r=e.config.win,i=e.config.doc,s="documentElement",o=!1;return n("style","computedStyle",{test:function(){return r&&"getComputedStyle"in r}}),n("style","opacity",{test:function(){return i&&"opacity"in i[s].style}}),o=!t("style","opacity")&&!t("style","computedStyle"),o},trigger:"dom-style"}),r("load","4",{name:"editor-para-ie",trigger:"editor-para",ua:"ie",when:"instead"}),r("load","5",{name:"event-base-ie",test:function(e){var t=e.config.doc&&e.config.doc.implementation;return t&&!t.hasFeature("Events","2.0")},trigger:"node-base"}),r("load","6",{name:"graphics-canvas",test:function(e){var t=e.config.doc,n=e.config.defaultGraphicEngine&&e.config.defaultGraphicEngine=="canvas",r=t&&t.createElement("canvas"),i=t&&t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");return(!i||n)&&r&&r.getContext&&r.getContext("2d")},trigger:"graphics"}),r("load","7",{name:"graphics-canvas-default",test:function(e){var t=e.config.doc,n=e.config.defaultGraphicEngine&&e.config.defaultGraphicEngine=="canvas",r=t&&t.createElement("canvas"),i=t&&t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");return(!i||n)&&r&&r.getContext&&r.getContext("2d")},trigger:"graphics"}),r("load","8",{name:"graphics-svg",test:function(e){var t=e.config.doc,n=!e.config.defaultGraphicEngine||e.config.defaultGraphicEngine!="canvas",r=t&&t.createElement("canvas"),i=t&&t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");return i&&(n||!r)},trigger:"graphics"}),r("load","9",{name:"graphics-svg-default",test:function(e){var t=e.config.doc,n=!e.config.defaultGraphicEngine||e.config.defaultGraphicEngine!="canvas",r=t&&t.createElement("canvas"),i=t&&t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1");return i&&(n||!r)},trigger:"graphics"}),r("load","10",{name:"graphics-vml",test:function(e){var t=e.config.doc,n=t&&t.createElement("canvas");return t&&!t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(!n||!n.getContext||!n.getContext("2d"))},trigger:"graphics"}),r("load","11",{name:"graphics-vml-default",test:function(e){var t=e.config.doc,n=t&&t.createElement("canvas");return t&&!t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")&&(!n||!n.getContext||!n.getContext("2d"))},trigger:"graphics"}),r("load","12",{name:"history-hash-ie",test:function(e){var t=e.config.doc&&e.config.doc.documentMode;return e.UA.ie&&(!("onhashchange"in e.config.win)||!t||t<8)},trigger:"history-hash"}),r("load","13",{name:"io-nodejs",trigger:"io-base",ua:"nodejs"}),r("load","14",{name:"json-parse-shim",test:function(e){function i(e,t){return e==="ok"?!0:t}var t=e.config.global.JSON,n=Object.prototype.toString.call(t)==="[object JSON]"&&t,r=e.config.useNativeJSONParse!==!1&&!!n;if(r)try{r=n.parse('{"ok":false}',i).ok}catch(s){r=!1}return!r},trigger:"json-parse"}),r("load","15",{name:"json-stringify-shim",test:function(e){var t=e.config.global.JSON,n=Object.prototype.toString.call(t)==="[object JSON]"&&t,r=e.config.useNativeJSONStringify!==!1&&!!n;if(r)try{r="0"===n.stringify(0)}catch(i){r=!1}return!r},trigger:"json-stringify"}),r("load","16",{name:"scrollview-base-ie",trigger:"scrollview-base",ua:"ie"}),r("load","17",{name:"selector-css2",test:function(e){var t=e.config.doc,n=t&&!("querySelectorAll"in t);return n},trigger:"selector"}),r("load","18",{name:"transition-timer",test:function(e){var t=e.config.doc,n=t?t.documentElement:null,r=!0;return n&&n.style&&(r=!("MozTransition"in n.style||"WebkitTransition"in n.style||"transition"in n.style)),r},trigger:"transition"}),r("load","19",{name:"widget-base-ie",trigger:"widget-base",ua:"ie"}),r("load","20",{name:"yql-jsonp",test:function(e){return!e.UA.nodejs&&!e.UA.winjs},trigger:"yql"}),r("load","21",{name:"yql-nodejs",trigger:"yql",ua:"nodejs"}),r("load","22",{name:"yql-winjs",trigger:"yql",ua:"winjs"})},"3.18.1",{requires:["yui-base"]});
YUI.add("gesture-simulate",function(e,t){function T(n){n||e.error(t+": invalid target node"),this.node=n,this.target=e.Node.getDOMNode(n);var r=this.node.getXY(),i=this._getDims();a=r[0]+i[0]/2,f=r[1]+i[1]/2}var t="gesture-simulate",n=e.config.win&&"ontouchstart"in e.config.win&&!e.UA.phantomjs&&!(e.UA.chrome&&e.UA.chrome<6),r={tap:1,doubletap:1,press:1,move:1,flick:1,pinch:1,rotate:1},i={touchstart:1,touchmove:1,touchend:1,touchcancel:1},s=e.config.doc,o,u=20,a,f,l={HOLD_TAP:10,DELAY_TAP:10,HOLD_PRESS:3e3,MIN_HOLD_PRESS:1e3,MAX_HOLD_PRESS:6e4,DISTANCE_MOVE:200,DURATION_MOVE:1e3,MAX_DURATION_MOVE:5e3,MIN_VELOCITY_FLICK:1.3,DISTANCE_FLICK:200,DURATION_FLICK:1e3,MAX_DURATION_FLICK:5e3,DURATION_PINCH:1e3},c="touchstart",h="touchmove",p="touchend",d="gesturestart",v="gesturechange",m="gestureend",g="mouseup",y="mousemove",b="mousedown",w="click",E="dblclick",S="x",x="y";T.prototype={_toRadian:function(e){return e*(Math.PI/180)},_getDims:function(){var e,t,n;return this.target.getBoundingClientRect?(e=this.target.getBoundingClientRect(),"height"in e?n=e.height:n=Math.abs(e.bottom-e.top),"width"in e?t=e.width:t=Math.abs(e.right-e.left)):(e=this.node.get("region"),t=e.width,n=e.height),[t,n]},_calculateDefaultPoint:function(t){var n;return!e.Lang.isArray(t)||t.length===0?t=[a,f]:(t.length==1&&(n=this._getDims[1],t[1]=n/2),t[0]=this.node.getX()+t[0],t[1]=this.node.getY()+t[1]),t},rotate:function(n,r,i,s,o,u,a){var f,l=i,c=s;if(!e.Lang.isNumber(l)||!e.Lang.isNumber(c)||l<0||c<0)f=this.target.offsetWidth<this.target.offsetHeight?this.target.offsetWidth/4:this.target.offsetHeight/4,l=f,c=f;e.Lang.isNumber(a)||e.error(t+"Invalid rotation detected."),this.pinch(n,r,l,c,o,u,a)},pinch:function(n,r,i,s,o,a,f){var g,y,b=u,w,E=0,S=i,x=s,T,N,C,k,L,A,O,M,_,D={start:[],end:[]},P={start:[],end:[]},H,B;r=this._calculateDefaultPoint(r),(!e.Lang.isNumber(S)||!e.Lang.isNumber(x)||S<0||x<0)&&e.error(t+"Invalid startRadius and endRadius detected.");if(!e.Lang.isNumber(o)||o<=0)o=l.DURATION_PINCH;if(!e.Lang.isNumber(a))a=0;else{a%=360;while(a<0)a+=360}e.Lang.isNumber(f)||(f=0),e.AsyncQueue.defaults.timeout=b,g=new e.AsyncQueue,N=r[0],C=r[1],O=a,M=a+f,D.start=[N+S*Math.sin(this._toRadian(O)),C-S*Math.cos(this._toRadian(O))],D.end=[N+x*Math.sin(this._toRadian(M)),C-x*Math.cos(this._toRadian(M))],P.start=[N-S*Math.sin(this._toRadian(O)),C+S*Math.cos(this._toRadian(O))],P.end=[N-x*Math.sin(this._toRadian(M)),C+x*Math.cos(this._toRadian(M))],k=1,L=s/i,g.add({fn:function(){var t,n,r,i;t={pageX:D.start[0],pageY:D.start[1],clientX:D.start[0],clientY:D.start[1]},n={pageX:P.start[0],pageY:P.start[1],clientX:P.start[0],clientY:P.start[1]},i=this._createTouchList([e.merge({identifier:E++},t),e.merge({identifier:E++},n)]),r={pageX:(D.start[0]+P.start[0])/2,pageY:(D.start[0]+P.start[1])/2,clientX:(D.start[0]+P.start[0])/2,clientY:(D.start[0]+P.start[1])/2},this._simulateEvent(this.target,c,e.merge({touches:i,targetTouches:i,changedTouches:i,scale:k,rotation:O},r)),e.UA.ios>=2&&this._simulateEvent(this.target,d,e.merge({scale:k,rotation:O},r))},timeout:0,context:this}),H=Math.floor(o/b),T=(x-S)/H,A=(L-k)/H,_=(M-O)/H,B=function(t){var n=S+T*t,r=N+n*Math.sin(this._toRadian(O+_*t)),i=C-n*Math.cos(this._toRadian(O+_*t)),s=N-n*Math.sin(this._toRadian(O+_*t)),o=C+n*Math.cos(this._toRadian(O+_*t)),u=(r+s)/2,a=(i+o)/2,f,l,c,p;f={pageX:r,pageY:i,clientX:r,clientY:i},l={pageX:s,pageY:o,clientX:s,clientY:o},p=this._createTouchList([e.merge({identifier:E++},f),e.merge({identifier:E++},l)]),c={pageX:u,pageY:a,clientX:u,clientY:a},this._simulateEvent(this.target,h,e.merge({touches:p,targetTouches:p,changedTouches:p,scale:k+A*t,rotation:O+_*t},c)),e.UA.ios>=2&&this._simulateEvent(this.target,v,e.merge({scale:k+A*t,rotation:O+_*t},c))};for(y=0;y<H;y++)g.add({fn:B,args:[y],context:this});g.add({fn:function(){var t=this._getEmptyTouchList(),n,r,i,s;n={pageX:D.end[0],pageY:D.end[1],clientX:D.end[0],clientY:D.end[1]},r={pageX:P.end[0],pageY:P.end[1],clientX:P.end[0],clientY:P.end[1]},s=this._createTouchList([e.merge({identifier:E++},n),e.merge({identifier:E++},r)]),i={pageX:(D.end[0]+P.end[0])/2,pageY:(D.end[0]+P.end[1])/2,clientX:(D.end[0]+P.end[0])/2,clientY:(D.end[0]+P.end[1])/2},e.UA.ios>=2&&this._simulateEvent(this.target,m,e.merge({scale:L,rotation:M},i)),this._simulateEvent(this.target,p,e.merge({touches:t,targetTouches:t,changedTouches:s,scale:L,rotation:M},i))},context:this}),n&&e.Lang.isFunction(n)&&g.add({fn:n,context:this.node}),g.run()},tap:function(t,r,i,s,o){var u=new e.AsyncQueue,a=this._getEmptyTouchList(),f,h,d,v,m;r=this._calculateDefaultPoint(r);if(!e.Lang.isNumber(i)||i<1)i=1;e.Lang.isNumber(s)||(s=l.HOLD_TAP),e.Lang.isNumber(o)||(o=l.DELAY_TAP),h={pageX:r[0],pageY:r[1],clientX:r[0],clientY:r[1]},f=this._createTouchList([e.merge({identifier:0},h)]),v=function(){this._simulateEvent(this.target,c,e.merge({touches:f,targetTouches:f,changedTouches:f},h))},m=function(){this._simulateEvent(this.target,p,e.merge({touches:a,targetTouches:a,changedTouches:f},h))};for(d=0;d<i;d++)u.add({fn:v,context:this,timeout:d===0?0:o}),u.add({fn:m,context:this,timeout:s});i>1&&!n&&u.add({fn:function(){this._simulateEvent(this.target,E,h)},context:this}),t&&e.Lang.isFunction(t)&&u.add({fn:t,context:this.node}),u.run()},flick:function(n,r,i,s,o){var u;r=this._calculateDefaultPoint(r),e.Lang.isString(i)?(i=i.toLowerCase(),i!==S&&i!==x&&e.error(t+"(flick): Only x or y axis allowed")):i=S,e.Lang.isNumber(s)||(s=l.DISTANCE_FLICK),e.Lang.isNumber(o)?o>l.MAX_DURATION_FLICK&&(o=l.MAX_DURATION_FLICK):o=l.DURATION_FLICK,Math.abs(s)/o<l.MIN_VELOCITY_FLICK&&(o=Math.abs(s)/l.MIN_VELOCITY_FLICK),u={start:e.clone(r),end:[i===S?r[0]+s:r[0],i===x?r[1]+s:r[1]]},this._move(n,u,o)},move:function(t,n,r){var i;e.Lang.isObject(n)?(e.Lang.isArray(n.point)?n.point=this._calculateDefaultPoint(n.point):n.point=this._calculateDefaultPoint([]),e.Lang.isNumber(n.xdist)||(n.xdist=l.DISTANCE_MOVE),e.Lang.isNumber(n.ydist)||(n.ydist=0)):n={point:this._calculateDefaultPoint([]),xdist:l.
DISTANCE_MOVE,ydist:0},e.Lang.isNumber(r)?r>l.MAX_DURATION_MOVE&&(r=l.MAX_DURATION_MOVE):r=l.DURATION_MOVE,i={start:e.clone(n.point),end:[n.point[0]+n.xdist,n.point[1]+n.ydist]},this._move(t,i,r)},_move:function(t,n,r){var i,s,o=u,d,v,m,g=0,y;e.Lang.isNumber(r)?r>l.MAX_DURATION_MOVE&&(r=l.MAX_DURATION_MOVE):r=l.DURATION_MOVE,e.Lang.isObject(n)?(e.Lang.isArray(n.start)||(n.start=[a,f]),e.Lang.isArray(n.end)||(n.end=[a+l.DISTANCE_MOVE,f])):n={start:[a,f],end:[a+l.DISTANCE_MOVE,f]},e.AsyncQueue.defaults.timeout=o,i=new e.AsyncQueue,i.add({fn:function(){var t={pageX:n.start[0],pageY:n.start[1],clientX:n.start[0],clientY:n.start[1]},r=this._createTouchList([e.merge({identifier:g++},t)]);this._simulateEvent(this.target,c,e.merge({touches:r,targetTouches:r,changedTouches:r},t))},timeout:0,context:this}),d=Math.floor(r/o),v=(n.end[0]-n.start[0])/d,m=(n.end[1]-n.start[1])/d,y=function(t){var r=n.start[0]+v*t,i=n.start[1]+m*t,s={pageX:r,pageY:i,clientX:r,clientY:i},o=this._createTouchList([e.merge({identifier:g++},s)]);this._simulateEvent(this.target,h,e.merge({touches:o,targetTouches:o,changedTouches:o},s))};for(s=0;s<d;s++)i.add({fn:y,args:[s],context:this});i.add({fn:function(){var t={pageX:n.end[0],pageY:n.end[1],clientX:n.end[0],clientY:n.end[1]},r=this._createTouchList([e.merge({identifier:g},t)]);this._simulateEvent(this.target,h,e.merge({touches:r,targetTouches:r,changedTouches:r},t))},timeout:0,context:this}),i.add({fn:function(){var t={pageX:n.end[0],pageY:n.end[1],clientX:n.end[0],clientY:n.end[1]},r=this._getEmptyTouchList(),i=this._createTouchList([e.merge({identifier:g},t)]);this._simulateEvent(this.target,p,e.merge({touches:r,targetTouches:r,changedTouches:i},t))},context:this}),t&&e.Lang.isFunction(t)&&i.add({fn:t,context:this.node}),i.run()},_getEmptyTouchList:function(){return o||(o=this._createTouchList([])),o},_createTouchList:function(n){var r=[],i,o=this;return!!n&&e.Lang.isArray(n)?e.UA.android&&e.UA.android>=4||e.UA.ios&&e.UA.ios>=2?(e.each(n,function(t){t.identifier||(t.identifier=0),t.pageX||(t.pageX=0),t.pageY||(t.pageY=0),t.screenX||(t.screenX=0),t.screenY||(t.screenY=0),r.push(s.createTouch(e.config.win,o.target,t.identifier,t.pageX,t.pageY,t.screenX,t.screenY))}),i=s.createTouchList.apply(s,r)):e.UA.ios&&e.UA.ios<2?e.error(t+": No touch event simulation framework present."):(i=[],e.each(n,function(e){e.identifier||(e.identifier=0),e.clientX||(e.clientX=0),e.clientY||(e.clientY=0),e.pageX||(e.pageX=0),e.pageY||(e.pageY=0),e.screenX||(e.screenX=0),e.screenY||(e.screenY=0),i.push({target:o.target,identifier:e.identifier,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}),i.item=function(e){return i[e]}):e.error(t+": Invalid touchPoints passed"),i},_simulateEvent:function(t,r,s){var o;i[r]?n?e.Event.simulate(t,r,s):this._isSingleTouch(s.touches,s.targetTouches,s.changedTouches)?(r={touchstart:b,touchmove:y,touchend:g}[r],s.button=0,s.relatedTarget=null,o=r===g?s.changedTouches:s.touches,s=e.mix(s,{screenX:o.item(0).screenX,screenY:o.item(0).screenY,clientX:o.item(0).clientX,clientY:o.item(0).clientY},!0),e.Event.simulate(t,r,s),r==g&&e.Event.simulate(t,w,s)):e.error("_simulateEvent(): Event '"+r+"' has multi touch objects that can't be simulated in your platform."):e.Event.simulate(t,r,s)},_isSingleTouch:function(e,t,n){return e&&e.length<=1&&t&&t.length<=1&&n&&n.length<=1}},e.GestureSimulation=T,e.GestureSimulation.defaults=l,e.GestureSimulation.GESTURES=r,e.Event.simulateGesture=function(n,i,s,o){n=e.one(n);var u=new e.GestureSimulation(n);i=i.toLowerCase(),!o&&e.Lang.isFunction(s)&&(o=s,s={}),s=s||{};if(r[i])switch(i){case"tap":u.tap(o,s.point,s.times,s.hold,s.delay);break;case"doubletap":u.tap(o,s.point,2);break;case"press":e.Lang.isNumber(s.hold)?s.hold<l.MIN_HOLD_PRESS?s.hold=l.MIN_HOLD_PRESS:s.hold>l.MAX_HOLD_PRESS&&(s.hold=l.MAX_HOLD_PRESS):s.hold=l.HOLD_PRESS,u.tap(o,s.point,1,s.hold);break;case"move":u.move(o,s.path,s.duration);break;case"flick":u.flick(o,s.point,s.axis,s.distance,s.duration);break;case"pinch":u.pinch(o,s.center,s.r1,s.r2,s.duration,s.start,s.rotation);break;case"rotate":u.rotate(o,s.center,s.r1,s.r2,s.duration,s.start,s.rotation)}else e.error(t+": Not a supported gesture simulation: "+i)}},"3.18.1",{requires:["async-queue","event-simulate","node-screen"]});
YUI.add("highlight-base",function(e,t){var n=e.Array,r=e.Escape,i=e.Text.WordBreak,s=e.Lang.isArray,o={},u="(&[^;\\s]*)?",a={_REGEX:u+"(%needles)",_REPLACER:function(e,t,n){return t&&!/\s/.test(n)?e:a._TEMPLATE.replace(/\{s\}/g,n)},_START_REGEX:"^"+u+"(%needles)",_TEMPLATE:'<b class="'+e.ClassNameManager.getClassName("highlight")+'">{s}</b>',all:function(e,t,n){var i=[],u,f,l,c,h,p;n||(n=o),u=n.escapeHTML!==!1,h=n.startsWith?a._START_REGEX:a._REGEX,p=n.replacer||a._REPLACER,t=s(t)?t:[t];for(f=0,l=t.length;f<l;++f)c=t[f],c&&i.push(r.regex(u?r.html(c):c));return u&&(e=r.html(e)),i.length?e.replace(new RegExp(h.replace("%needles",i.join("|")),n.caseSensitive?"g":"gi"),p):e},allCase:function(t,n,r){return a.all(t,n,e.merge(r||o,{caseSensitive:!0}))},start:function(t,n,r){return a.all(t,n,e.merge(r||o,{startsWith:!0}))},startCase:function(e,t){return a.start(e,t,{caseSensitive:!0})},words:function(e,t,u){var f,l,c=a._TEMPLATE,h;return u||(u=o),f=!!u.caseSensitive,t=n.hash(s(t)?t:i.getUniqueWords(t,{ignoreCase:!f})),l=u.mapper||function(e,t){return t.hasOwnProperty(f?e:e.toLowerCase())?c.replace(/\{s\}/g,r.html(e)):r.html(e)},h=i.getWords(e,{includePunctuation:!0,includeWhitespace:!0}),n.map(h,function(e){return l(e,t)}).join("")},wordsCase:function(e,t){return a.words(e,t,{caseSensitive:!0})}};e.Highlight=a},"3.18.1",{requires:["array-extras","classnamemanager","escape","text-wordbreak"]});
YUI.add("history-base",function(e,t){function p(){this._init.apply(this,arguments)}function d(e){return n.type(e)==="object"}var n=e.Lang,r=e.Object,i=YUI.namespace("Env.History"),s=e.Array,o=e.config.doc,u=o.documentMode,a=e.config.win,f={merge:!0},l="change",c="add",h="replace";e.augment(p,e.EventTarget,null,null,{emitFacade:!0,prefix:"history",preventable:!1,queueable:!0}),i._state||(i._state={}),p.NAME="historyBase",p.SRC_ADD=c,p.SRC_REPLACE=h,p.html5=!!(a.history&&a.history.pushState&&a.history.replaceState&&("onpopstate"in a||e.UA.gecko>=2)&&(!e.UA.android||e.UA.android>=2.4)),p.nativeHashChange=("onhashchange"in a||"onhashchange"in o)&&(!u||u>7),e.mix(p.prototype,{_init:function(e){var t;e=this._config=e||{},this.force=!!e.force,t=this._initialState=this._initialState||e.initialState||null,this.publish(l,{broadcast:2,defaultFn:this._defChangeFn}),t&&this.replace(t)},add:function(){var e=s(arguments,0,!0);return e.unshift(c),this._change.apply(this,e)},addValue:function(e,t,n){var r={};return r[e]=t,this._change(c,r,n)},get:function(t){var n=i._state,s=d(n);return t?s&&r.owns(n,t)?n[t]:undefined:s?e.mix({},n,!0):n},replace:function(){var e=s(arguments,0,!0);return e.unshift(h),this._change.apply(this,e)},replaceValue:function(e,t,n){var r={};return r[e]=t,this._change(h,r,n)},_change:function(t,n,r){return r=r?e.merge(f,r):f,r.merge&&d(n)&&d(i._state)&&(n=e.merge(i._state,n)),this._resolveChanges(t,n,r),this},_fireEvents:function(e,t,n){this.fire(l,{_options:n,changed:t.changed,newVal:t.newState,prevVal:t.prevState,removed:t.removed,src:e}),r.each(t.changed,function(t,n){this._fireChangeEvent(e,n,t)},this),r.each(t.removed,function(t,n){this._fireRemoveEvent(e,n,t)},this)},_fireChangeEvent:function(e,t,n){this.fire(t+"Change",{newVal:n.newVal,prevVal:n.prevVal,src:e})},_fireRemoveEvent:function(e,t,n){this.fire(t+"Remove",{prevVal:n,src:e})},_resolveChanges:function(e,t,n){var s={},o,u=i._state,a={};t||(t={}),n||(n={}),d(t)&&d(u)?(r.each(t,function(e,t){var n=u[t];e!==n&&(s[t]={newVal:e,prevVal:n},o=!0)},this),r.each(u,function(e,n){if(!r.owns(t,n)||t[n]===null)delete t[n],a[n]=e,o=!0},this)):o=t!==u,(o||this.force)&&this._fireEvents(e,{changed:s,newState:t,prevState:u,removed:a},n)},_storeState:function(e,t){i._state=t||{}},_defChangeFn:function(e){this._storeState(e.src,e.newVal,e._options)}},!0),e.HistoryBase=p},"3.18.1",{requires:["event-custom-complex"]});
YUI.add("history-hash-ie",function(e,t){if(e.UA.ie&&!e.HistoryBase.nativeHashChange){var n=e.Do,r=YUI.namespace("Env.HistoryHash"),i=e.HistoryHash,s=r._iframe,o=e.config.win;i.getIframeHash=function(){if(!s||!s.contentWindow)return"";var e=i.hashPrefix,t=s.contentWindow.location.hash.substr(1);return e&&t.indexOf(e)===0?t.replace(e,""):t},i._updateIframe=function(e,t){var n=s&&s.contentWindow&&s.contentWindow.document,r=n&&n.location;if(!n||!r)return;t?r.replace(e.charAt(0)==="#"?e:"#"+e):(n.open().close(),r.hash=e)},n.before(i._updateIframe,i,"replaceHash",i,!0),s||e.on("domready",function(){var t=i.getHash();s=r._iframe=e.Node.getDOMNode(e.Node.create('<iframe src="javascript:0" style="display:none" height="0" width="0" tabindex="-1" title="empty"/>')),e.config.doc.documentElement.appendChild(s),i._updateIframe(t||"#"),e.on("hashchange",function(e){t=e.newHash,i.getIframeHash()!==t&&i._updateIframe(t)},o),e.later(50,null,function(){var e=i.getIframeHash();e!==t&&i.setHash(e)},null,!0)})}},"3.18.1",{requires:["history-hash","node-base"]});
YUI.add("history-hash",function(e,t){function p(){p.superclass.constructor.apply(this,arguments)}var n=e.HistoryBase,r=e.Lang,i=e.Array,s=e.Object,o=YUI.namespace("Env.HistoryHash"),u="hash",a,f,l,c=e.config.win,h=e.config.useHistoryHTML5;e.extend(p,n,{_init:function(t){var n=p.parseHash();t=t||{},this._initialState=t.initialState?e.merge(t.initialState,n):n,e.after("hashchange",e.bind(this._afterHashChange,this),c),p.superclass._init.apply(this,arguments)},_change:function(e,t,n){return s.each(t,function(e,n){r.isValue(e)&&(t[n]=e.toString())}),p.superclass._change.call(this,e,t,n)},_storeState:function(e,t){var r=p.decode,i=p.createHash(t);p.superclass._storeState.apply(this,arguments),e!==u&&r(p.getHash())!==r(i)&&p[e===n.SRC_REPLACE?"replaceHash":"setHash"](i)},_afterHashChange:function(e){this._resolveChanges(u,p.parseHash(e.newHash),{})}},{NAME:"historyHash",SRC_HASH:u,hashPrefix:"",_REGEX_HASH:/([^\?#&=]+)=?([^&=]*)/g,createHash:function(e){var t=p.encode,n=[];return s.each(e,function(e,i){r.isValue(e)&&n.push(t(i)+"="+t(e))}),n.join("&")},decode:function(e){return decodeURIComponent(e.replace(/\+/g," "))},encode:function(e){return encodeURIComponent(e).replace(/%20/g,"+")},getHash:e.UA.gecko?function(){var t=e.getLocation(),n=/#(.*)$/.exec(t.href),r=n&&n[1]||"",i=p.hashPrefix;return i&&r.indexOf(i)===0?r.replace(i,""):r}:function(){var t=e.getLocation(),n=t.hash.substring(1),r=p.hashPrefix;return r&&n.indexOf(r)===0?n.replace(r,""):n},getUrl:function(){return location.href},parseHash:function(e){var t=p.decode,n,i,s,o,u,a={},f=p.hashPrefix,l;e=r.isValue(e)?e:p.getHash();if(f){l=e.indexOf(f);if(l===0||l===1&&e.charAt(0)==="#")e=e.replace(f,"")}o=e.match(p._REGEX_HASH)||[];for(n=0,i=o.length;n<i;++n)s=o[n],u=s.split("="),u.length>1?a[t(u[0])]=t(u[1]):a[t(s)]="";return a},replaceHash:function(t){var n=e.getLocation(),r=n.href.replace(/#.*$/,"");t.charAt(0)==="#"&&(t=t.substring(1)),n.replace(r+"#"+(p.hashPrefix||"")+t)},setHash:function(t){var n=e.getLocation();t.charAt(0)==="#"&&(t=t.substring(1)),n.hash=(p.hashPrefix||"")+t}}),a=o._notifiers,a||(a=o._notifiers=[]),e.Event.define("hashchange",{on:function(t,n,r){(t.compareTo(c)||t.compareTo(e.config.doc.body))&&a.push(r)},detach:function(e,t,n){var r=i.indexOf(a,n);r!==-1&&a.splice(r,1)}}),f=p.getHash(),l=p.getUrl(),n.nativeHashChange?o._hashHandle||(o._hashHandle=e.Event.attach("hashchange",function(e){var t=p.getHash(),n=p.getUrl();i.each(a.concat(),function(r){r.fire({_event:e,oldHash:f,oldUrl:l,newHash:t,newUrl:n})}),f=t,l=n},c)):o._hashPoll||(o._hashPoll=e.later(50,null,function(){var e=p.getHash(),t,n;f!==e&&(n=p.getUrl(),t={oldHash:f,oldUrl:l,newHash:e,newUrl:n},f=e,l=n,i.each(a.concat(),function(e){e.fire(t)}))},null,!0)),e.HistoryHash=p;if(h===!1||!e.History&&h!==!0&&(!n.html5||!e.HistoryHTML5))e.History=p},"3.18.1",{requires:["event-synthetic","history-base","yui-later"]});
YUI.add("history-html5",function(e,t){function a(){a.superclass.constructor.apply(this,arguments)}var n=e.HistoryBase,r=e.Lang,i=e.config.win,s=e.config.useHistoryHTML5,o="popstate",u=n.SRC_REPLACE;e.extend(a,n,{_init:function(t){var n;try{n=i.history.state}catch(s){n=null}e.Object.isEmpty(n)&&(n=null),t||(t={}),t.initialState&&r.type(t.initialState)==="object"&&r.type(n)==="object"?this._initialState=e.merge(t.initialState,n):this._initialState=n,e.on("popstate",this._onPopState,i,this),a.superclass._init.apply(this,arguments)},_storeState:function(t,n,r){t!==o&&i.history[t===u?"replaceState":"pushState"](n,r.title||e.config.doc.title||"",r.url||e.config.doc.URL),a.superclass._storeState.apply(this,arguments)},_onPopState:function(e){this._resolveChanges(o,e._event.state||null)}},{NAME:"historyhtml5",SRC_POPSTATE:o}),e.Node.DOM_EVENTS.popstate||(e.Node.DOM_EVENTS.popstate=1),e.HistoryHTML5=a;if(s===!0||s!==!1&&n.html5)e.History=a},"3.18.1",{optional:["json"],requires:["event-base","history-base","node-base"]});
YUI.add("intl-base",function(e,t){var n=/[, ]/;e.mix(e.namespace("Intl"),{lookupBestLang:function(t,r){function a(e){var t;for(t=0;t<r.length;t+=1)if(e.toLowerCase()===r[t].toLowerCase())return r[t]}var i,s,o,u;e.Lang.isString(t)&&(t=t.split(n));for(i=0;i<t.length;i+=1){s=t[i];if(!s||s==="*")continue;while(s.length>0){o=a(s);if(o)return o;u=s.lastIndexOf("-");if(!(u>=0))break;s=s.substring(0,u),u>=2&&s.charAt(u-2)==="-"&&(s=s.substring(0,u-2))}}return""}})},"3.18.1",{requires:["yui-base"]});
YUI.add("intl",function(e,t){var n={},r="yuiRootLang",i="yuiActiveLang",s=[];e.mix(e.namespace("Intl"),{_mod:function(e){return n[e]||(n[e]={}),n[e]},setLang:function(e,t){var n=this._mod(e),s=n[i],o=!!n[t];return o&&t!==s&&(n[i]=t,this.fire("intl:langChange",{module:e,prevVal:s,newVal:t===r?"":t})),o},getLang:function(e){var t=this._mod(e)[i];return t===r?"":t},add:function(e,t,n){t=t||r,this._mod(e)[t]=n,this.setLang(e,t)},get:function(t,n,r){var s=this._mod(t),o;return r=r||s[i],o=s[r]||{},n?o[n]:e.merge(o)},getAvailableLangs:function(t){var n=e.Env._loader,r=n&&n.moduleInfo[t],i=r&&r.lang;return i?i.concat():s}}),e.augment(e.Intl,e.EventTarget),e.Intl.publish("intl:langChange",{emitFacade:!0})},"3.18.1",{requires:["intl-base","event-custom"]});
YUI.add("io-base",function(e,t){function o(t){var n=this;n._uid="io:"+s++,n._init(t),e.io._map[n._uid]=n}var n=["start","complete","end","success","failure","progress"],r=["status","statusText","responseText","responseXML"],i=e.config.win,s=0;o.prototype={_id:0,_headers:{"X-Requested-With":"XMLHttpRequest"},_timeout:{},_init:function(t){var r=this,i,s;r.cfg=t||{},e.augment(r,e.EventTarget);for(i=0,s=n.length;i<s;++i)r.publish("io:"+n[i],e.merge({broadcast:1},t)),r.publish("io-trn:"+n[i],t)},_create:function(t,n){var r=this,s={id:e.Lang.isNumber(n)?n:r._id++,uid:r._uid},o=t.xdr?t.xdr.use:null,u=t.form&&t.form.upload?"iframe":null,a;return o==="native"&&(o=e.UA.ie&&!l?"xdr":null,r.setHeader("X-Requested-With")),a=o||u,s=a?e.merge(e.IO.customTransport(a),s):e.merge(e.IO.defaultTransport(),s),s.notify&&(t.notify=function(e,t,n){r.notify(e,t,n)}),a||i&&i.FormData&&t.data instanceof i.FormData&&(s.c.upload.onprogress=function(e){r.progress(s,e,t)},s.c.onload=function(e){r.load(s,e,t)},s.c.onerror=function(e){r.error(s,e,t)},s.upload=!0),s},_destroy:function(t){i&&!t.notify&&!t.xdr&&(u&&!t.upload?t.c.onreadystatechange=null:t.upload?(t.c.upload.onprogress=null,t.c.onload=null,t.c.onerror=null):e.UA.ie&&!t.e&&t.c.abort()),t=t.c=null},_evt:function(t,r,i){var s=this,o,u=i.arguments,a=s.cfg.emitFacade,f="io:"+t,l="io-trn:"+t;this.detach(l),r.e&&(r.c={status:0,statusText:r.e}),o=[a?{id:r.id,data:r.c,cfg:i,arguments:u}:r.id],a||(t===n[0]||t===n[2]?u&&o.push(u):(r.evt?o.push(r.evt):o.push(r.c),u&&o.push(u))),o.unshift(f),s.fire.apply(s,o),i.on&&(o[0]=l,s.once(l,i.on[t],i.context||e),s.fire.apply(s,o))},start:function(e,t){this._evt(n[0],e,t)},complete:function(e,t){this._evt(n[1],e,t)},end:function(e,t){this._evt(n[2],e,t),this._destroy(e)},success:function(e,t){this._evt(n[3],e,t),this.end(e,t)},failure:function(e,t){this._evt(n[4],e,t),this.end(e,t)},progress:function(e,t,r){e.evt=t,this._evt(n[5],e,r)},load:function(e,t,r){e.evt=t.target,this._evt(n[1],e,r)},error:function(e,t,r){e.evt=t,this._evt(n[4],e,r)},_retry:function(e,t,n){return this._destroy(e),n.xdr.use="flash",this.send(t,n,e.id)},_concat:function(e,t){return e+=(e.indexOf("?")===-1?"?":"&")+t,e},setHeader:function(e,t){t?this._headers[e]=t:delete this._headers[e]},_setHeaders:function(t,n){n=e.merge(this._headers,n),e.Object.each(n,function(e,r){e!=="disable"&&t.setRequestHeader(r,n[r])})},_startTimeout:function(e,t){var n=this;n._timeout[e.id]=setTimeout(function(){n._abort(e,"timeout")},t)},_clearTimeout:function(e){clearTimeout(this._timeout[e]),delete this._timeout[e]},_result:function(e,t){var n;try{n=e.c.status}catch(r){n=0}n>=200&&n<300||n===304||n===1223?this.success(e,t):this.failure(e,t)},_rS:function(e,t){var n=this;e.c.readyState===4&&(t.timeout&&n._clearTimeout(e.id),setTimeout(function(){n.complete(e,t),n._result(e,t)},0))},_abort:function(e,t){e&&e.c&&(e.e=t,e.c.abort())},send:function(t,n,i){var s,o,u,a,f,c,h=this,p=t,d={};n=n?e.Object(n):{},s=h._create(n,i),o=n.method?n.method.toUpperCase():"GET",f=n.sync,c=n.data,e.Lang.isObject(c)&&!c.nodeType&&!s.upload&&e.QueryString&&e.QueryString.stringify&&(n.data=c=e.QueryString.stringify(c));if(n.form){if(n.form.upload)return h.upload(s,t,n);c=h._serialize(n.form,c)}c||(c="");if(c)switch(o){case"GET":case"HEAD":case"DELETE":p=h._concat(p,c),c="";break;case"POST":case"PUT":n.headers=e.merge({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},n.headers)}if(s.xdr)return h.xdr(p,s,n);if(s.notify)return s.c.send(s,t,n);!f&&!s.upload&&(s.c.onreadystatechange=function(){h._rS(s,n)});try{s.c.open(o,p,!f,n.username||null,n.password||null),h._setHeaders(s.c,n.headers||{}),h.start(s,n),n.xdr&&n.xdr.credentials&&l&&(s.c.withCredentials=!0),s.c.send(c);if(f){for(u=0,a=r.length;u<a;++u)d[r[u]]=s.c[r[u]];return d.getAllResponseHeaders=function(){return s.c.getAllResponseHeaders()},d.getResponseHeader=function(e){return s.c.getResponseHeader(e)},h.complete(s,n),h._result(s,n),d}}catch(v){if(s.xdr)return h._retry(s,t,n);h.complete(s,n),h._result(s,n)}return n.timeout&&h._startTimeout(s,n.timeout),{id:s.id,abort:function(){return s.c?h._abort(s,"abort"):!1},isInProgress:function(){return s.c?s.c.readyState%4:!1},io:h}}},e.io=function(t,n){var r=e.io._map["io:0"]||new o;return r.send.apply(r,[t,n])},e.io.header=function(t,n){var r=e.io._map["io:0"]||new o;r.setHeader(t,n)},e.IO=o,e.io._map={};var u=i&&i.XMLHttpRequest,a=i&&i.XDomainRequest,f=i&&i.ActiveXObject,l=u&&"withCredentials"in new XMLHttpRequest;e.mix(e.IO,{_default:"xhr",defaultTransport:function(t){if(!t){var n={c:e.IO.transports[e.IO._default](),notify:e.IO._default==="xhr"?!1:!0};return n}e.IO._default=t},transports:{xhr:function(){return u?new XMLHttpRequest:f?new ActiveXObject("Microsoft.XMLHTTP"):null},xdr:function(){return a?new XDomainRequest:null},iframe:function(){return{}},flash:null,nodejs:null},customTransport:function(t){var n={c:e.IO.transports[t]()};return n[t==="xdr"||t==="flash"?"xdr":"notify"]=!0,n}}),e.mix(e.IO.prototype,{notify:function(e,t,n){var r=this;switch(e){case"timeout":case"abort":case"transport error":t.c={status:0,statusText:e},e="failure";default:r[e].apply(r,[t,n])}}})},"3.18.1",{requires:["event-custom-base","querystring-stringify-simple"]});
YUI.add("io-form",function(e,t){var n=encodeURIComponent;e.IO.stringify=function(t,n){n=n||{};var r=e.IO.prototype._serialize({id:t,useDisabled:n.useDisabled},n.extra&&typeof n.extra=="object"?e.QueryString.stringify(n.extra):n.extra);return r},e.mix(e.IO.prototype,{_serialize:function(t,r){var i=[],s=t.useDisabled||!1,o=0,u=typeof t.id=="string"?t.id:t.id.getAttribute("id"),a,f,l,c,h,p,d,v,m,g;u||(u=e.guid("io:"),t.id.setAttribute("id",u)),f=e.config.doc.getElementById(u);if(!f||!f.elements)return r||"";for(p=0,d=f.elements.length;p<d;++p){a=f.elements[p],h=a.disabled,l=a.name;if(s?l:l&&!h){l=n(l)+"=",c=n(a.value);switch(a.type){case"select-one":a.selectedIndex>-1&&(g=a.options[a.selectedIndex],i[o++]=l+n(g.attributes.value&&g.attributes.value.specified?g.value:g.text));break;case"select-multiple":if(a.selectedIndex>-1)for(v=a.selectedIndex,m=a.options.length;v<m;++v)g=a.options[v],g.selected&&(i[o++]=l+n(g.attributes.value&&g.attributes.value.specified?g.value:g.text));break;case"radio":case"checkbox":a.checked&&(i[o++]=l+c);break;case"file":case undefined:case"reset":case"button":break;case"submit":default:i[o++]=l+c}}}return r&&(i[o++]=r),i.join("&")}},!0)},"3.18.1",{requires:["io-base","node-base"]});
YUI.add("io-queue",function(e,t){function r(e,t){return n.queue.apply(n,[e,t])}var n=e.io._map["io:0"]||new e.IO;e.mix(e.IO.prototype,{_q:new e.Queue,_qActiveId:null,_qInit:!1,_qState:1,_qShift:function(){var e=this,t=e._q.next();e._qActiveId=t.id,e._qState=0,e.send(t.uri,t.cfg,t.id)},queue:function(t,n){var r=this,i={uri:t,cfg:n,id:this._id++};return r._qInit||(e.on("io:complete",function(e,t){r._qNext(e)},r),r._qInit=!0),r._q.add(i),r._qState===1&&r._qShift(),i},_qNext:function(e){var t=this;t._qState=1,t._qActiveId===e&&t._q.size()>0&&t._qShift()},qPromote:function(e){this._q.promote(e)},qRemove:function(e){this._q.remove(e)},qEmpty:function(){this._q=new e.Queue},qStart:function(){var e=this;e._qState=1,e._q.size()>0&&e._qShift()},qStop:function(){this._qState=0},qSize:function(){return this._q.size()}},!0),r.start=function(){n.qStart()},r.stop=function(){n.qStop()},r.promote=function(e){n.qPromote(e)},r.remove=function(e){n.qRemove(e)},r.size=function(){n.qSize()},r.empty=function(){n.qEmpty()},e.io.queue=r},"3.18.1",{requires:["io-base","queue-promote"]});
YUI.add("io-upload-iframe",function(e,t){function u(t,n,r){var i=e.Node.create('<iframe id="io_iframe'+t.id+'" name="io_iframe'+t.id+'" />');i._node.style.position="absolute",i._node.style.top="-1000px",i._node.style.left="-1000px",e.one("body").appendChild(i),e.on("load",function(){r._uploadComplete(t,n)},"#io_iframe"+t.id)}function a(t){e.Event.purgeElement("#io_iframe"+t,!1),e.one("body").removeChild(e.one("#io_iframe"+t))}var n=e.config.win,r=e.config.doc,i=r.documentMode&&r.documentMode>=8,s=decodeURIComponent,o=e.IO.prototype.end;e.mix(e.IO.prototype,{_addData:function(t,n){e.Lang.isObject(n)&&(n=e.QueryString.stringify(n));var i=[],o=n.split("="),u,a;for(u=0,a=o.length-1;u<a;u++)i[u]=r.createElement("input"),i[u].type="hidden",i[u].name=s(o[u].substring(o[u].lastIndexOf("&")+1)),i[u].value=u+1===a?s(o[u+1]):s(o[u+1].substring(0,o[u+1].lastIndexOf("&"))),t.appendChild(i[u]);return i},_removeData:function(e,t){var n,r;for(n=0,r=t.length;n<r;n++)e.removeChild(t[n])},_setAttrs:function(t,n,r){this._originalFormAttrs={action:t.getAttribute("action"),target:t.getAttribute("target")},t.setAttribute("action",r),t.setAttribute("method","POST"),t.setAttribute("target","io_iframe"+n),t.setAttribute(e.UA.ie&&!i?"encoding":"enctype","multipart/form-data")},_resetAttrs:function(t,n){e.Object.each(n,function(e,n){e?t.setAttribute(n,e):t.removeAttribute(n)})},_startUploadTimeout:function(e,t){var r=this;r._timeout[e.id]=n.setTimeout(function(){e.status=0,e.statusText="timeout",r.complete(e,t),r.end(e,t)},t.timeout)},_clearUploadTimeout:function(e){var t=this;n.clearTimeout(t._timeout[e]),delete t._timeout[e]},_uploadComplete:function(t,r){var i=this,s=e.one("#io_iframe"+t.id).get("contentWindow.document"),o=s.one("body"),u;r.timeout&&i._clearUploadTimeout(t.id);try{o?(u=o.one("pre:first-child"),t.c.responseText=u?u.get("text"):o.get("text")):t.c.responseXML=s._node}catch(f){t.e="upload failure"}i.complete(t,r),i.end(t,r),n.setTimeout(function(){a(t.id)},0)},_upload:function(t,n,i){var s=this,o=typeof i.form.id=="string"?r.getElementById(i.form.id):i.form.id,u;return s._setAttrs(o,t.id,n),i.data&&(u=s._addData(o,i.data)),i.timeout&&s._startUploadTimeout(t,i),o.submit(),s.start(t,i),i.data&&s._removeData(o,u),{id:t.id,abort:function(){t.status=0,t.statusText="abort";if(!e.one("#io_iframe"+t.id))return!1;a(t.id),s.complete(t,i),s.end(t,i)},isInProgress:function(){return e.one("#io_iframe"+t.id)?!0:!1},io:s}},upload:function(e,t,n){return u(e,n,this),this._upload(e,t,n)},end:function(e,t){var n,i;return t&&(n=t.form,n&&n.upload&&(i=this,n=typeof n.id=="string"?r.getElementById(n.id):n.id,n&&i._resetAttrs(n,this._originalFormAttrs))),o.call(this,e,t)}},!0)},"3.18.1",{requires:["io-base","node-base"]});
YUI.add("io-xdr",function(e,t){function a(e,t,n){var r='<object id="io_swf" type="application/x-shockwave-flash" data="'+e+'" width="0" height="0">'+'<param name="movie" value="'+e+'">'+'<param name="FlashVars" value="yid='+t+"&uid="+n+'">'+'<param name="allowScriptAccess" value="always">'+"</object>",i=s.createElement("div");s.body.appendChild(i),i.innerHTML=r}function f(t,n,r){return n==="flash"&&(t.c.responseText=decodeURI(t.c.responseText)),r==="xml"&&(t.c.responseXML=e.DataType.XML.parse(t.c.responseText)),t}function l(e,t){return e.c.abort(e.id,t)}function c(e){return u?i[e.id]!==4:e.c.isInProgress(e.id)}var n=e.publish("io:xdrReady",{fireOnce:!0}),r={},i={},s=e.config.doc,o=e.config.win,u=o&&o.XDomainRequest;e.mix(e.IO.prototype,{_transport:{},_ieEvt:function(e,t){var n=this,r=e.id,s="timeout";e.c.onprogress=function(){i[r]=3},e.c.onload=function(){i[r]=4,n.xdrResponse("success",e,t)},e.c.onerror=function(){i[r]=4,n.xdrResponse("failure",e,t)},e.c.ontimeout=function(){i[r]=4,n.xdrResponse(s,e,t)},e.c[s]=t[s]||0},xdr:function(t,n,i){var s=this;return i.xdr.use==="flash"?(r[n.id]=i,o.setTimeout(function(){try{n.c.send(t,{id:n.id,uid:n.uid,method:i.method,data:i.data,headers:i.headers})}catch(e){s.xdrResponse("transport error",n,i),delete r[n.id]}},e.io.xdr.delay)):u?(s._ieEvt(n,i),n.c.open(i.method||"GET",t),setTimeout(function(){n.c.send(i.data)},0)):n.c.send(t,n,i),{id:n.id,abort:function(){return n.c?l(n,i):!1},isInProgress:function(){return n.c?c(n.id):!1},io:s}},xdrResponse:function(e,t,n){n=r[t.id]?r[t.id]:n;var s=this,o=u?i:r,a=n.xdr.use,l=n.xdr.dataType;switch(e){case"start":s.start(t,n);break;case"success":s.success(f(t,a,l),n),delete o[t.id];break;case"timeout":case"abort":case"transport error":t.c={status:0,statusText:e};case"failure":s.failure(f(t,a,l),n),delete o[t.id]}},_xdrReady:function(t,r){e.fire(n,t,r)},transport:function(t){t.id==="flash"&&(a(e.UA.ie?t.src+"?d="+(new Date).valueOf().toString():t.src,e.id,t.uid),e.IO.transports.flash=function(){return s.getElementById("io_swf")})}}),e.io.xdrReady=function(t,n){var r=e.io._map[n];e.io.xdr.delay=0,r._xdrReady.apply(r,[t,n])},e.io.xdrResponse=function(t,n,r){var i=e.io._map[n.uid];i.xdrResponse.apply(i,[t,n,r])},e.io.transport=function(t){var n=e.io._map["io:0"]||new e.IO;t.uid=n._uid,n.transport.apply(n,[t])},e.io.xdr={delay:100}},"3.18.1",{requires:["io-base","datatype-xml-parse"]});
YUI.add("json-parse",function(e,t){var n=e.config.global.JSON;e.namespace("JSON").parse=function(e,t,r){return n.parse(typeof e=="string"?e:e+"",t,r)}},"3.18.1",{requires:["yui-base"]});
YUI.add("json-stringify",function(e,t){var n=":",r=e.config.global.JSON;e.mix(e.namespace("JSON"),{dateToString:function(e){function t(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+n+t(e.getUTCMinutes())+n+t(e.getUTCSeconds())+"Z"},stringify:function(){return r.stringify.apply(r,arguments)},charCacheThreshold:100})},"3.18.1",{requires:["yui-base"]});
YUI.add("jsonp-url",function(e,t){var n=e.JSONPRequest,r=e.Object.getValue,i=function(){};e.mix(n.prototype,{_pattern:/\bcallback=(.*?)(?=&|$)/i,_template:"callback={callback}",_defaultCallback:function(t){var n=t.match(this._pattern),s=[],o=0,u,a,f;if(n){u=n[1].replace(/\[(['"])(.*?)\1\]/g,function(e,t,n){return s[o]=n,".@"+o++}).replace(/\[(\d+)\]/g,function(e,t){return s[o]=parseInt(t,10)|0,".@"+o++}).replace(/^\./,"");if(!/[^\w\.\$@]/.test(u)){a=u.split(".");for(o=a.length-1;o>=0;--o)a[o].charAt(0)==="@"&&(a[o]=s[parseInt(a[o].substr(1),10)]);f=r(e.config.win,a)||r(e,a)||r(e,a.slice(1))}}return f||i},_format:function(e,t){var n=/\{callback\}/,r,i;return n.test(e)?e.replace(n,t):(r=this._template.replace(n,t),this._pattern.test(e)?e.replace(this._pattern,r):(i=e.slice(-1),i!=="&"&&i!=="?"&&(e+=e.indexOf("?")>-1?"&":"?"),e+r))}},!0)},"3.18.1",{requires:["jsonp"]});
YUI.add("jsonp",function(e,t){function r(){this._init.apply(this,arguments)}var n=e.Lang.isFunction;r.prototype={_init:function(t,r){this.url=t,this._requests={},this._timeouts={},this._failures={},r=n(r)?{on:{success:r}}:r||{};var i=r.on||{};i.success||(i.success=this._defaultCallback(t,r)),this._config=e.merge({context:this,args:[],format:this._format,allowCache:!1},r,{on:i})},_defaultCallback:function(){},send:function(){function u(e,r,o){return n(e)?function(n){var u=!0,a="_requests";r?(++t._timeouts[s],--t._requests[s]):o?(++t._failures[s],t._timeouts[s]>0?--t._timeouts[s]:--t._requests[s]):(t._requests[s]||(u=!1,t._timeouts[s]>0?a="_timeouts":t._failures[s]>0&&(a="_failures")),--t[a][s]),!t._requests[s]&&!t._timeouts[s]&&!t._failures[s]&&delete YUI.Env.JSONP[s],u&&e.apply(i.context,[n].concat(i.args))}:null}var t=this,r=e.Array(arguments,0,!0),i=t._config,s=t._proxy||e.guid(),o;return i.allowCache&&(t._proxy=s),t._requests[s]===undefined&&(t._requests[s]=0),t._timeouts[s]===undefined&&(t._timeouts[s]=0),t._failures[s]===undefined&&(t._failures[s]=0),t._requests[s]++,r.unshift(t.url,"YUI.Env.JSONP."+s),o=i.format.apply(t,r),i.on.success?(YUI.Env.JSONP[s]=u(i.on.success),e.Get.js(o,{onFailure:u(i.on.failure,!1,!0),onTimeout:u(i.on.timeout,!0,!1),timeout:i.timeout,charset:i.charset,attributes:i.attributes,async:i.async}).execute(),t):t},_format:function(e,t){return e.replace(/\{callback\}/,t)}},e.JSONPRequest=r,e.jsonp=function(t,n){var r=new e.JSONPRequest(t,n);return r.send.apply(r,e.Array(arguments,2,!0))},YUI.Env.JSONP||(YUI.Env.JSONP={})},"3.18.1",{requires:["get","oop"]});
YUI.add("lazy-model-list",function(e,t){var n=e.Attribute.prototype,r=YUI.namespace("Env.Model"),i=e.Lang,s=e.Array,o="add",u="error",a="reset";e.LazyModelList=e.Base.create("lazyModelList",e.ModelList,[],{initializer:function(){this.after("*:change",this._afterModelChange)},free:function(e){var t;return e?(t=i.isNumber(e)?e:this.indexOf(e),t>=0&&delete this._models[t]):this._models=[],this},get:function(e){return this.attrAdded(e)?n.get.apply(this,arguments):s.map(this._items,function(t){return t[e]})},getAsHTML:function(t){return this.attrAdded(t)?e.Escape.html(n.get.apply(this,arguments)):s.map(this._items,function(n){return e.Escape.html(n[t])})},getAsURL:function(e){return this.attrAdded(e)?encodeURIComponent(n.get.apply(this,arguments)):s.map(this._items,function(t){return encodeURIComponent(t[e])})},indexOf:function(e){return s.indexOf(e&&e._isYUIModel?this._models:this._items,e)},reset:function(t,n){t||(t=[]),n||(n={});var r=e.merge({src:"reset"},n);return t=t._isYUIModelList?t.map(this._modelToObject):s.map(t,this._modelToObject),r.models=t,n.silent?this._defResetFn(r):(this.comparator&&t.sort(e.bind(this._sort,this)),this.fire(a,r)),this},revive:function(e){var t,n,r;if(e||e===0)return this._revive(i.isNumber(e)?e:this.indexOf(e));r=[];for(t=0,n=this._items.length;t<n;t++)r.push(this._revive(t));return r},toJSON:function(){return this.toArray()},_add:function(t,n){var r;n||(n={}),t=this._modelToObject(t),"clientId"in t||(t.clientId=this._generateClientId());if(this._isInList(t)){this.fire(u,{error:"Model is already in the list.",model:t,src:"add"});return}return r=e.merge(n,{index:"index"in n?n.index:this._findIndex(t),model:t}),n.silent?this._defAddFn(r):this.fire(o,r),t},_clear:function(){s.each(this._models,this._detachList,this),this._clientIdMap={},this._idMap={},this._items=[],this._models=[]},_generateClientId:function(){return r.lastId||(r.lastId=0),this.model.NAME+"_"+(r.lastId+=1)},_isInList:function(e){return!!("clientId"in e&&this._clientIdMap[e.clientId]||"id"in e&&this._idMap[e.id])},_modelToObject:function(e){return e._isYUIModel&&(e=e.getAttrs(),delete e.destroyed,delete e.initialized),e},_remove:function(t,n){return t._isYUIModel&&(t=this.indexOf(t)),e.ModelList.prototype._remove.call(this,t,n)},_revive:function(e){var t,n;return e<0?null:(t=this._items[e],t?(n=this._models[e],n||(n=new this.model(t),n._set("clientId",t.clientId),this._attachList(n),this._models[e]=n),n):null)},_afterModelChange:function(e){var t=e.changed,n=this._clientIdMap[e.target.get("clientId")],r;if(n)for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r].newVal)},_defAddFn:function(e){var t=e.model;this._clientIdMap[t.clientId]=t,i.isValue(t.id)&&(this._idMap[t.id]=t),this._items.splice(e.index,0,t)},_defRemoveFn:function(e){var t=e.index,n=e.model,r=this._models[t];delete this._clientIdMap[n.clientId],"id"in n&&delete this._idMap[n.id],r&&this._detachList(r),this._items.splice(t,1),this._models.splice(t,1)}})},"3.18.1",{requires:["model-list"]});
YUI.add("model-list",function(e,t){function c(){c.superclass.constructor.apply(this,arguments)}var n=e.Attribute.prototype,r=e.Lang,i=e.Array,s="add",o="create",u="error",a="load",f="remove",l="reset";e.ModelList=e.extend(c,e.Base,{model:e.Model,_isYUIModelList:!0,initializer:function(t){t||(t={});var n=this.model=t.model||this.model;typeof n=="string"&&(this.model=e.Object.getValue(e,n.split(".")),this.model||e.error("ModelList: Model class not found: "+n)),this.publish(s,{defaultFn:this._defAddFn}),this.publish(l,{defaultFn:this._defResetFn}),this.publish(f,{defaultFn:this._defRemoveFn}),this.after("*:idChange",this._afterIdChange),this._clear(),t.items&&this.add(t.items,{silent:!0})},destructor:function(){this._clear()},add:function(t,n){var s=t._isYUIModelList;return s||r.isArray(t)?i.map(s?t.toArray():t,function(t,r){var i=n||{};return"index"in i&&(i=e.merge(i,{index:i.index+r})),this._add(t,i)},this):this._add(t,n)},create:function(t,n,r){var i=this;return typeof n=="function"&&(r=n,n={}),n||(n={}),t._isYUIModel||(t=new this.model(t)),i.fire(o,e.merge(n,{model:t})),t.save(n,function(e){e||i.add(t,n),r&&r.apply(null,arguments)})},each:function(e,t){var n=this._items.concat(),r,i,s;for(r=0,s=n.length;r<s;r++)i=n[r],e.call(t||i,i,r,this);return this},filter:function(e,t){var n=[],r=this._items,i,s,o,u;typeof e=="function"&&(t=e,e={});for(i=0,o=r.length;i<o;++i)s=r[i],t.call(this,s,i,this)&&n.push(s);return e.asList?(u=new this.constructor({model:this.model}),n.length&&u.add(n,{silent:!0}),u):n},get:function(e){return this.attrAdded(e)?n.get.apply(this,arguments):this.invoke("get",e)},getAsHTML:function(t){return this.attrAdded(t)?e.Escape.html(n.get.apply(this,arguments)):this.invoke("getAsHTML",t)},getAsURL:function(e){return this.attrAdded(e)?encodeURIComponent(n.get.apply(this,arguments)):this.invoke("getAsURL",e)},getByClientId:function(e){return this._clientIdMap[e]||null},getById:function(e){return this._idMap[e]||null},invoke:function(e){var t=[this._items,e].concat(i(arguments,1,!0));return i.invoke.apply(i,t)},load:function(e,t){var n=this;return typeof e=="function"&&(t=e,e={}),e||(e={}),this.sync("read",e,function(r,i){var s={options:e,response:i},o;r?(s.error=r,s.src="load",n.fire(u,s)):(n._loadEvent||(n._loadEvent=n.publish(a,{preventable:!1})),o=s.parsed=n._parse(i),n.reset(o,e),n.fire(a,s)),t&&t.apply(null,arguments)}),this},map:function(e,t){return i.map(this._items,e,t)},parse:function(t){if(typeof t=="string")try{return e.JSON.parse(t)||[]}catch(n){return this.fire(u,{error:n,response:t,src:"parse"}),null}return t||[]},remove:function(e,t){var n=e._isYUIModelList;return n||r.isArray(e)?(e=i.map(n?e.toArray():e,function(e){return r.isNumber(e)?this.item(e):e},this),i.map(e,function(e){return this._remove(e,t)},this)):this._remove(e,t)},reset:function(t,n){t||(t=[]),n||(n={});var r=e.merge({src:"reset"},n);return t._isYUIModelList?t=t.toArray():t=i.map(t,function(e){return e._isYUIModel?e:new this.model(e)},this),r.models=t,n.silent?this._defResetFn(r):(this.comparator&&t.sort(e.bind(this._sort,this)),this.fire(l,r)),this},some:function(e,t){var n=this._items.concat(),r,i,s;for(r=0,s=n.length;r<s;r++){i=n[r];if(e.call(t||i,i,r,this))return!0}return!1},sort:function(t){if(!this.comparator)return this;var n=this._items.concat(),r;return t||(t={}),n.sort(e.rbind(this._sort,this,t)),r=e.merge(t,{models:n,src:"sort"}),t.silent?this._defResetFn(r):this.fire(l,r),this},sync:function(){var e=i(arguments,0,!0).pop();typeof e=="function"&&e()},toArray:function(){return this._items.concat()},toJSON:function(){return this.map(function(e){return e.toJSON()})},_add:function(t,n){var i,o;n||(n={}),t._isYUIModel||(t=new this.model(t)),o=t.get("id");if(this._clientIdMap[t.get("clientId")]||r.isValue(o)&&this._idMap[o]){this.fire(u,{error:"Model is already in the list.",model:t,src:"add"});return}return i=e.merge(n,{index:"index"in n?n.index:this._findIndex(t),model:t}),n.silent?this._defAddFn(i):this.fire(s,i),t},_attachList:function(e){e.lists.push(this),e.addTarget(this)},_clear:function(){i.each(this._items,this._detachList,this),this._clientIdMap={},this._idMap={},this._items=[]},_compare:function(e,t){return e<t?-1:e>t?1:0},_detachList:function(e){var t=i.indexOf(e.lists,this);t>-1&&(e.lists.splice(t,1),e.removeTarget(this))},_findIndex:function(e){var t=this._items,n=t.length,r=0,i,s,o;if(!this.comparator||!n)return n;o=this.comparator(e);while(r<n)s=r+n>>1,i=t[s],this._compare(this.comparator(i),o)<0?r=s+1:n=s;return r},_parse:function(e){return this.parse(e)},_remove:function(t,n){var i,s;n||(n={}),r.isNumber(t)?(i=t,t=this.item(i)):i=this.indexOf(t);if(i===-1||!t){this.fire(u,{error:"Model is not in the list.",index:i,model:t,src:"remove"});return}return s=e.merge(n,{index:i,model:t}),n.silent?this._defRemoveFn(s):this.fire(f,s),t},_sort:function(e,t,n){var r=this._compare(this.comparator(e),this.comparator(t));return r===0?r:n&&n.descending?-r:r},_afterIdChange:function(e){var t=e.newVal,n=e.prevVal,i=e.target;if(r.isValue(n)){if(this._idMap[n]!==i)return;delete this._idMap[n]}else if(this.indexOf(i)===-1)return;r.isValue(t)&&(this._idMap[t]=i)},_defAddFn:function(e){var t=e.model,n=t.get("id");this._clientIdMap[t.get("clientId")]=t,r.isValue(n)&&(this._idMap[n]=t),this._attachList(t),this._items.splice(e.index,0,t)},_defRemoveFn:function(e){var t=e.model,n=t.get("id");this._detachList(t),delete this._clientIdMap[t.get("clientId")],r.isValue(n)&&delete this._idMap[n],this._items.splice(e.index,1)},_defResetFn:function(e){if(e.src==="sort"){this._items=e.models.concat();return}this._clear(),e.models.length&&this.add(e.models,{silent:!0})}},{NAME:"modelList"}),e.augment(c,e.ArrayList)},"3.18.1",{requires:["array-extras","array-invoke","arraylist","base-build","escape","json-parse","model"]});
YUI.add("model",function(e,t){function l(){l.superclass.constructor.apply(this,arguments)}var n=YUI.namespace("Env.Model"),r=e.Lang,i=e.Array,s=e.Object,o="change",u="error",a="load",f="save";e.Model=e.extend(l,e.Base,{idAttribute:"id",_allowAdHocAttrs:!0,_isYUIModel:!0,initializer:function(e){this.changed={},this.lastChange={},this.lists=[]},destroy:function(e,t){var n=this;return typeof e=="function"&&(t=e,e=null),n.onceAfter("destroy",function(){function r(r){r||i.each(n.lists.concat(),function(t){t.remove(n,e)}),t&&t.apply(null,arguments)}e&&(e.remove||e["delete"])?n.sync("delete",e,r):r()}),l.superclass.destroy.call(n)},generateClientId:function(){return n.lastId||(n.lastId=0),this.constructor.NAME+"_"+(n.lastId+=1)},getAsHTML:function(t){var n=this.get(t);return e.Escape.html(r.isValue(n)?String(n):"")},getAsURL:function(e){var t=this.get(e);return encodeURIComponent(r.isValue(t)?String(t):"")},isModified:function(){return this.isNew()||!s.isEmpty(this.changed)},isNew:function(){return!r.isValue(this.get("id"))},load:function(e,t){var n=this;return typeof e=="function"&&(t=e,e={}),e||(e={}),n.sync("read",e,function(r,i){var s={options:e,response:i},o;r?(s.error=r,s.src="load",n.fire(u,s)):(n._loadEvent||(n._loadEvent=n.publish(a,{preventable:!1})),o=s.parsed=n._parse(i),n.setAttrs(o,e),n.changed={},n.fire(a,s)),t&&t.apply(null,arguments)}),n},parse:function(t){if(typeof t=="string")try{return e.JSON.parse(t)}catch(n){return this.fire(u,{error:n,response:t,src:"parse"}),null}return t},save:function(e,t){var n=this;return typeof e=="function"&&(t=e,e={}),e||(e={}),n._validate(n.toJSON(),function(r){if(r){t&&t.call(null,r);return}n.sync(n.isNew()?"create":"update",e,function(r,i){var s={options:e,response:i},o;r?(s.error=r,s.src="save",n.fire(u,s)):(n._saveEvent||(n._saveEvent=n.publish(f,{preventable:!1})),i&&(o=s.parsed=n._parse(i),n.setAttrs(o,e)),n.changed={},n.fire(f,s)),t&&t.apply(null,arguments)})}),n},set:function(e,t,n){var r={};return r[e]=t,this.setAttrs(r,n)},setAttrs:function(t,n){var r=this.idAttribute,i,u,a,f,l;n=e.merge(n),l=n._transaction={},r!=="id"&&(t=e.merge(t),s.owns(t,r)?t.id=t[r]:s.owns(t,"id")&&(t[r]=t.id));for(a in t)s.owns(t,a)&&this._setAttr(a,t[a],n);if(!s.isEmpty(l)){i=this.changed,f=this.lastChange={};for(a in l)s.owns(l,a)&&(u=l[a],i[a]=u.newVal,f[a]={newVal:u.newVal,prevVal:u.prevVal,src:u.src||null});n.silent||(this._changeEvent||(this._changeEvent=this.publish(o,{preventable:!1})),n.changed=f,this.fire(o,n))}return this},sync:function(){var e=i(arguments,0,!0).pop();typeof e=="function"&&e()},toJSON:function(){var e=this.getAttrs();return delete e.clientId,delete e.destroyed,delete e.initialized,this.idAttribute!=="id"&&delete e.id,e},undo:function(e,t){var n=this.lastChange,r=this.idAttribute,o={},u;return e||(e=s.keys(n)),i.each(e,function(e){s.owns(n,e)&&(e=e===r?"id":e,u=!0,o[e]=n[e].prevVal)}),u?this.setAttrs(o,t):this},validate:function(e,t){t&&t()},addAttr:function(e,t,n){var i=this.idAttribute,s,o;return i&&e===i&&(s=this._isLazyAttr("id")||this._getAttrCfg("id"),o=t.value===t.defaultValue?null:t.value,r.isValue(o)||(o=s.value===s.defaultValue?null:s.value,r.isValue(o)||(o=r.isValue(t.defaultValue)?t.defaultValue:s.defaultValue)),t.value=o,s.value!==o&&(s.value=o,this._isLazyAttr("id")?this._state.add("id","lazy",s):this._state.add("id","value",o))),l.superclass.addAttr.apply(this,arguments)},_parse:function(e){return this.parse(e)},_validate:function(e,t){function i(i){if(r.isValue(i)){n.fire(u,{attributes:e,error:i,src:"validate"}),t(i);return}t()}var n=this;n.validate.length===1?i(n.validate(e,i)):n.validate(e,i)},_setAttrVal:function(e,t,n,r,i,s){var o=l.superclass._setAttrVal.apply(this,arguments),u=i&&i._transaction,a=s&&s.initializing;return o&&u&&!a&&(u[e]={newVal:this.get(e),prevVal:n,src:i.src||null}),o}},{NAME:"model",ATTRS:{clientId:{valueFn:"generateClientId",readOnly:!0},id:{value:null}}})},"3.18.1",{requires:["base-build","escape","json-parse"]});
YUI.add("node-base",function(e,t){var n=["hasClass","addClass","removeClass","replaceClass","toggleClass"];e.Node.importMethod(e.DOM,n),e.NodeList.importMethod(e.Node.prototype,n);var r=e.Node,i=e.DOM;r.create=function(t,n){return n&&n._node&&(n=n._node),e.one(i.create(t,n))},e.mix(r.prototype,{create:r.create,insert:function(e,t){return this._insert(e,t),this},_insert:function(e,t){var n=this._node,r=null;return typeof t=="number"?t=this._node.childNodes[t]:t&&t._node&&(t=t._node),e&&typeof e!="string"&&(e=e._node||e._nodes||e),r=i.addHTML(n,e,t),r},prepend:function(e){return this.insert(e,0)},append:function(e){return this.insert(e,null)},appendChild:function(e){return r.scrubVal(this._insert(e))},insertBefore:function(t,n){return e.Node.scrubVal(this._insert(t,n))},appendTo:function(t){return e.one(t).append(this),this},setContent:function(e){return this._insert(e,"replace"),this},getContent:function(){var e=this;return e._node.nodeType===11&&(e=e.create("<div/>").append(e.cloneNode(!0))),e.get("innerHTML")}}),e.Node.prototype.setHTML=e.Node.prototype.setContent,e.Node.prototype.getHTML=e.Node.prototype.getContent,e.NodeList.importMethod(e.Node.prototype,["append","insert","appendChild","insertBefore","prepend","setContent","getContent","setHTML","getHTML"]);var r=e.Node,i=e.DOM;r.ATTRS={text:{getter:function(){return i.getText(this._node)},setter:function(e){return i.setText(this._node,e),e}},"for":{getter:function(){return i.getAttribute(this._node,"for")},setter:function(e){return i.setAttribute(this._node,"for",e),e}},options:{getter:function(){return this._node.getElementsByTagName("option")}},children:{getter:function(){var t=this._node,n=t.children,r,i,s;if(!n){r=t.childNodes,n=[];for(i=0,s=r.length;i<s;++i)r[i].tagName&&(n[n.length]=r[i])}return e.all(n)}},value:{getter:function(){return i.getValue(this._node)},setter:function(e){return i.setValue(this._node,e),e}}},e.Node.importMethod(e.DOM,["setAttribute","getAttribute"]);var r=e.Node,s=e.NodeList;r.DOM_EVENTS={abort:1,beforeunload:1,blur:1,change:1,click:1,close:1,command:1,contextmenu:1,copy:1,cut:1,dblclick:1,DOMMouseScroll:1,drag:1,dragstart:1,dragenter:1,dragover:1,dragleave:1,dragend:1,drop:1,error:1,focus:1,key:1,keydown:1,keypress:1,keyup:1,load:1,message:1,mousedown:1,mouseenter:1,mouseleave:1,mousemove:1,mousemultiwheel:1,mouseout:1,mouseover:1,mouseup:1,mousewheel:1,orientationchange:1,paste:1,reset:1,resize:1,select:1,selectstart:1,submit:1,scroll:1,textInput:1,unload:1,invalid:1},e.mix(r.DOM_EVENTS,e.Env.evt.plugins),e.augment(r,e.EventTarget),e.mix(r.prototype,{purge:function(t,n){return e.Event.purgeElement(this._node,t,n),this}}),e.mix(e.NodeList.prototype,{_prepEvtArgs:function(t,n,r){var i=e.Array(arguments,0,!0);return i.length<2?i[2]=this._nodes:i.splice(2,0,this._nodes),i[3]=r||this,i},on:function(t,n,r){return e.on.apply(e,this._prepEvtArgs.apply(this,arguments))},once:function(t,n,r){return e.once.apply(e,this._prepEvtArgs.apply(this,arguments))},after:function(t,n,r){return e.after.apply(e,this._prepEvtArgs.apply(this,arguments))},onceAfter:function(t,n,r){return e.onceAfter.apply(e,this._prepEvtArgs.apply(this,arguments))}}),s.importMethod(e.Node.prototype,["detach","detachAll"]),e.mix(e.Node.ATTRS,{offsetHeight:{setter:function(t){return e.DOM.setHeight(this._node,t),t},getter:function(){return this._node.offsetHeight}},offsetWidth:{setter:function(t){return e.DOM.setWidth(this._node,t),t},getter:function(){return this._node.offsetWidth}}}),e.mix(e.Node.prototype,{sizeTo:function(t,n){var r;arguments.length<2&&(r=e.one(t),t=r.get("offsetWidth"),n=r.get("offsetHeight")),this.setAttrs({offsetWidth:t,offsetHeight:n})}}),e.config.doc.documentElement.hasAttribute||(e.Node.prototype.hasAttribute=function(e){return e==="value"&&this.get("value")!==""?!0:!!this._node.attributes[e]&&!!this._node.attributes[e].specified}),e.Node.prototype.focus=function(){try{this._node.focus()}catch(e){}return this},e.Node.ATTRS.type={setter:function(e){if(e==="hidden")try{this._node.type="hidden"}catch(t){this._node.style.display="none",this._inputType="hidden"}else try{this._node.type=e}catch(t){}return e},getter:function(){return this._inputType||this._node.type},_bypassProxy:!0},e.config.doc.createElement("form").elements.nodeType&&(e.Node.ATTRS.elements={getter:function(){return this.all("input, textarea, button, select")}}),e.mix(e.Node.prototype,{_initData:function(){"_data"in this||(this._data={})},getData:function(t){this._initData();var n=this._data,r=n;return arguments.length?t in n?r=n[t]:r=this._getDataAttribute(t):typeof n=="object"&&n!==null&&(r={},e.Object.each(n,function(e,t){r[t]=e}),r=this._getDataAttributes(r)),r},_getDataAttributes:function(e){e=e||{};var t=0,n=this._node.attributes,r=n.length,i=this.DATA_PREFIX,s=i.length,o;while(t<r)o=n[t].name,o.indexOf(i)===0&&(o=o.substr(s),o in e||(e[o]=this._getDataAttribute(o))),t+=1;return e},_getDataAttribute:function(e){e=this.DATA_PREFIX+e;var t=this._node,n=t.attributes,r=n&&n[e]&&n[e].value;return r},setData:function(e,t){return this._initData(),arguments.length>1?this._data[e]=t:this._data=e,this},clearData:function(e){return"_data"in this&&(typeof e!="undefined"?delete this._data[e]:delete this._data),this}}),e.mix(e.NodeList.prototype,{getData:function(e){var t=arguments.length?[e]:[];return this._invoke("getData",t,!0)},setData:function(e,t){var n=arguments.length>1?[e,t]:[e];return this._invoke("setData",n)},clearData:function(e){var t=arguments.length?[e]:[];return this._invoke("clearData",[e])}})},"3.18.1",{requires:["event-base","node-core","dom-base","dom-style"]});
YUI.add("node-core",function(e,t){var n=".",r="nodeName",i="nodeType",s="ownerDocument",o="tagName",u="_yuid",a={},f=Array.prototype.slice,l=e.DOM,c=function(t){if(!this.getDOMNode)return new c(t);if(typeof t=="string"){t=c._fromString(t);if(!t)return null}var n=t.nodeType!==9?t.uniqueID:t[u];n&&c._instances[n]&&c._instances[n]._node!==t&&(t[u]=null),n=n||e.stamp(t),n||(n=e.guid()),this[u]=n,this._node=t,this._stateProxy=t,this._initPlugins&&this._initPlugins()},h=function(t){var n=null;return t&&(n=typeof t=="string"?function(n){return e.Selector.test(n,t)}:function(n){return t(e.one(n))}),n};c.ATTRS={},c.DOM_EVENTS={},c._fromString=function(t){return t&&(t.indexOf("doc")===0?t=e.config.doc:t.indexOf("win")===0?t=e.config.win:t=e.Selector.query(t,null,!0)),t||null},c.NAME="node",c.re_aria=/^(?:role$|aria-)/,c.SHOW_TRANSITION="fadeIn",c.HIDE_TRANSITION="fadeOut",c._instances={},c.getDOMNode=function(e){return e?e.nodeType?e:e._node||null:null},c.scrubVal=function(t,n){if(t){if(typeof t=="object"||typeof t=="function")if(i in t||l.isWindow(t))t=e.one(t);else if(t.item&&!t._nodes||t[0]&&t[0][i])t=e.all(t)}else typeof t=="undefined"?t=n:t===null&&(t=null);return t},c.addMethod=function(e,t,n){e&&t&&typeof t=="function"&&(c.prototype[e]=function(){var e=f.call(arguments),r=this,i;return e[0]&&e[0]._node&&(e[0]=e[0]._node),e[1]&&e[1]._node&&(e[1]=e[1]._node),e.unshift(r._node),i=t.apply(n||r,e),i&&(i=c.scrubVal(i,r)),typeof i!="undefined"||(i=r),i})},c.importMethod=function(t,n,r){typeof n=="string"?(r=r||n,c.addMethod(r,t[n],t)):e.Array.each(n,function(e){c.importMethod(t,e)})},c.one=function(t){var n=null,r,i;if(t){if(typeof t=="string"){t=c._fromString(t);if(!t)return null}else if(t.getDOMNode)return t;if(t.nodeType||e.DOM.isWindow(t)){i=t.uniqueID&&t.nodeType!==9?t.uniqueID:t._yuid,n=c._instances[i],r=n?n._node:null;if(!n||r&&t!==r)n=new c(t),t.nodeType!=11&&(c._instances[n[u]]=n)}}return n},c.DEFAULT_SETTER=function(t,r){var i=this._stateProxy,s;return t.indexOf(n)>-1?(s=t,t=t.split(n),e.Object.setValue(i,t,r)):typeof i[t]!="undefined"&&(i[t]=r),r},c.DEFAULT_GETTER=function(t){var r=this._stateProxy,i;return t.indexOf&&t.indexOf(n)>-1?i=e.Object.getValue(r,t.split(n)):typeof r[t]!="undefined"&&(i=r[t]),i},e.mix(c.prototype,{DATA_PREFIX:"data-",toString:function(){var e=this[u]+": not bound to a node",t=this._node,n,i,s;return t&&(n=t.attributes,i=n&&n.id?t.getAttribute("id"):null,s=n&&n.className?t.getAttribute("className"):null,e=t[r],i&&(e+="#"+i),s&&(e+="."+s.replace(" ",".")),e+=" "+this[u]),e},get:function(e){var t;return this._getAttr?t=this._getAttr(e):t=this._get(e),t?t=c.scrubVal(t,this):t===null&&(t=null),t},_get:function(e){var t=c.ATTRS[e],n;return t&&t.getter?n=t.getter.call(this):c.re_aria.test(e)?n=this._node.getAttribute(e,2):n=c.DEFAULT_GETTER.apply(this,arguments),n},set:function(e,t){var n=c.ATTRS[e];return this._setAttr?this._setAttr.apply(this,arguments):n&&n.setter?n.setter.call(this,t,e):c.re_aria.test(e)?this._node.setAttribute(e,t):c.DEFAULT_SETTER.apply(this,arguments),this},setAttrs:function(t){return this._setAttrs?this._setAttrs(t):e.Object.each(t,function(e,t){this.set(t,e)},this),this},getAttrs:function(t){var n={};return this._getAttrs?this._getAttrs(t):e.Array.each(t,function(e,t){n[e]=this.get(e)},this),n},compareTo:function(e){var t=this._node;return e&&e._node&&(e=e._node),t===e},inDoc:function(e){var t=this._node;if(t){e=e?e._node||e:t[s];if(e.documentElement)return l.contains(e.documentElement,t)}return!1},getById:function(t){var n=this._node,r=l.byId(t,n[s]);return r&&l.contains(n,r)?r=e.one(r):r=null,r},ancestor:function(t,n,r){return arguments.length===2&&(typeof n=="string"||typeof n=="function")&&(r=n),e.one(l.ancestor(this._node,h(t),n,h(r)))},ancestors:function(t,n,r){return arguments.length===2&&(typeof n=="string"||typeof n=="function")&&(r=n),e.all(l.ancestors(this._node,h(t),n,h(r)))},previous:function(t,n){return e.one(l.elementByAxis(this._node,"previousSibling",h(t),n))},next:function(t,n){return e.one(l.elementByAxis(this._node,"nextSibling",h(t),n))},siblings:function(t){return e.all(l.siblings(this._node,h(t)))},one:function(t){return e.one(e.Selector.query(t,this._node,!0))},all:function(t){var n;return this._node&&(n=e.all(e.Selector.query(t,this._node)),n._query=t,n._queryRoot=this._node),n||e.all([])},test:function(t){return e.Selector.test(this._node,t)},remove:function(e){var t=this._node;return t&&t.parentNode&&t.parentNode.removeChild(t),e&&this.destroy(),this},replace:function(e){var t=this._node;return typeof e=="string"&&(e=c.create(e)),t.parentNode.replaceChild(c.getDOMNode(e),t),this},replaceChild:function(t,n){return typeof t=="string"&&(t=l.create(t)),e.one(this._node.replaceChild(c.getDOMNode(t),c.getDOMNode(n)))},destroy:function(t){var n=e.config.doc.uniqueID?"uniqueID":"_yuid",r;this.purge(),this.unplug&&this.unplug(),this.clearData(),t&&e.NodeList.each(this.all("*"),function(t){r=c._instances[t[n]],r?r.destroy():e.Event.purgeElement(t)}),this._node=null,this._stateProxy=null,delete c._instances[this._yuid]},invoke:function(e,t,n,r,i,s){var o=this._node,u;return t&&t._node&&(t=t._node),n&&n._node&&(n=n._node),u=o[e](t,n,r,i,s),c.scrubVal(u,this)},swap:e.config.doc.documentElement.swapNode?function(e){this._node.swapNode(c.getDOMNode(e))}:function(e){e=c.getDOMNode(e);var t=this._node,n=e.parentNode,r=e.nextSibling;return r===t?n.insertBefore(t,e):e===t.nextSibling?n.insertBefore(e,t):(t.parentNode.replaceChild(e,t),l.addHTML(n,t,r)),this},hasMethod:function(e){var t=this._node;return!(!(t&&e in t&&typeof t[e]!="unknown")||typeof t[e]!="function"&&String(t[e]).indexOf("function")!==1)},isFragment:function(){return this.get("nodeType")===11},empty:function(){return this.get("childNodes").remove().destroy(!0),this},getDOMNode:function(){return this._node}},!0),e.Node=c,e.one=c.one;var p=function(t){var n=[];t&&(typeof t=="string"?(this._query=t,t=e.Selector.query(t)):t.nodeType||l.isWindow(t)?t=[t]:t._node?t=[t._node]:
t[0]&&t[0]._node?(e.Array.each(t,function(e){e._node&&n.push(e._node)}),t=n):t=e.Array(t,0,!0)),this._nodes=t||[]};p.NAME="NodeList",p.getDOMNodes=function(e){return e&&e._nodes?e._nodes:e},p.each=function(t,n,r){var i=t._nodes;i&&i.length&&e.Array.each(i,n,r||t)},p.addMethod=function(t,n,r){t&&n&&(p.prototype[t]=function(){var t=[],i=arguments;return e.Array.each(this._nodes,function(s){var o=s.uniqueID&&s.nodeType!==9?"uniqueID":"_yuid",u=e.Node._instances[s[o]],a,f;u||(u=p._getTempNode(s)),a=r||u,f=n.apply(a,i),f!==undefined&&f!==u&&(t[t.length]=f)}),t.length?t:this})},p.importMethod=function(t,n,r){typeof n=="string"?(r=r||n,p.addMethod(r,t[n])):e.Array.each(n,function(e){p.importMethod(t,e)})},p._getTempNode=function(t){var n=p._tempNode;return n||(n=e.Node.create("<div></div>"),p._tempNode=n),n._node=t,n._stateProxy=t,n},e.mix(p.prototype,{_invoke:function(e,t,n){var r=n?[]:this;return this.each(function(i){var s=i[e].apply(i,t);n&&r.push(s)}),r},item:function(t){return e.one((this._nodes||[])[t])},each:function(t,n){var r=this;return e.Array.each(this._nodes,function(i,s){return i=e.one(i),t.call(n||i,i,s,r)}),r},batch:function(t,n){var r=this;return e.Array.each(this._nodes,function(i,s){var o=e.Node._instances[i[u]];return o||(o=p._getTempNode(i)),t.call(n||o,o,s,r)}),r},some:function(t,n){var r=this;return e.Array.some(this._nodes,function(i,s){return i=e.one(i),n=n||i,t.call(n,i,s,r)})},toFrag:function(){return e.one(e.DOM._nl2frag(this._nodes))},indexOf:function(t){return e.Array.indexOf(this._nodes,e.Node.getDOMNode(t))},filter:function(t){return e.all(e.Selector.filter(this._nodes,t))},modulus:function(t,n){n=n||0;var r=[];return p.each(this,function(e,i){i%t===n&&r.push(e)}),e.all(r)},odd:function(){return this.modulus(2,1)},even:function(){return this.modulus(2)},destructor:function(){},refresh:function(){var t,n=this._nodes,r=this._query,i=this._queryRoot;return r&&(i||n&&n[0]&&n[0].ownerDocument&&(i=n[0].ownerDocument),this._nodes=e.Selector.query(r,i)),this},size:function(){return this._nodes.length},isEmpty:function(){return this._nodes.length<1},toString:function(){var e="",t=this[u]+": not bound to any nodes",n=this._nodes,i;return n&&n[0]&&(i=n[0],e+=i[r],i.id&&(e+="#"+i.id),i.className&&(e+="."+i.className.replace(" ",".")),n.length>1&&(e+="...["+n.length+" items]")),e||t},getDOMNodes:function(){return this._nodes}},!0),p.importMethod(e.Node.prototype,["destroy","empty","remove","set"]),p.prototype.get=function(t){var n=[],r=this._nodes,i=!1,s=p._getTempNode,o,u;return r[0]&&(o=e.Node._instances[r[0]._yuid]||s(r[0]),u=o._get(t),u&&u.nodeType&&(i=!0)),e.Array.each(r,function(r){o=e.Node._instances[r._yuid],o||(o=s(r)),u=o._get(t),i||(u=e.Node.scrubVal(u,o)),n.push(u)}),i?e.all(n):n},e.NodeList=p,e.all=function(e){return new p(e)},e.Node.all=e.all;var d=e.NodeList,v=Array.prototype,m={concat:1,pop:0,push:0,shift:0,slice:1,splice:1,unshift:0};e.Object.each(m,function(t,n){d.prototype[n]=function(){var r=[],i=0,s,o;while(typeof (s=arguments[i++])!="undefined")r.push(s._node||s._nodes||s);return o=v[n].apply(this._nodes,r),t?o=e.all(o):o=e.Node.scrubVal(o),o}}),e.Array.each(["removeChild","hasChildNodes","cloneNode","hasAttribute","scrollIntoView","getElementsByTagName","focus","blur","submit","reset","select","createCaption"],function(t){e.Node.prototype[t]=function(e,n,r){var i=this.invoke(t,e,n,r);return i}}),e.Node.prototype.removeAttribute=function(e){var t=this._node;return t&&t.removeAttribute(e,0),this},e.Node.importMethod(e.DOM,["contains","setAttribute","getAttribute","wrap","unwrap","generateID"]),e.NodeList.importMethod(e.Node.prototype,["getAttribute","setAttribute","removeAttribute","unwrap","wrap","generateID"])},"3.18.1",{requires:["dom-core","selector"]});
YUI.add("node-event-delegate",function(e,t){e.Node.prototype.delegate=function(t){var n=e.Array(arguments,0,!0),r=e.Lang.isObject(t)&&!e.Lang.isArray(t)?1:2;return n.splice(r,0,this._node),e.delegate.apply(e,n)}},"3.18.1",{requires:["node-base","event-delegate"]});
YUI.add("node-event-simulate",function(e,t){e.Node.prototype.simulate=function(t,n){e.Event.simulate(e.Node.getDOMNode(this),t,n)},e.Node.prototype.simulateGesture=function(t,n,r){e.Event.simulateGesture(this,t,n,r)}},"3.18.1",{requires:["node-base","event-simulate","gesture-simulate"]});
YUI.add("node-focusmanager",function(e,t){var n="activeDescendant",r="id",i="disabled",s="tabIndex",o="focused",u="focusClass",a="circular",f="UI",l="key",c=n+"Change",h="host",p={37:!0,38:!0,39:!0,40:!0},d={a:!0,button:!0,input:!0,object:!0},v=e.Lang,m=e.UA,g=function(){g.superclass.constructor.apply(this,arguments)};g.ATTRS={focused:{value:!1,readOnly:!0},descendants:{getter:function(e){return this.get(h).all(e)}},activeDescendant:{setter:function(t){var n=v.isNumber,i=e.Attribute.INVALID_VALUE,s=this._descendantsMap,o=this._descendants,u,a,f;return n(t)?(u=t,a=u):t instanceof e.Node&&s?(u=s[t.get(r)],n(u)?a=u:a=i):a=i,o&&(f=o.item(u),f&&f.get("disabled")&&(a=i)),a}},keys:{value:{next:null,previous:null}},focusClass:{},circular:{value:!0}},e.extend(g,e.Plugin.Base,{_stopped:!0,_descendants:null,_descendantsMap:null,_focusedNode:null,_lastNodeIndex:0,_eventHandlers:null,_initDescendants:function(){var t=this.get("descendants"),o={},u=-1,a,f=this.get(n),l,c,h=0;v.isUndefined(f)&&(f=-1);if(t){a=t.size();for(h=0;h<a;h++)l=t.item(h),u===-1&&!l.get(i)&&(u=h),f<0&&parseInt(l.getAttribute(s,2),10)===0&&(f=h),l&&l.set(s,-1),c=l.get(r),c||(c=e.guid(),l.set(r,c)),o[c]=h;f<0&&(f=0),l=t.item(f);if(!l||l.get(i))l=t.item(u),f=u;this._lastNodeIndex=a-1,this._descendants=t,this._descendantsMap=o,this.set(n,f),l&&l.set(s,0)}},_isDescendant:function(e){return e.get(r)in this._descendantsMap},_removeFocusClass:function(){var e=this._focusedNode,t=this.get(u),n;t&&(n=v.isString(t)?t:t.className),e&&n&&e.removeClass(n)},_detachKeyHandler:function(){var e=this._prevKeyHandler,t=this._nextKeyHandler;e&&e.detach(),t&&t.detach()},_preventScroll:function(e){p[e.keyCode]&&this._isDescendant(e.target)&&e.preventDefault()},_fireClick:function(e){var t=e.target,n=t.get("nodeName").toLowerCase();e.keyCode===13&&(!d[n]||n==="a"&&!t.getAttribute("href"))&&t.simulate("click")},_attachKeyHandler:function(){this._detachKeyHandler();var t=this.get("keys.next"),n=this.get("keys.previous"),r=this.get(h),i=this._eventHandlers;n&&(this._prevKeyHandler=e.on(l,e.bind(this._focusPrevious,this),r,n)),t&&(this._nextKeyHandler=e.on(l,e.bind(this._focusNext,this),r,t)),m.opera&&i.push(r.on("keypress",this._preventScroll,this)),m.opera||i.push(r.on("keypress",this._fireClick,this))},_detachEventHandlers:function(){this._detachKeyHandler();var t=this._eventHandlers;t&&(e.Array.each(t,function(e){e.detach()}),this._eventHandlers=null)},_attachEventHandlers:function(){var t=this._descendants,n,r,i;t&&t.size()&&(n=this._eventHandlers||[],r=this.get(h).get("ownerDocument"),n.length===0&&(n.push(r.on("focus",this._onDocFocus,this)),n.push(r.on("mousedown",this._onDocMouseDown,this)),n.push(this.after("keysChange",this._attachKeyHandler)),n.push(this.after("descendantsChange",this._initDescendants)),n.push(this.after(c,this._afterActiveDescendantChange)),i=this.after("focusedChange",e.bind(function(e){e.newVal&&(this._attachKeyHandler(),i.detach())},this)),n.push(i)),this._eventHandlers=n)},_onDocMouseDown:function(e){var t=this.get(h),n=e.target,r=t.contains(n),i,s=function(e){var n=!1;return e.compareTo(t)||(n=this._isDescendant(e)?e:s.call(this,e.get("parentNode"))),n};r&&(i=s.call(this,n),i?n=i:!i&&this.get(o)&&(this._set(o,!1),this._onDocFocus(e))),r&&this._isDescendant(n)?this.focus(n):m.webkit&&this.get(o)&&(!r||r&&!this._isDescendant(n))&&(this._set(o,!1),this._onDocFocus(e))},_onDocFocus:function(e){var t=this._focusTarget||e.target,n=this.get(o),r=this.get(u),i=this._focusedNode,s;this._focusTarget&&(this._focusTarget=null),this.get(h).contains(t)?(s=this._isDescendant(t),!n&&s?n=!0:n&&!s&&(n=!1)):n=!1,r&&(i&&(!i.compareTo(t)||!n)&&this._removeFocusClass(),s&&n&&(r.fn?(t=r.fn(t),t.addClass(r.className)):t.addClass(r),this._focusedNode=t)),this._set(o,n)},_focusNext:function(e,t){var r=t||this.get(n),i;this._isDescendant(e.target)&&r<=this._lastNodeIndex&&(r+=1,r===this._lastNodeIndex+1&&this.get(a)&&(r=0),i=this._descendants.item(r),i&&(i.get("disabled")?this._focusNext(e,r):this.focus(r))),this._preventScroll(e)},_focusPrevious:function(e,t){var r=t||this.get(n),i;this._isDescendant(e.target)&&r>=0&&(r-=1,r===-1&&this.get(a)&&(r=this._lastNodeIndex),i=this._descendants.item(r),i&&(i.get("disabled")?this._focusPrevious(e,r):this.focus(r))),this._preventScroll(e)},_afterActiveDescendantChange:function(e){var t=this._descendants.item(e.prevVal);t&&t.set(s,-1),t=this._descendants.item(e.newVal),t&&t.set(s,0)},initializer:function(e){this.start()},destructor:function(){this.stop(),this.get(h).focusManager=null},focus:function(e){v.isUndefined(e)&&(e=this.get(n)),this.set(n,e,{src:f});var t=this._descendants.item(this.get(n));t&&(t.focus(),m.opera&&t.get("nodeName").toLowerCase()==="button"&&(this._focusTarget=t))},blur:function(){var e;this.get(o)&&(e=this._descendants.item(this.get(n)),e&&(e.blur(),this._removeFocusClass()),this._set(o,!1,{src:f}))},start:function(){this._stopped&&(this._initDescendants(),this._attachEventHandlers(),this._stopped=!1)},stop:function(){this._stopped||(this._detachEventHandlers(),this._descendants=null,this._focusedNode=null,this._lastNodeIndex=0,this._stopped=!0)},refresh:function(){this._initDescendants(),this._eventHandlers||this._attachEventHandlers()}}),g.NAME="nodeFocusManager",g.NS="focusManager",e.namespace("Plugin"),e.Plugin.NodeFocusManager=g},"3.18.1",{requires:["attribute","node","plugin","node-event-simulate","event-key","event-focus"]});
YUI.add("node-pluginhost",function(e,t){e.Node.plug=function(){var t=e.Array(arguments);return t.unshift(e.Node),e.Plugin.Host.plug.apply(e.Base,t),e.Node},e.Node.unplug=function(){var t=e.Array(arguments);return t.unshift(e.Node),e.Plugin.Host.unplug.apply(e.Base,t),e.Node},e.mix(e.Node,e.Plugin.Host,!1,null,1),e.Object.each(e.Node._instances,function(t){e.Plugin.Host.apply(t)}),e.NodeList.prototype.plug=function(){var t=arguments;return e.NodeList.each(this,function(n){e.Node.prototype.plug.apply(e.one(n),t)}),this},e.NodeList.prototype.unplug=function(){var t=arguments;return e.NodeList.each(this,function(n){e.Node.prototype.unplug.apply(e.one(n),t)}),this}},"3.18.1",{requires:["node-base","pluginhost"]});
YUI.add("node-screen",function(e,t){e.each(["winWidth","winHeight","docWidth","docHeight","docScrollX","docScrollY"],function(t){e.Node.ATTRS[t]={getter:function(){var n=Array.prototype.slice.call(arguments);return n.unshift(e.Node.getDOMNode(this)),e.DOM[t].apply(this,n)}}}),e.Node.ATTRS.scrollLeft={getter:function(){var t=e.Node.getDOMNode(this);return"scrollLeft"in t?t.scrollLeft:e.DOM.docScrollX(t)},setter:function(t){var n=e.Node.getDOMNode(this);n&&("scrollLeft"in n?n.scrollLeft=t:(n.document||n.nodeType===9)&&e.DOM._getWin(n).scrollTo(t,e.DOM.docScrollY(n)))}},e.Node.ATTRS.scrollTop={getter:function(){var t=e.Node.getDOMNode(this);return"scrollTop"in t?t.scrollTop:e.DOM.docScrollY(t)},setter:function(t){var n=e.Node.getDOMNode(this);n&&("scrollTop"in n?n.scrollTop=t:(n.document||n.nodeType===9)&&e.DOM._getWin(n).scrollTo(e.DOM.docScrollX(n),t))}},e.Node.importMethod(e.DOM,["getXY","setXY","getX","setX","getY","setY","swapXY"]),e.Node.ATTRS.region={getter:function(){var t=this.getDOMNode(),n;return t&&!t.tagName&&t.nodeType===9&&(t=t.documentElement),e.DOM.isWindow(t)?n=e.DOM.viewportRegion(t):n=e.DOM.region(t),n}},e.Node.ATTRS.viewportRegion={getter:function(){return e.DOM.viewportRegion(e.Node.getDOMNode(this))}},e.Node.importMethod(e.DOM,"inViewportRegion"),e.Node.prototype.intersect=function(t,n){var r=e.Node.getDOMNode(this);return e.instanceOf(t,e.Node)&&(t=e.Node.getDOMNode(t)),e.DOM.intersect(r,t,n)},e.Node.prototype.inRegion=function(t,n,r){var i=e.Node.getDOMNode(this);return e.instanceOf(t,e.Node)&&(t=e.Node.getDOMNode(t)),e.DOM.inRegion(i,t,n,r)}},"3.18.1",{requires:["dom-screen","node-base"]});
YUI.add("node-scroll-info",function(e,t){var n=e.config.doc,r=e.config.win,i="scroll",s="scrollDown",o="scrollLeft",u="scrollRight",a="scrollUp",f="scrollToBottom",l="scrollToLeft",c="scrollToRight",h="scrollToTop";e.Plugin.ScrollInfo=e.Base.create("scrollInfoPlugin",e.Plugin.Base,[],{initializer:function(e){this._host=e.host,this._hostIsBody=this._host.get("nodeName").toLowerCase()==="body",this._scrollDelay=this.get("scrollDelay"),this._scrollMargin=this.get("scrollMargin"),this._scrollNode=this._getScrollNode(),this.refreshDimensions(),this._lastScroll=this.getScrollInfo(),this._bind()},destructor:function(){(new e.EventHandle(this._events)).detach(),this._events=null},getOffscreenNodes:function(t,n){typeof n=="undefined"&&(n=this._scrollMargin);var r=e.Selector.query(t||"*",this._host._node);return new e.NodeList(e.Array.filter(r,function(e){return!this._isElementOnscreen(e,n)},this))},getOnscreenNodes:function(t,n){typeof n=="undefined"&&(n=this._scrollMargin);var r=e.Selector.query(t||"*",this._host._node);return new e.NodeList(e.Array.filter(r,function(e){return this._isElementOnscreen(e,n)},this))},getScrollInfo:function(){var e=this._scrollNode,t=this._lastScroll,n=this._scrollMargin,r=e.scrollLeft,i=e.scrollHeight,s=e.scrollTop,o=e.scrollWidth,u=s+this._height,a=r+this._width;return{atBottom:u>i-n,atLeft:r<n,atRight:a>o-n,atTop:s<n,isScrollDown:t&&s>t.scrollTop,isScrollLeft:t&&r<t.scrollLeft,isScrollRight:t&&r>t.scrollLeft,isScrollUp:t&&s<t.scrollTop,scrollBottom:u,scrollHeight:i,scrollLeft:r,scrollRight:a,scrollTop:s,scrollWidth:o}},isNodeOnscreen:function(t,n){return t=e.one(t),!!t&&!!this._isElementOnscreen(t._node,n)},refreshDimensions:function(){var t=n.documentElement;e.UA.ios||e.UA.android&&e.UA.chrome?(this._winHeight=r.innerHeight,this._winWidth=r.innerWidth):(this._winHeight=t.clientHeight,this._winWidth=t.clientWidth),this._hostIsBody?(this._height=this._winHeight,this._width=this._winWidth):(this._height=this._scrollNode.clientHeight,this._width=this._scrollNode.clientWidth),this._refreshHostBoundingRect()},_bind:function(){var t=e.one("win");this._events=[this.after({scrollDelayChange:this._afterScrollDelayChange,scrollMarginChange:this._afterScrollMarginChange}),t.on("windowresize",this._afterResize,this)],this._hostIsBody?this._events.push(t.after("scroll",this._afterHostScroll,this)):this._events.push(t.after("scroll",this._afterWindowScroll,this),this._host.after("scroll",this._afterHostScroll,this))},_getScrollNode:function(){return this._hostIsBody&&!e.UA.webkit?n.documentElement:e.Node.getDOMNode(this._host)},_isElementOnscreen:function(e,t){var n=this._hostRect,r=e.getBoundingClientRect();return typeof t=="undefined"&&(t=this._scrollMargin),!(r.top>n.bottom+t||r.bottom<n.top-t||r.right<n.left-t||r.left>n.right+t)},_refreshHostBoundingRect:function(){var e=this._winHeight,t=this._winWidth,n;this._hostIsBody?(n={bottom:e,height:e,left:0,right:t,top:0,width:t},this._isHostOnscreen=!0):n=this._scrollNode.getBoundingClientRect(),this._hostRect=n},_triggerScroll:function(t){var n=this.getScrollInfo(),r=e.merge(t,n),p=this._lastScroll;this._lastScroll=n,this.fire(i,r),n.isScrollLeft?this.fire(o,r):n.isScrollRight&&this.fire(u,r),n.isScrollUp?this.fire(a,r):n.isScrollDown&&this.fire(s,r),n.atBottom&&(!p.atBottom||n.scrollHeight>p.scrollHeight)&&this.fire(f,r),n.atLeft&&!p.atLeft&&this.fire(l,r),n.atRight&&(!p.atRight||n.scrollWidth>p.scrollWidth)&&this.fire(c,r),n.atTop&&!p.atTop&&this.fire(h,r)},_afterHostScroll:function(e){var t=this;clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout(function(){t._triggerScroll(e)},this._scrollDelay)},_afterResize:function(){this.refreshDimensions()},_afterScrollDelayChange:function(e){this._scrollDelay=e.newVal},_afterScrollMarginChange:function(e){this._scrollMargin=e.newVal},_afterWindowScroll:function(){this._refreshHostBoundingRect()}},{NS:"scrollInfo",ATTRS:{scrollDelay:{value:50},scrollMargin:{value:50}}})},"3.18.1",{requires:["array-extras","base-build","event-resize","node-pluginhost","plugin","selector"]});
YUI.add("node-style",function(e,t){(function(e){e.mix(e.Node.prototype,{setStyle:function(t,n){return e.DOM.setStyle(this._node,t,n),this},setStyles:function(t){return e.DOM.setStyles(this._node,t),this},getStyle:function(t){return e.DOM.getStyle(this._node,t)},getComputedStyle:function(t){return e.DOM.getComputedStyle(this._node,t)}}),e.NodeList.importMethod(e.Node.prototype,["getStyle","getComputedStyle","setStyle","setStyles"])})(e);var n=e.Node;e.mix(n.prototype,{show:function(e){return e=arguments[arguments.length-1],this.toggleView(!0,e),this},_show:function(){this.removeAttribute("hidden"),this.setStyle("display","")},_isHidden:function(){return this.hasAttribute("hidden")||e.DOM.getComputedStyle(this._node,"display")==="none"},toggleView:function(e,t){return this._toggleView.apply(this,arguments),this},_toggleView:function(e,t){return t=arguments[arguments.length-1],typeof e!="boolean"&&(e=this._isHidden()?1:0),e?this._show():this._hide(),typeof t=="function"&&t.call(this),this},hide:function(e){return e=arguments[arguments.length-1],this.toggleView(!1,e),this},_hide:function(){this.setAttribute("hidden","hidden"),this.setStyle("display","none")}}),e.NodeList.importMethod(e.Node.prototype,["show","hide","toggleView"])},"3.18.1",{requires:["dom-style","node-base"]});
YUI.add("oop",function(e,t){function a(t,n,i,s,o){if(t&&t[o]&&t!==e)return t[o].call(t,n,i);switch(r.test(t)){case 1:return r[o](t,n,i);case 2:return r[o](e.Array(t,0,!0),n,i);default:return e.Object[o](t,n,i,s)}}var n=e.Lang,r=e.Array,i=Object.prototype,s="_~yuim~_",o=i.hasOwnProperty,u=i.toString;e.augment=function(t,n,r,i,s){var a=t.prototype,f=a&&n,l=n.prototype,c=a||t,h,p,d,v,m;return s=s?e.Array(s):[],f&&(p={},d={},v={},h=function(e,t){if(r||!(t in a))u.call(e)==="[object Function]"?(v[t]=e,p[t]=d[t]=function(){return m(this,e,arguments)}):p[t]=e},m=function(e,t,r){for(var i in v)o.call(v,i)&&e[i]===d[i]&&(e[i]=v[i]);return n.apply(e,s),t.apply(e,r)},i?e.Array.each(i,function(e){e in l&&h(l[e],e)}):e.Object.each(l,h,null,!0)),e.mix(c,p||l,r,i),f||n.apply(c,s),t},e.aggregate=function(t,n,r,i){return e.mix(t,n,r,i,0,!0)},e.extend=function(t,n,r,s){(!n||!t)&&e.error("extend failed, verify dependencies");var o=n.prototype,u=e.Object(o);return t.prototype=u,u.constructor=t,t.superclass=o,n!=Object&&o.constructor==i.constructor&&(o.constructor=n),r&&e.mix(u,r,!0),s&&e.mix(t,s,!0),t},e.each=function(e,t,n,r){return a(e,t,n,r,"each")},e.some=function(e,t,n,r){return a(e,t,n,r,"some")},e.clone=function(t,r,i,o,u,a){var f,l,c;if(!n.isObject(t)||e.instanceOf(t,YUI)||t.addEventListener||t.attachEvent)return t;l=a||{};switch(n.type(t)){case"date":return new Date(t);case"regexp":return t;case"function":return t;case"array":f=[];break;default:if(t[s])return l[t[s]];c=e.guid(),f=r?{}:e.Object(t),t[s]=c,l[c]=t}return e.each(t,function(n,a){(a||a===0)&&(!i||i.call(o||this,n,a,this,t)!==!1)&&a!==s&&a!="prototype"&&(this[a]=e.clone(n,r,i,o,u||t,l))},f),a||(e.Object.each(l,function(e,t){if(e[s])try{delete e[s]}catch(n){e[s]=null}},this),l=null),f},e.bind=function(t,r){var i=arguments.length>2?e.Array(arguments,2,!0):null;return function(){var s=n.isString(t)?r[t]:t,o=i?i.concat(e.Array(arguments,0,!0)):arguments;return s.apply(r||s,o)}},e.rbind=function(t,r){var i=arguments.length>2?e.Array(arguments,2,!0):null;return function(){var s=n.isString(t)?r[t]:t,o=i?e.Array(arguments,0,!0).concat(i):arguments;return s.apply(r||s,o)}}},"3.18.1",{requires:["yui-base"]});
YUI.add("parallel",function(e,t){e.Parallel=function(t){this.config=t||{},this.results=[],this.context=this.config.context||e,this.total=0,this.finished=0},e.Parallel.prototype={results:null,total:null,finished:null,add:function(t){var n=this,r=n.total;return n.total+=1,function(){n.finished++,n.results[r]=t&&t.apply(n.context,arguments)||(arguments.length===1?arguments[0]:e.Array(arguments)),n.test()}},test:function(){var e=this;e.finished>=e.total&&e.callback&&e.callback.call(e.context,e.results,e.data)},done:function(e,t){this.callback=e,this.data=t,this.test()}}},"3.18.1",{requires:["yui-base"]});
YUI.add("plugin",function(e,t){function n(t){!this.hasImpl||!this.hasImpl(e.Plugin.Base)?n.superclass.constructor.apply(this,arguments):n.prototype.initializer.apply(this,arguments)}n.ATTRS={host:{writeOnce:!0}},n.NAME="plugin",n.NS="plugin",e.extend(n,e.Base,{_handles:null,initializer:function(e){this._handles=[]},destructor:function(){if(this._handles)for(var e=0,t=this._handles.length;e<t;e++)this._handles[e].detach()},doBefore:function(e,t,n){var r=this.get("host"),i;return e in r?i=this.beforeHostMethod(e,t,n):r.on&&(i=this.onHostEvent(e,t,n)),i},doAfter:function(e,t,n){var r=this.get("host"),i;return e in r?i=this.afterHostMethod(e,t,n):r.after&&(i=this.afterHostEvent(e,t,n)),i},onHostEvent:function(e,t,n){var r=this.get("host").on(e,t,n||this);return this._handles.push(r),r},onceHostEvent:function(e,t,n){var r=this.get("host").once(e,t,n||this);return this._handles.push(r),r},afterHostEvent:function(e,t,n){var r=this.get("host").after(e,t,n||this);return this._handles.push(r),r},onceAfterHostEvent:function(e,t,n){var r=this.get("host").onceAfter(e,t,n||this);return this._handles.push(r),r},beforeHostMethod:function(t,n,r){var i=e.Do.before(n,this.get("host"),t,r||this);return this._handles.push(i),i},afterHostMethod:function(t,n,r){var i=e.Do.after(n,this.get("host"),t,r||this);return this._handles.push(i),i},toString:function(){return this.constructor.NAME+"["+this.constructor.NS+"]"}}),e.namespace("Plugin").Base=n},"3.18.1",{requires:["base-base"]});
YUI.add("pluginhost-base",function(e,t){function r(){this._plugins={}}var n=e.Lang;r.prototype={plug:function(e,t){var r,i,s;if(n.isArray(e))for(r=0,i=e.length;r<i;r++)this.plug(e[r]);else e&&!n.isFunction(e)&&(t=e.cfg,e=e.fn),e&&e.NS&&(s=e.NS,t=t||{},t.host=this,this.hasPlugin(s)?this[s].setAttrs&&this[s].setAttrs(t):(this[s]=new e(t),this._plugins[s]=e));return this},unplug:function(e){var t=e,r=this._plugins;if(e)n.isFunction(e)&&(t=e.NS,t&&(!r[t]||r[t]!==e)&&(t=null)),t&&(this[t]&&(this[t].destroy&&this[t].destroy(),delete this[t]),r[t]&&delete r[t]);else for(t in this._plugins)this._plugins.hasOwnProperty(t)&&this.unplug(t);return this},hasPlugin:function(e){return this._plugins[e]&&this[e]},_initPlugins:function(e){this._plugins=this._plugins||{},this._initConfigPlugins&&this._initConfigPlugins(e)},_destroyPlugins:function(){this.unplug()}},e.namespace("Plugin").Host=r},"3.18.1",{requires:["yui-base"]});
YUI.add("pluginhost-config",function(e,t){var n=e.Plugin.Host,r=e.Lang;n.prototype._initConfigPlugins=function(t){var n=this._getClasses?this._getClasses():[this.constructor],r=[],i={},s,o,u,a,f;for(o=n.length-1;o>=0;o--)s=n[o],a=s._UNPLUG,a&&e.mix(i,a,!0),u=s._PLUG,u&&e.mix(r,u,!0);for(f in r)r.hasOwnProperty(f)&&(i[f]||this.plug(r[f]));t&&t.plugins&&this.plug(t.plugins)},n.plug=function(t,n,i){var s,o,u,a;if(t!==e.Base){t._PLUG=t._PLUG||{},r.isArray(n)||(i&&(n={fn:n,cfg:i}),n=[n]);for(o=0,u=n.length;o<u;o++)s=n[o],a=s.NAME||s.fn.NAME,t._PLUG[a]=s}},n.unplug=function(t,n){var i,s,o,u;if(t!==e.Base){t._UNPLUG=t._UNPLUG||{},r.isArray(n)||(n=[n]);for(s=0,o=n.length;s<o;s++)i=n[s],u=i.NAME,t._PLUG[u]?delete t._PLUG[u]:t._UNPLUG[u]=i}}},"3.18.1",{requires:["pluginhost-base"]});
YUI.add("promise",function(e,t){function i(e){if(!(this instanceof i))return new i(e);var t=new i.Resolver(this);this._resolver=t;try{e.call(this,function(e){t.resolve(e)},function(e){t.reject(e)})}catch(n){t.reject(n)}}function s(e){this._callbacks=[],this._errbacks=[],this.promise=e,this._status="pending",this._result=null}var n=e.Lang,r=[].slice;e.mix(i.prototype,{then:function(e,t){var n=this.constructor,r=this._resolver;return new n(function(n,s){r._addCallbacks(typeof e=="function"?i._wrap(n,s,e):n,typeof t=="function"?i._wrap(n,s,t):s)})},"catch":function(e){return this.then(undefined,e)},getStatus:function(){return this._resolver.getStatus()}}),i._wrap=function(e,t,n){return function(r){var i;try{i=n(r)}catch(s){t(s);return}e(i)}},i.isPromise=function(e){var t;try{t=e.then}catch(n){}return typeof t=="function"},i.resolve=function(e){return i.isPromise(e)&&e.constructor===this?e:new this(function(t){t(e)})},i.reject=function(e){return new this(function(t,n){n(e)})},i.all=function(e){var t=this;return new t(function(r,i){function f(e){return function(t){a[e]=t,s--,s||r(a)}}if(!n.isArray(e)){i(new TypeError("Promise.all expects an array of values or promises"));return}var s=e.length,o=0,u=e.length,a=[];if(u<1)return r(a);for(;o<u;o++)t.resolve(e[o]).then(f(o),i)})},i.race=function(e){var t=this;return new t(function(r,i){if(!n.isArray(e)){i(new TypeError("Promise.race expects an array of values or promises"));return}for(var s=0,o=e.length;s<o;s++)t.resolve(e[s]).then(r,i)})},e.Promise=i,e.mix(s.prototype,{fulfill:function(e){this._status==="pending"&&(this._result=e,this._status="fulfilled"),this._status==="fulfilled"&&(this._notify(this._callbacks,this._result),this._callbacks=[],this._errbacks=null)},reject:function(e){this._status==="pending"&&(this._result=e,this._status="rejected"),this._status==="rejected"&&(this._notify(this._errbacks,this._result),this._callbacks=null,this._errbacks=[])},resolve:function(e){var t=this;i.isPromise(e)?e.then(function(e){t.resolve(e)},function(e){t.reject(e)}):this.fulfill(e)},then:function(e,t){return this.promise.then(e,t)},_addCallbacks:function(e,t){var n=this._callbacks,r=this._errbacks,i=this._status,s=this._result;n&&typeof e=="function"&&n.push(e),r&&typeof t=="function"&&r.push(t),i==="fulfilled"?this.fulfill(s):i==="rejected"&&this.reject(s)},getStatus:function(){return this._status},_notify:function(t,n){t.length&&e.soon(function(){var e,r;for(e=0,r=t.length;e<r;++e)t[e](n)})}},!0),e.Promise.Resolver=s,e.when=function(e,t,n){return e=i.resolve(e),t||n?e.then(t,n):e},e.batch=function(){return i.all(r.call(arguments))}},"3.18.1",{requires:["timers"]});
YUI.add("querystring-parse-simple",function(e,t){var n=e.namespace("QueryString");n.parse=function(e,t,r){t=t||"&",r=r||"=";for(var i={},s=0,o=e.split(t),u=o.length,a;s<u;s++)a=o[s].split(r),a.length>0&&(i[n.unescape(a.shift())]=n.unescape(a.join(r)));return i},n.unescape=function(e){return decodeURIComponent(e.replace(/\+/g," "))}},"3.18.1",{requires:["yui-base"]});
YUI.add("querystring-stringify-simple",function(e,t){var n=e.namespace("QueryString"),r=encodeURIComponent;n.stringify=function(t,n){var i=[],s=n&&n.arrayKey?!0:!1,o,u,a;for(o in t)if(t.hasOwnProperty(o))if(e.Lang.isArray(t[o]))for(u=0,a=t[o].length;u<a;u++)i.push(r(s?o+"[]":o)+"="+r(t[o][u]));else i.push(r(o)+"="+r(t[o]));return i.join("&")}},"3.18.1",{requires:["yui-base"]});
YUI.add("querystring-stringify",function(e,t){var n=e.namespace("QueryString"),r=[],i=e.Lang;n.escape=encodeURIComponent,n.stringify=function(e,t,s){var o,u,a,f,l,c,h=t&&t.sep?t.sep:"&",p=t&&t.eq?t.eq:"=",d=t&&t.arrayKey?t.arrayKey:!1;if(i.isNull(e)||i.isUndefined(e)||i.isFunction(e))return s?n.escape(s)+p:"";if(i.isBoolean(e)||Object.prototype.toString.call(e)==="[object Boolean]")e=+e;if(i.isNumber(e)||i.isString(e))return n.escape(s)+p+n.escape(e);if(i.isArray(e)){c=[],s=d?s+"[]":s,f=e.length;for(a=0;a<f;a++)c.push(n.stringify(e[a],t,s));return c.join(h)}for(a=r.length-1;a>=0;--a)if(r[a]===e)throw new Error("QueryString.stringify. Cyclical reference");r.push(e),c=[],o=s?s+"[":"",u=s?"]":"";for(a in e)e.hasOwnProperty(a)&&(l=o+a+u,c.push(n.stringify(e[a],t,l)));return r.pop(),c=c.join(h),!c&&s?s+"=":c}},"3.18.1",{requires:["yui-base"]});
YUI.add("queue-promote",function(e,t){e.mix(e.Queue.prototype,{indexOf:function(t){return e.Array.indexOf(this._q,t)},promote:function(e){var t=this.indexOf(e);t>-1&&this._q.unshift(this._q.splice(t,1)[0])},remove:function(e){var t=this.indexOf(e);t>-1&&this._q.splice(t,1)}})},"3.18.1",{requires:["yui-base"]});
YUI.add("selector-css2",function(e,t){var n="parentNode",r="tagName",i="attributes",s="combinator",o="pseudos",u=e.Selector,a={_reRegExpTokens:/([\^\$\?\[\]\*\+\-\.\(\)\|\\])/,SORT_RESULTS:!0,_isXML:function(){var t=e.config.doc.createElement("div").tagName!=="DIV";return t}(),shorthand:{"\\#(-?[_a-z0-9]+[-\\w\\uE000]*)":"[id=$1]","\\.(-?[_a-z]+[-\\w\\uE000]*)":"[className~=$1]"},operators:{"":function(t,n){return e.DOM.getAttribute(t,n)!==""},"~=":"(?:^|\\s+){val}(?:\\s+|$)","|=":"^{val}-?"},pseudos:{"first-child":function(t){return e.DOM._children(t[n])[0]===t}},_bruteQuery:function(t,n,r){var i=[],s=[],o,a=u._tokenize(t),f=a[a.length-1],l=e.DOM._getDoc(n),c,h,p,d,v;if(f){h=f.id,p=f.className,d=f.tagName||"*";if(n.getElementsByTagName)h&&(n.all||n.nodeType===9||e.DOM.inDoc(n))?s=e.DOM.allById(h,n):p?s=n.getElementsByClassName(p):s=n.getElementsByTagName(d);else{o=[],c=n.firstChild,v=d==="*";while(c){while(c)c.tagName>"@"&&(v||c.tagName===d)&&s.push(c),o.push(c),c=c.firstChild;while(o.length>0&&!c)c=o.pop().nextSibling}}s.length&&(i=u._filterNodes(s,a,r))}return i},_filterNodes:function(t,n,r){var i=0,s,o=n.length,a=o-1,f=[],l=t[0],c=l,h=e.Selector.getters,p,d,v,m,g,y,b,w;for(i=0;c=l=t[i++];){a=o-1,m=null;e:while(c&&c.tagName){v=n[a],b=v.tests,s=b.length;if(s&&!g)while(w=b[--s]){p=w[1],h[w[0]]?y=h[w[0]](c,w[0]):(y=c[w[0]],w[0]==="tagName"&&!u._isXML&&(y=y.toUpperCase()),typeof y!="string"&&y!==undefined&&y.toString?y=y.toString():y===undefined&&c.getAttribute&&(y=c.getAttribute(w[0],2)));if(p==="="&&y!==w[2]||typeof p!="string"&&p.test&&!p.test(y)||!p.test&&typeof p=="function"&&!p(c,w[0],w[2])){if(c=c[m])while(c&&(!c.tagName||v.tagName&&v.tagName!==c.tagName))c=c[m];continue e}}a--;if(!!g||!(d=v.combinator)){f.push(l);if(r)return f;break}m=d.axis,c=c[m];while(c&&!c.tagName)c=c[m];d.direct&&(m=null)}}return l=c=null,f},combinators:{" ":{axis:"parentNode"},">":{axis:"parentNode",direct:!0},"+":{axis:"previousSibling",direct:!0}},_parsers:[{name:i,re:/^\uE003(-?[a-z]+[\w\-]*)+([~\|\^\$\*!=]=?)?['"]?([^\uE004'"]*)['"]?\uE004/i,fn:function(t,n){var r=t[2]||"",i=u.operators,s=t[3]?t[3].replace(/\\/g,""):"",o;if(t[1]==="id"&&r==="="||t[1]==="className"&&e.config.doc.documentElement.getElementsByClassName&&(r==="~="||r==="="))n.prefilter=t[1],t[3]=s,n[t[1]]=t[1]==="id"?t[3]:s;r in i&&(o=i[r],typeof o=="string"&&(t[3]=s.replace(u._reRegExpTokens,"\\$1"),o=new RegExp(o.replace("{val}",t[3]))),t[2]=o);if(!n.last||n.prefilter!==t[1])return t.slice(1)}},{name:r,re:/^((?:-?[_a-z]+[\w-]*)|\*)/i,fn:function(e,t){var n=e[1];u._isXML||(n=n.toUpperCase()),t.tagName=n;if(n!=="*"&&(!t.last||t.prefilter))return[r,"=",n];t.prefilter||(t.prefilter="tagName")}},{name:s,re:/^\s*([>+~]|\s)\s*/,fn:function(e,t){}},{name:o,re:/^:([\-\w]+)(?:\uE005['"]?([^\uE005]*)['"]?\uE006)*/i,fn:function(e,t){var n=u[o][e[1]];return n?(e[2]&&(e[2]=e[2].replace(/\\/g,"")),[e[2],n]):!1}}],_getToken:function(e){return{tagName:null,id:null,className:null,attributes:{},combinator:null,tests:[]}},_tokenize:function(t){t=t||"",t=u._parseSelector(e.Lang.trim(t));var n=u._getToken(),r=t,i=[],o=!1,a,f,l,c;e:do{o=!1;for(l=0;c=u._parsers[l++];)if(a=c.re.exec(t)){c.name!==s&&(n.selector=t),t=t.replace(a[0],""),t.length||(n.last=!0),u._attrFilters[a[1]]&&(a[1]=u._attrFilters[a[1]]),f=c.fn(a,n);if(f===!1){o=!1;break e}f&&n.tests.push(f);if(!t.length||c.name===s)i.push(n),n=u._getToken(n),c.name===s&&(n.combinator=e.Selector.combinators[a[1]]);o=!0}}while(o&&t.length);if(!o||t.length)i=[];return i},_replaceMarkers:function(e){return e=e.replace(/\[/g,"\ue003"),e=e.replace(/\]/g,"\ue004"),e=e.replace(/\(/g,"\ue005"),e=e.replace(/\)/g,"\ue006"),e},_replaceShorthand:function(t){var n=e.Selector.shorthand,r;for(r in n)n.hasOwnProperty(r)&&(t=t.replace(new RegExp(r,"gi"),n[r]));return t},_parseSelector:function(t){var n=e.Selector._replaceSelector(t),t=n.selector;return t=e.Selector._replaceShorthand(t),t=e.Selector._restore("attr",t,n.attrs),t=e.Selector._restore("pseudo",t,n.pseudos),t=e.Selector._replaceMarkers(t),t=e.Selector._restore("esc",t,n.esc),t},_attrFilters:{"class":"className","for":"htmlFor"},getters:{href:function(t,n){return e.DOM.getAttribute(t,n)},id:function(t,n){return e.DOM.getId(t)}}};e.mix(e.Selector,a,!0),e.Selector.getters.src=e.Selector.getters.rel=e.Selector.getters.href,e.Selector.useNative&&e.config.doc.querySelector&&(e.Selector.shorthand["\\.(-?[_a-z]+[-\\w]*)"]="[class~=$1]")},"3.18.1",{requires:["selector-native"]});
YUI.add("selector-css3",function(e,t){e.Selector._reNth=/^(?:([\-]?\d*)(n){1}|(odd|even)$)*([\-+]?\d*)$/,e.Selector._getNth=function(t,n,r,i){e.Selector._reNth.test(n);var s=parseInt(RegExp.$1,10),o=RegExp.$2,u=RegExp.$3,a=parseInt(RegExp.$4,10)||0,f=[],l=e.DOM._children(t.parentNode,r),c;u?(s=2,c="+",o="n",a=u==="odd"?1:0):isNaN(s)&&(s=o?1:0);if(s===0)return i&&(a=l.length-a+1),l[a-1]===t?!0:!1;s<0&&(i=!!i,s=Math.abs(s));if(!i){for(var h=a-1,p=l.length;h<p;h+=s)if(h>=0&&l[h]===t)return!0}else for(var h=l.length-a,p=l.length;h>=0;h-=s)if(h<p&&l[h]===t)return!0;return!1},e.mix(e.Selector.pseudos,{root:function(e){return e===e.ownerDocument.documentElement},"nth-child":function(t,n){return e.Selector._getNth(t,n)},"nth-last-child":function(t,n){return e.Selector._getNth(t,n,null,!0)},"nth-of-type":function(t,n){return e.Selector._getNth(t,n,t.tagName)},"nth-last-of-type":function(t,n){return e.Selector._getNth(t,n,t.tagName,!0)},"last-child":function(t){var n=e.DOM._children(t.parentNode);return n[n.length-1]===t},"first-of-type":function(t){return e.DOM._children(t.parentNode,t.tagName)[0]===t},"last-of-type":function(t){var n=e.DOM._children(t.parentNode,t.tagName);return n[n.length-1]===t},"only-child":function(t){var n=e.DOM._children(t.parentNode);return n.length===1&&n[0]===t},"only-of-type":function(t){var n=e.DOM._children(t.parentNode,t.tagName);return n.length===1&&n[0]===t},empty:function(e){return e.childNodes.length===0},not:function(t,n){return!e.Selector.test(t,n)},contains:function(e,t){var n=e.innerText||e.textContent||"";return n.indexOf(t)>-1},checked:function(e){return e.checked===!0||e.selected===!0},enabled:function(e){return e.disabled!==undefined&&!e.disabled},disabled:function(e){return e.disabled}}),e.mix(e.Selector.operators,{"^=":"^{val}","$=":"{val}$","*=":"{val}"}),e.Selector.combinators["~"]={axis:"previousSibling"}},"3.18.1",{requires:["selector-native","selector-css2"]});
YUI.add("selector-native",function(e,t){(function(e){e.namespace("Selector");var t="compareDocumentPosition",n="ownerDocument",r={_types:{esc:{token:"\ue000",re:/\\[:\[\]\(\)#\.\'\>+~"]/gi},attr:{token:"\ue001",re:/(\[[^\]]*\])/g},pseudo:{token:"\ue002",re:/(\([^\)]*\))/g}},useNative:!0,_escapeId:function(e){return e&&(e=e.replace(/([:\[\]\(\)#\.'<>+~"])/g,"\\$1")),e},_compare:"sourceIndex"in e.config.doc.documentElement?function(e,t){var n=e.sourceIndex,r=t.sourceIndex;return n===r?0:n>r?1:-1}:e.config.doc.documentElement[t]?function(e,n){return e[t](n)&4?-1:1}:function(e,t){var r,i,s;return e&&t&&(r=e[n].createRange(),r.setStart(e,0),i=t[n].createRange(),i.setStart(t,0),s=r.compareBoundaryPoints(1,i)),s},_sort:function(t){return t&&(t=e.Array(t,0,!0),t.sort&&t.sort(r._compare)),t},_deDupe:function(e){var t=[],n,r;for(n=0;r=e[n++];)r._found||(t[t.length]=r,r._found=!0);for(n=0;r=t[n++];)r._found=null,r.removeAttribute("_found");return t},query:function(t,n,i,s){n=n||e.config.doc;var o=[],u=e.Selector.useNative&&e.config.doc.querySelector&&!s,a=[[t,n]],f,l,c,h=u?e.Selector._nativeQuery:e.Selector._bruteQuery;if(t&&h){!s&&(!u||n.tagName)&&(a=r._splitQueries(t,n));for(c=0;f=a[c++];)l=h(f[0],f[1],i),i||(l=e.Array(l,0,!0)),l&&(o=o.concat(l));a.length>1&&(o=r._sort(r._deDupe(o)))}return i?o[0]||null:o},_replaceSelector:function(t){var n=e.Selector._parse("esc",t),i,s;return t=e.Selector._replace("esc",t),s=e.Selector._parse("pseudo",t),t=r._replace("pseudo",t),i=e.Selector._parse("attr",t),t=e.Selector._replace("attr",t),{esc:n,attrs:i,pseudos:s,selector:t}},_restoreSelector:function(t){var n=t.selector;return n=e.Selector._restore("attr",n,t.attrs),n=e.Selector._restore("pseudo",n,t.pseudos),n=e.Selector._restore("esc",n,t.esc),n},_replaceCommas:function(t){var n=e.Selector._replaceSelector(t),t=n.selector;return t&&(t=t.replace(/,/g,"\ue007"),n.selector=t,t=e.Selector._restoreSelector(n)),t},_splitQueries:function(t,n){t.indexOf(",")>-1&&(t=e.Selector._replaceCommas(t));var r=t.split("\ue007"),i=[],s="",o,u,a;if(n){n.nodeType===1&&(o=e.Selector._escapeId(e.DOM.getId(n)),o||(o=e.guid(),e.DOM.setId(n,o)),s='[id="'+o+'"] ');for(u=0,a=r.length;u<a;++u)t=s+r[u],i.push([t,n])}return i},_nativeQuery:function(t,n,r){if((e.UA.webkit||e.UA.opera)&&t.indexOf(":checked")>-1&&e.Selector.pseudos&&e.Selector.pseudos.checked)return e.Selector.query(t,n,r,!0);try{return n["querySelector"+(r?"":"All")](t)}catch(i){return e.Selector.query(t,n,r,!0)}},filter:function(t,n){var r=[],i,s;if(t&&n)for(i=0;s=t[i++];)e.Selector.test(s,n)&&(r[r.length]=s);return r},test:function(t,r,i){var s=!1,o=!1,u,a,f,l,c,h,p,d,v;if(t&&t.tagName)if(typeof r=="function")s=r.call(t,t);else{u=r.split(","),!i&&!e.DOM.inDoc(t)&&(a=t.parentNode,a?i=a:(c=t[n].createDocumentFragment(),c.appendChild(t),i=c,o=!0)),i=i||t[n],h=e.Selector._escapeId(e.DOM.getId(t)),h||(h=e.guid(),e.DOM.setId(t,h));for(p=0;v=u[p++];){v+='[id="'+h+'"]',l=e.Selector.query(v,i);for(d=0;f=l[d++];)if(f===t){s=!0;break}if(s)break}o&&c.removeChild(t)}return s},ancestor:function(t,n,r){return e.DOM.ancestor(t,function(t){return e.Selector.test(t,n)},r)},_parse:function(t,n){return n.match(e.Selector._types[t].re)},_replace:function(t,n){var r=e.Selector._types[t];return n.replace(r.re,r.token)},_restore:function(t,n,r){if(r){var i=e.Selector._types[t].token,s,o;for(s=0,o=r.length;s<o;++s)n=n.replace(i,r[s])}return n}};e.mix(e.Selector,r,!0)})(e)},"3.18.1",{requires:["dom-base"]});
YUI.add("selector",function(e,t){},"3.18.1",{requires:["selector-native"]});
YUI.add("shim-plugin",function(e,t){function n(e){this.init(e)}n.CLASS_NAME="yui-node-shim",n.TEMPLATE='<iframe class="'+n.CLASS_NAME+'" frameborder="0" title="Node Stacking Shim"'+'src="javascript:false" tabindex="-1" role="presentation"'+'style="position:absolute; z-index:-1;"></iframe>',n.prototype={init:function(e){this._host=e.host,this.initEvents(),this.insert(),this.sync()},initEvents:function(){this._resizeHandle=this._host.on("resize",this.sync,this)},getShim:function(){return this._shim||(this._shim=e.Node.create(n.TEMPLATE,this._host.get("ownerDocument")))},insert:function(){var e=this._host;this._shim=e.insertBefore(this.getShim(),e.get("firstChild"))},sync:function(){var e=this._shim,t=this._host;e&&e.setAttrs({width:t.getStyle("width"),height:t.getStyle("height")})},destroy:function(){var e=this._shim;e&&e.remove(!0),this._resizeHandle.detach()}},n.NAME="Shim",n.NS="shim",e.namespace("Plugin"),e.Plugin.Shim=n},"3.18.1",{requires:["node-style","node-pluginhost"]});
YUI.add("substitute",function(e,t){var n=e.Lang,r="dump",i=" ",s="{",o="}",u=/(~-(\d+)-~)/g,a=/\{LBRACE\}/g,f=/\{RBRACE\}/g,l=function(t,l,c,h){var p,d,v,m,g,y,b=[],w,E,S=t.length;for(;;){p=t.lastIndexOf(s,S);if(p<0)break;d=t.indexOf(o,p);if(p+1>=d)break;w=t.substring(p+1,d),m=w,y=null,v=m.indexOf(i),v>-1&&(y=m.substring(v+1),m=m.substring(0,v)),g=l[m],c&&(g=c(m,g,y)),n.isObject(g)?e.dump?n.isArray(g)?g=e.dump(g,parseInt(y,10)):(y=y||"",E=y.indexOf(r),E>-1&&(y=y.substring(4)),g.toString===Object.prototype.toString||E>-1?g=e.dump(g,parseInt(y,10)):g=g.toString()):g=g.toString():n.isUndefined(g)&&(g="~-"+b.length+"-~",b.push(w)),t=t.substring(0,p)+g+t.substring(d+1),h||(S=p-1)}return t.replace(u,function(e,t,n){return s+b[parseInt(n,10)]+o}).replace(a,s).replace(f,o)};e.substitute=l,n.substitute=l},"3.18.1",{requires:["yui-base"],optional:["dump"]});
YUI.add("template-base",function(e,t){function n(t,n){this.defaults=n,this.engine=t||e.Template.Micro,this.engine||e.error("No template engine loaded.")}n._registry={},n.register=function(e,t){return n._registry[e]=t,t},n.get=function(e){return n._registry[e]},n.render=function(t,r,i){var s=n._registry[t],o="";return s?o=s(r,i):e.error('Unregistered template: "'+t+'"'),o},n.prototype={compile:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.compile(t,n)},precompile:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.precompile(t,n)},render:function(t,n,r){return r=r?e.merge(this.defaults,r):this.defaults,this.engine.render?this.engine.render(t,n,r):this.engine.compile(t,r)(n,r)},revive:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.revive?this.engine.revive(t,n):t}},e.Template=e.Template?e.mix(n,e.Template):n},"3.18.1",{requires:["yui-base"]});
YUI.add("text-data-wordbreak",function(e,t){e.namespace("Text.Data").WordBreak={aletter:"[A-Za-z\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f3\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1a00-\u1a16\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bc0-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u24b6-\u24e9\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u303b\u303c\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790\ua791\ua7a0-\ua7a9\ua7fa-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uffa0-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]",midnumlet:"['\\.\u2018\u2019\u2024\ufe52\uff07\uff0e]",midletter:"[:\u00b7\u00b7\u05f4\u2027\ufe13\ufe55\uff1a]",midnum:"[,;;\u0589\u060c\u060d\u066c\u07f8\u2044\ufe10\ufe14\ufe50\ufe54\uff0c\uff1b]",numeric:"[0-9\u0660-\u0669\u066b\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\uaa50-\uaa59\uabf0-\uabf9]",cr:"\\r",lf:"\\n",newline:"[\f\u0085\u2028\u2029]",extend:"[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f\u109a-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b6-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u192b\u1930-\u193b\u19b0-\u19c0\u19c8\u19c9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f\u1b00-\u1b04\u1b34-\u1b44\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1baa\u1be6-\u1bf3\u1c24-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe3-\uabea\uabec\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]"
,format:"[\u00ad\u0600-\u0603\u06dd\u070f\u17b4\u17b5\u200e\u200f\u202a-\u202e\u2060-\u2064\u206a-\u206f\ufeff\ufff9-\ufffb]",katakana:"[\u3031-\u3035\u309b\u309c\u30a0-\u30fa\u30fc-\u30ff\u31f0-\u31ff\u32d0-\u32fe\u3300-\u3357\uff66-\uff9d]",extendnumlet:"[_\u203f\u2040\u2054\ufe33\ufe34\ufe4d-\ufe4f\uff3f]",punctuation:"[!-#%-*,-\\/:;?@\\[-\\]_{}\u00a1\u00ab\u00b7\u00bb\u00bf;\u00b7\u055a-\u055f\u0589\u058a\u05be\u05c0\u05c3\u05c6\u05f3\u05f4\u0609\u060a\u060c\u060d\u061b\u061e\u061f\u066a-\u066d\u06d4\u0700-\u070d\u07f7-\u07f9\u0830-\u083e\u085e\u0964\u0965\u0970\u0df4\u0e4f\u0e5a\u0e5b\u0f04-\u0f12\u0f3a-\u0f3d\u0f85\u0fd0-\u0fd4\u0fd9\u0fda\u104a-\u104f\u10fb\u1361-\u1368\u1400\u166d\u166e\u169b\u169c\u16eb-\u16ed\u1735\u1736\u17d4-\u17d6\u17d8-\u17da\u1800-\u180a\u1944\u1945\u1a1e\u1a1f\u1aa0-\u1aa6\u1aa8-\u1aad\u1b5a-\u1b60\u1bfc-\u1bff\u1c3b-\u1c3f\u1c7e\u1c7f\u1cd3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205e\u207d\u207e\u208d\u208e\u3008\u3009\u2768-\u2775\u27c5\u27c6\u27e6-\u27ef\u2983-\u2998\u29d8-\u29db\u29fc\u29fd\u2cf9-\u2cfc\u2cfe\u2cff\u2d70\u2e00-\u2e2e\u2e30\u2e31\u3001-\u3003\u3008-\u3011\u3014-\u301f\u3030\u303d\u30a0\u30fb\ua4fe\ua4ff\ua60d-\ua60f\ua673\ua67e\ua6f2-\ua6f7\ua874-\ua877\ua8ce\ua8cf\ua8f8-\ua8fa\ua92e\ua92f\ua95f\ua9c1-\ua9cd\ua9de\ua9df\uaa5c-\uaa5f\uaade\uaadf\uabeb\ufd3e\ufd3f\ufe10-\ufe19\ufe30-\ufe52\ufe54-\ufe61\ufe63\ufe68\ufe6a\ufe6b\uff01-\uff03\uff05-\uff0a\uff0c-\uff0f\uff1a\uff1b\uff1f\uff20\uff3b-\uff3d\uff3f\uff5b\uff5d\uff5f-\uff65]"}},"3.18.1",{requires:["yui-base"]});
YUI.add("text-wordbreak",function(e,t){var n=e.Text,r=n.Data.WordBreak,i=0,s=1,o=2,u=3,a=4,f=5,l=6,c=7,h=8,p=9,d=10,v=11,m=12,g=[new RegExp(r.aletter),new RegExp(r.midnumlet),new RegExp(r.midletter),new RegExp(r.midnum),new RegExp(r.numeric),new RegExp(r.cr),new RegExp(r.lf),new RegExp(r.newline),new RegExp(r.extend),new RegExp(r.format),new RegExp(r.katakana),new RegExp(r.extendnumlet)],y="",b=new RegExp("^"+r.punctuation+"$"),w=/\s/,E={getWords:function(e,t){var n=0,r=E._classify(e),i=r.length,s=[],o=[],u,a,f;t||(t={}),t.ignoreCase&&(e=e.toLowerCase()),a=t.includePunctuation,f=t.includeWhitespace;for(;n<i;++n)u=e.charAt(n),s.push(u),E._isWordBoundary(r,n)&&(s=s.join(y),s&&(f||!w.test(s))&&(a||!b.test(s))&&o.push(s),s=[]);return o},getUniqueWords:function(t,n){return e.Array.unique(E.getWords(t,n))},isWordBoundary:function(e,t){return E._isWordBoundary(E._classify(e),t)},_classify:function(e){var t,n=[],r=0,i,s,o=e.length,u=g.length,a;for(;r<o;++r){t=e.charAt(r),a=m;for(i=0;i<u;++i){s=g[i];if(s&&s.test(t)){a=i;break}}n.push(a)}return n},_isWordBoundary:function(e,t){var n,r=e[t],m=e[t+1],g;return t<0||t>e.length-1&&t!==0?!1:r===i&&m===i?!1:(g=e[t+2],r!==i||m!==o&&m!==s||g!==i?(n=e[t-1],r!==o&&r!==s||m!==i||n!==i?r!==a&&r!==i||m!==a&&m!==i?r!==u&&r!==s||m!==a||n!==a?r!==a||m!==u&&m!==s||g!==a?r===h||r===p||n===h||n===p||m===h||m===p?!1:r===f&&m===l?!1:r===c||r===f||r===l?!0:m===c||m===f||m===l?!0:r===d&&m===d?!1:m!==v||r!==i&&r!==a&&r!==d&&r!==v?r!==v||m!==i&&m!==a&&m!==d?!0:!1:!1:!1:!1:!1:!1):!1)}};n.WordBreak=E},"3.18.1",{requires:["array-extras","text-data-wordbreak"]});
YUI.add("timers",function(e,t){function i(e){return s}function s(e){this.capacity=this.snap(e),this.length=0,this.front=0,this.initialize()}function o(e,t,n,r,i){for(var s=0;s<i;++s)n[s+r]=e[s+t]}function u(e){return e>>>=0,e-=1,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e+1}function v(){while(a.length>0){var e=a.shift();try{e.call()}catch(t){if(d)throw l(),t;setTimeout(function(){throw t},0)}}f=!1}function y(e){d&&p.domain&&(e=p.domain.bind(e)),a.push(e),f||(l(),f=!0)}function b(e){var t;return b._asynchronizer(function(){t||e()}),{cancel:function(){t=1}}}var n={},r=e.config.global;"use strict",n.exports=s,s.prototype.push=function(e){var t=this.length;this.capacity<=t&&this.grow(this.snap(this.capacity*this.growFactor));var n=this.front+t&this.capacity-1;this[n]=e,this.length=t+1},s.prototype.shift=function(){var e=this.front,t=this[e];return this[e]=void 0,this.front=e+1&this.capacity-1,this.length--,t},s.prototype.grow=function(e){var t=this.front,n=this.capacity,r=new Array(n),i=this.length;o(this,0,r,0,n),this.capacity=e,this.initialize(),this.front=0;if(t+i<=n)o(r,t,this,0,i);else{var s=i-(t+i&n-1);o(r,t,this,0,s),o(r,0,this,s,i-s)}},s.prototype.initialize=function(){var e=this.capacity;for(var t=0;t<e;++t)this[t]=void 0},s.prototype.snap=function(e){return typeof e!="number"?this.minCapacity:u(Math.min(this.maxCapacity,Math.max(this.minCapacity,e)))},s.prototype.maxCapacity=1<<30|0,s.prototype.minCapacity=16,s.prototype.growFactor=8,"use strict";var s=i("./queue"),a=new s(1024),f=!1,l=void 0,c=typeof setImmediate=="function",h,p=r.process,d=!!p&&{}.toString.call(p)==="[object process]";if(d)l=function(){var e=p.domain;e&&(h=h||(1,i)("domain"),h.active=p.domain=null),f&&c?setImmediate(v):p.nextTick(v),e&&(h.active=p.domain=e)};else if(c)l=function(){setImmediate(v)};else if(typeof MessageChannel!="undefined"){var m=new MessageChannel;m.port1.onmessage=function(){l=g,m.port1.onmessage=v,v()};var g=function(){m.port2.postMessage(0)};l=function(){setTimeout(v,0),g()}}else l=function(){setTimeout(v,0)};n.exports=y,b._asynchronizer=y,b._impl="asap",e.soon=b},"3.18.1",{requires:["yui-base"]});
YUI.add("transition",function(e,t){var n="",r="",i=e.config.doc,s="documentElement",o=i[s].style,u="transition",a="transitionProperty",f,l,c,h,p,d,v={},m=["Webkit","Moz"],g={Webkit:"webkitTransitionEnd"},y=function(){this.init.apply(this,arguments)};y._TRANSFORM="transform",y._toCamel=function(e){return e=e.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()}),e},y._toHyphen=function(e){return e=e.replace(/([A-Z]?)([a-z]+)([A-Z]?)/g,function(e,t,n,r){var i=(t?"-"+t.toLowerCase():"")+n;return r&&(i+="-"+r.toLowerCase()),i}),e},y.SHOW_TRANSITION="fadeIn",y.HIDE_TRANSITION="fadeOut",y.useNative=!1,"transition"in o&&"transitionProperty"in o&&"transitionDuration"in o&&"transitionTimingFunction"in o&&"transitionDelay"in o?(y.useNative=!0,y.supported=!0):e.Array.each(m,function(e){var t=e+"Transition";t in i[s].style&&(n=e,r=y._toHyphen(e)+"-",y.useNative=!0,y.supported=!0,y._VENDOR_PREFIX=e)}),typeof o.transform=="undefined"&&e.Array.each(m,function(e){var t=e+"Transform";typeof o[t]!="undefined"&&(y._TRANSFORM=t)}),n&&(u=n+"Transition",a=n+"TransitionProperty"),f=r+"transition-property",l=r+"transition-duration",c=r+"transition-timing-function",h=r+"transition-delay",p="transitionend",d="on"+n.toLowerCase()+"transitionend",p=g[n]||p,y.fx={},y.toggles={},y._hasEnd={},y._reKeywords=/^(?:node|duration|iterations|easing|delay|on|onstart|onend)$/i,e.Node.DOM_EVENTS[p]=1,y.NAME="transition",y.DEFAULT_EASING="ease",y.DEFAULT_DURATION=.5,y.DEFAULT_DELAY=0,y._nodeAttrs={},y.prototype={constructor:y,init:function(e,t){var n=this;return n._node=e,!n._running&&t&&(n._config=t,e._transition=n,n._duration="duration"in t?t.duration:n.constructor.DEFAULT_DURATION,n._delay="delay"in t?t.delay:n.constructor.DEFAULT_DELAY,n._easing=t.easing||n.constructor.DEFAULT_EASING,n._count=0,n._running=!1),n},addProperty:function(t,n){var r=this,i=this._node,s=e.stamp(i),o=e.one(i),u=y._nodeAttrs[s],a,f,l,c,h;u||(u=y._nodeAttrs[s]={}),c=u[t],n&&n.value!==undefined?h=n.value:n!==undefined&&(h=n,n=v),typeof h=="function"&&(h=h.call(o,o)),c&&c.transition&&c.transition!==r&&c.transition._count--,r._count++,l=(typeof n.duration!="undefined"?n.duration:r._duration)||1e-4,u[t]={value:h,duration:l,delay:typeof n.delay!="undefined"?n.delay:r._delay,easing:n.easing||r._easing,transition:r},a=e.DOM.getComputedStyle(i,t),f=typeof h=="string"?a:parseFloat(a),y.useNative&&f===h&&setTimeout(function(){r._onNativeEnd.call(i,{propertyName:t,elapsedTime:l})},l*1e3)},removeProperty:function(t){var n=this,r=y._nodeAttrs[e.stamp(n._node)];r&&r[t]&&(delete r[t],n._count--)},initAttrs:function(t){var n,r=this._node;t.transform&&!t[y._TRANSFORM]&&(t[y._TRANSFORM]=t.transform,delete t.transform);for(n in t)t.hasOwnProperty(n)&&!y._reKeywords.test(n)&&(this.addProperty(n,t[n]),r.style[n]===""&&e.DOM.setStyle(r,n,e.DOM.getComputedStyle(r,n)))},run:function(t){var n=this,r=n._node,i=n._config,s={type:"transition:start",config:i};return n._running||(n._running=!0,i.on&&i.on.start&&i.on.start.call(e.one(r),s),n.initAttrs(n._config),n._callback=t,n._start()),n},_start:function(){this._runNative()},_prepDur:function(e){return e=parseFloat(e)*1e3,e+"ms"},_runNative:function(){var t=this,n=t._node,r=e.stamp(n),i=n.style,s=n.ownerDocument.defaultView.getComputedStyle(n),o=y._nodeAttrs[r],u="",a=s[y._toCamel(f)],d=f+": ",v=l+": ",m=c+": ",g=h+": ",b,w,E;a!=="all"&&(d+=a+",",v+=s[y._toCamel(l)]+",",m+=s[y._toCamel(c)]+",",g+=s[y._toCamel(h)]+",");for(E in o)b=y._toHyphen(E),w=o[E],(w=o[E])&&w.transition===t&&(E in n.style?(v+=t._prepDur(w.duration)+",",g+=t._prepDur(w.delay)+",",m+=w.easing+",",d+=b+",",u+=b+": "+w.value+"; "):this.removeProperty(E));d=d.replace(/,$/,";"),v=v.replace(/,$/,";"),m=m.replace(/,$/,";"),g=g.replace(/,$/,";"),y._hasEnd[r]||(n.addEventListener(p,t._onNativeEnd,""),y._hasEnd[r]=!0),i.cssText+=d+v+m+g+u},_end:function(t){var n=this,r=n._node,i=n._callback,s=n._config,o={type:"transition:end",config:s,elapsedTime:t},u=e.one(r);n._running=!1,n._callback=null,r&&(s.on&&s.on.end?setTimeout(function(){s.on.end.call(u,o),i&&i.call(u,o)},1):i&&setTimeout(function(){i.call(u,o)},1))},_endNative:function(e){var t=this._node,n=t.ownerDocument.defaultView.getComputedStyle(t,"")[y._toCamel(f)];e=y._toHyphen(e),typeof n=="string"&&(n=n.replace(new RegExp("(?:^|,\\s)"+e+",?"),","),n=n.replace(/^,|,$/,""),t.style[u]=n)},_onNativeEnd:function(t){var n=this,r=e.stamp(n),i=t,s=y._toCamel(i.propertyName),o=i.elapsedTime,u=y._nodeAttrs[r],f=u[s],l=f?f.transition:null,c,h;l&&(l.removeProperty(s),l._endNative(s),h=l._config[s],c={type:"propertyEnd",propertyName:s,elapsedTime:o,config:h},h&&h.on&&h.on.end&&h.on.end.call(e.one(n),c),l._count<=0&&(l._end(o),n.style[a]=""))},destroy:function(){var e=this,t=e._node;t&&(t.removeEventListener(p,e._onNativeEnd,!1),e._node=null)}},e.Transition=y,e.TransitionNative=y,e.Node.prototype.transition=function(t,n,r){var i=y._nodeAttrs[e.stamp(this._node)],s=i?i.transition||null:null,o,u;if(typeof t=="string"){typeof n=="function"&&(r=n,n=null),o=y.fx[t];if(n&&typeof n=="object"){n=e.clone(n);for(u in o)o.hasOwnProperty(u)&&(u in n||(n[u]=o[u]))}else n=o}else r=n,n=t;return s&&!s._running?s.init(this,n):s=new y(this._node,n),s.run(r),this},e.Node.prototype.show=function(t,n,r){return this._show(),t&&e.Transition&&(typeof t!="string"&&!t.push&&(typeof n=="function"&&(r=n,n=t),t=y.SHOW_TRANSITION),this.transition(t,n,r)),this},e.NodeList.prototype.show=function(t,n,r){var i=this._nodes,s=0,o;while(o=i[s++])e.one(o).show(t,n,r);return this};var b=function(e,t,n){return function(){t&&t.call(e),n&&typeof n=="function"&&n.apply(e._node,arguments)}};e.Node.prototype.hide=function(t,n,r){return t&&e.Transition?(typeof n=="function"&&(r=n,n=null),r=b(this,this._hide,r),typeof t!="string"&&!t.push&&(typeof n=="function"&&(r=n,n=t),t=y.HIDE_TRANSITION),this.transition(t,n,r)):this._hide(),this},e.NodeList.prototype.hide=function(t,n,r){var i=this._nodes,s=0,o;while(o=i[s++])e.one(o).hide(t,n,r);return this},e.NodeList.prototype
.transition=function(t,n,r){var i=this._nodes,s=this.size(),o=0,r=r===!0,u;while(u=i[o++])o<s&&r?e.one(u).transition(t):e.one(u).transition(t,n);return this},e.Node.prototype.toggleView=function(t,n,r){this._toggles=this._toggles||[],r=arguments[arguments.length-1];if(typeof t!="string"){n=t,this._toggleView(n,r);return}return typeof n=="function"&&(n=undefined),typeof n=="undefined"&&t in this._toggles&&(n=!this._toggles[t]),n=n?1:0,n?this._show():r=b(this,this._hide,r),this._toggles[t]=n,this.transition(e.Transition.toggles[t][n],r),this},e.NodeList.prototype.toggleView=function(t,n,r){var i=this._nodes,s=0,o;while(o=i[s++])o=e.one(o),o.toggleView.apply(o,arguments);return this},e.mix(y.fx,{fadeOut:{opacity:0,duration:.5,easing:"ease-out"},fadeIn:{opacity:1,duration:.5,easing:"ease-in"},sizeOut:{height:0,width:0,duration:.75,easing:"ease-out"},sizeIn:{height:function(e){return e.get("scrollHeight")+"px"},width:function(e){return e.get("scrollWidth")+"px"},duration:.5,easing:"ease-in",on:{start:function(){var e=this.getStyle("overflow");e!=="hidden"&&(this.setStyle("overflow","hidden"),this._transitionOverflow=e)},end:function(){this._transitionOverflow&&(this.setStyle("overflow",this._transitionOverflow),delete this._transitionOverflow)}}}}),e.mix(y.toggles,{size:["sizeOut","sizeIn"],fade:["fadeOut","fadeIn"]})},"3.18.1",{requires:["node-style"]});
YUI.add("view",function(e,t){function n(){n.superclass.constructor.apply(this,arguments)}e.View=e.extend(n,e.Base,{containerTemplate:"<div/>",events:{},template:"",_allowAdHocAttrs:!0,initializer:function(t){t||(t={}),t.containerTemplate&&(this.containerTemplate=t.containerTemplate),t.template&&(this.template=t.template),this.events=t.events?e.merge(this.events,t.events):this.events,this.after("containerChange",this._afterContainerChange)},destroy:function(e){return e&&(e.remove||e["delete"])&&this.onceAfter("destroy",function(){this._destroyContainer()}),n.superclass.destroy.call(this)},destructor:function(){this.detachEvents(),delete this._container},attachEvents:function(t){var n=this.get("container"),r=e.Object.owns,i,s,o,u;this.detachEvents(),t||(t=this.events);for(u in t){if(!r(t,u))continue;s=t[u];for(o in s){if(!r(s,o))continue;i=s[o],typeof i=="string"&&(i=this[i]);if(!i)continue;this._attachedViewEvents.push(n.delegate(o,i,u,this))}}return this},create:function(t){return t?e.one(t):e.Node.create(this.containerTemplate)},detachEvents:function(){return e.Array.each(this._attachedViewEvents,function(e){e&&e.detach()}),this._attachedViewEvents=[],this},remove:function(){var e=this.get("container");return e&&e.remove(),this},render:function(){return this},_destroyContainer:function(){var e=this.get("container");e&&e.remove(!0)},_getContainer:function(e){return this._container||(e?(this._container=e,this.attachEvents()):(e=this._container=this.create(),this._set("container",e))),e},_afterContainerChange:function(){this.attachEvents(this.events)}},{NAME:"view",ATTRS:{container:{getter:"_getContainer",setter:e.one,writeOnce:!0}},_NON_ATTRS_CFG:["containerTemplate","events","template"]})},"3.18.1",{requires:["base-build","node-event-delegate"]});
YUI.add("widget-htmlparser",function(e,t){var n=e.Widget,r=e.Node,i=e.Lang,s="srcNode",o="contentBox";n.HTML_PARSER={},n._buildCfg={aggregates:["HTML_PARSER"]},n.ATTRS[s]={value:null,setter:r.one,getter:"_getSrcNode",writeOnce:!0},e.mix(n.prototype,{_getSrcNode:function(e){return e||this.get(o)},_preAddAttrs:function(e,t,n){var r={id:e.id,boundingBox:e.boundingBox,contentBox:e.contentBox,srcNode:e.srcNode};this.addAttrs(r,t,n),delete e.boundingBox,delete e.contentBox,delete e.srcNode,delete e.id,this._applyParser&&this._applyParser(t)},_applyParsedConfig:function(t,n,r){return r?e.mix(n,r,!1):n},_applyParser:function(t){var n=this,r=this._getNodeToParse(),s=n._getHtmlParser(),o,u;s&&r&&e.Object.each(s,function(e,t,s){u=null,i.isFunction(e)?u=e.call(n,r):i.isArray(e)?(u=r.all(e[0]),u.isEmpty()&&(u=null)):u=r.one(e),u!==null&&u!==undefined&&(o=o||{},o[t]=u)}),t=n._applyParsedConfig(r,t,o)},_getNodeToParse:function(){var e=this.get("srcNode");return this._cbFromTemplate?null:e},_getHtmlParser:function(){var t=this._getClasses(),n={},r,i;for(r=t.length-1;r>=0;r--)i=t[r].HTML_PARSER,i&&e.mix(n,i,!0);return n}})},"3.18.1",{requires:["widget-base"]});
YUI.add("widget-position-align",function(e,t){function c(e){}var n=e.Lang,r="align",i="alignOn",s="visible",o="boundingBox",u="offsetWidth",a="offsetHeight",f="region",l="viewportRegion";c.ATTRS={align:{value:null},centered:{setter:"_setAlignCenter",lazyAdd:!1,value:!1},alignOn:{value:[],validator:e.Lang.isArray}},c.TL="tl",c.TR="tr",c.BL="bl",c.BR="br",c.TC="tc",c.RC="rc",c.BC="bc",c.LC="lc",c.CC="cc",c.prototype={initializer:function(){this._posNode||e.error("WidgetPosition needs to be added to the Widget, before WidgetPositionAlign is added"),e.after(this._bindUIPosAlign,this,"bindUI"),e.after(this._syncUIPosAlign,this,"syncUI")},_posAlignUIHandles:null,destructor:function(){this._detachPosAlignUIHandles()},_bindUIPosAlign:function(){this.after("alignChange",this._afterAlignChange),this.after("alignOnChange",this._afterAlignOnChange),this.after("visibleChange",this._syncUIPosAlign)},_syncUIPosAlign:function(){var e=this.get(r);this._uiSetVisiblePosAlign(this.get(s)),e&&this._uiSetAlign(e.node,e.points)},align:function(e,t){return arguments.length?this.set(r,{node:e,points:t}):this._syncUIPosAlign(),this},centered:function(e){return this.align(e,[c.CC,c.CC])},_setAlignCenter:function(e){return e&&this.set(r,{node:e===!0?null:e,points:[c.CC,c.CC]}),e},_uiSetAlign:function(t,r){if(!n.isArray(r)||r.length!==2){e.error("align: Invalid Points Arguments");return}var i=this._getRegion(t),s,o,u;if(!i)return;s=r[0],o=r[1];switch(o){case c.TL:u=[i.left,i.top];break;case c.TR:u=[i.right,i.top];break;case c.BL:u=[i.left,i.bottom];break;case c.BR:u=[i.right,i.bottom];break;case c.TC:u=[i.left+Math.floor(i.width/2),i.top];break;case c.BC:u=[i.left+Math.floor(i.width/2),i.bottom];break;case c.LC:u=[i.left,i.top+Math.floor(i.height/2)];break;case c.RC:u=[i.right,i.top+Math.floor(i.height/2)];break;case c.CC:u=[i.left+Math.floor(i.width/2),i.top+Math.floor(i.height/2)];break;default:}u&&this._doAlign(s,u[0],u[1])},_uiSetVisiblePosAlign:function(e){e?this._attachPosAlignUIHandles():this._detachPosAlignUIHandles()},_attachPosAlignUIHandles:function(){if(this._posAlignUIHandles)return;var t=this.get(o),n=e.bind(this._syncUIPosAlign,this),r=[];e.Array.each(this.get(i),function(i){var s=i.eventName,o=e.one(i.node)||t;s&&r.push(o.on(s,n))}),this._posAlignUIHandles=r},_detachPosAlignUIHandles:function(){var t=this._posAlignUIHandles;t&&((new e.EventHandle(t)).detach(),this._posAlignUIHandles=null)},_doAlign:function(e,t,n){var r=this._posNode,i;switch(e){case c.TL:i=[t,n];break;case c.TR:i=[t-r.get(u),n];break;case c.BL:i=[t,n-r.get(a)];break;case c.BR:i=[t-r.get(u),n-r.get(a)];break;case c.TC:i=[t-r.get(u)/2,n];break;case c.BC:i=[t-r.get(u)/2,n-r.get(a)];break;case c.LC:i=[t,n-r.get(a)/2];break;case c.RC:i=[t-r.get(u),n-r.get(a)/2];break;case c.CC:i=[t-r.get(u)/2,n-r.get(a)/2];break;default:}i&&this.move(i)},_getRegion:function(t){var n;return t?(t=e.Node.one(t),t&&(n=t.get(f))):n=this._posNode.get(l),n},_afterAlignChange:function(e){var t=e.newVal;t&&this._uiSetAlign(t.node,t.points)},_afterAlignOnChange:function(e){this._detachPosAlignUIHandles(),this.get(s)&&this._attachPosAlignUIHandles()}},e.WidgetPositionAlign=c},"3.18.1",{requires:["widget-position"]});
YUI.add("widget-position",function(e,t){function d(e){}var n=e.Lang,r=e.Widget,i="xy",s="position",o="positioned",u="boundingBox",a="relative",f="renderUI",l="bindUI",c="syncUI",h=r.UI_SRC,p="xyChange";d.ATTRS={x:{setter:function(e){this._setX(e)},getter:function(){return this._getX()},lazyAdd:!1},y:{setter:function(e){this._setY(e)},getter:function(){return this._getY()},lazyAdd:!1},xy:{value:[0,0],validator:function(e){return this._validateXY(e)}}},d.POSITIONED_CLASS_NAME=r.getClassName(o),d.prototype={initializer:function(){this._posNode=this.get(u),e.after(this._renderUIPosition,this,f),e.after(this._syncUIPosition,this,c),e.after(this._bindUIPosition,this,l)},_renderUIPosition:function(){this._posNode.addClass(d.POSITIONED_CLASS_NAME)},_syncUIPosition:function(){var e=this._posNode;e.getStyle(s)===a&&this.syncXY(),this._uiSetXY(this.get(i))},_bindUIPosition:function(){this.after(p,this._afterXYChange)},move:function(){var e=arguments,t=n.isArray(e[0])?e[0]:[e[0],e[1]];this.set(i,t)},syncXY:function(){this.set(i,this._posNode.getXY(),{src:h})},_validateXY:function(e){return n.isArray(e)&&n.isNumber(e[0])&&n.isNumber(e[1])},_setX:function(e){this.set(i,[e,this.get(i)[1]])},_setY:function(e){this.set(i,[this.get(i)[0],e])},_getX:function(){return this.get(i)[0]},_getY:function(){return this.get(i)[1]},_afterXYChange:function(e){e.src!=h&&this._uiSetXY(e.newVal)},_uiSetXY:function(e){this._posNode.setXY(e)}},e.WidgetPosition=d},"3.18.1",{requires:["base-build","node-screen","widget"]});
YUI.add("widget-skin",function(e,t){var n="boundingBox",r="contentBox",i="skin",s=e.ClassNameManager.getClassName;e.Widget.prototype.getSkinName=function(e){var t=this.get(r)||this.get(n),o,u;return e=e||s(i,""),u=new RegExp("\\b"+e+"(\\S+)"),t&&t.ancestor(function(e){return o=e.get("className").match(u),o}),o?o[1]:null}},"3.18.1",{requires:["widget-base"]});
YUI.add("widget-uievents",function(e,t){var n="boundingBox",r=e.Widget,i="render",s=e.Lang,o=":",u=e.Widget._uievts=e.Widget._uievts||{};e.mix(r.prototype,{_destroyUIEvents:function(){var t=e.stamp(this,!0);e.each(u,function(n,r){n.instances[t]&&(delete n.instances[t],e.Object.isEmpty(n.instances)&&(n.handle.detach(),u[r]&&delete u[r]))})},UI_EVENTS:e.Node.DOM_EVENTS,_getUIEventNode:function(){return this.get(n)},_createUIEvent:function(t){var n=this._getUIEventNode(),i=e.stamp(n)+t,s=u[i],o;s||(o=n.delegate(t,function(e){var t=r.getByNode(this);t&&t._filterUIEvent(e)&&t.fire(e.type,{domEvent:e})},"."+e.Widget.getClassName()),u[i]=s={instances:{},handle:o}),s.instances[e.stamp(this)]=1},_filterUIEvent:function(e){return e.currentTarget.compareTo(e.container)||e.container.compareTo(this._getUIEventNode())},_getUIEvent:function(e){if(s.isString(e)){var t=this.parseType(e)[1],n,r;return t&&(n=t.indexOf(o),n>-1&&(t=t.substring(n+o.length)),this.UI_EVENTS[t]&&(r=t)),r}},_initUIEvent:function(e){var t=this._getUIEvent(e),n=this._uiEvtsInitQueue||{};t&&!n[t]&&(this._uiEvtsInitQueue=n[t]=1,this.after(i,function(){this._createUIEvent(t),delete this._uiEvtsInitQueue[t]}))},on:function(e){return this._initUIEvent(e),r.superclass.on.apply(this,arguments)},publish:function(e,t){var n=this._getUIEvent(e);return n&&t&&t.defaultFn&&this._initUIEvent(n),r.superclass.publish.apply(this,arguments)}},!0)},"3.18.1",{requires:["node-event-delegate","widget-base"]});
YUI.add("yui-throttle",function(e,t){
/*! Based on work by Simon Willison: http://gist.github.com/292562 */
;e.throttle=function(t,n){n=n?n:e.config.throttleTime||150;if(n===-1)return function(){t.apply(this,arguments)};var r=e.Lang.now();return function(){var i=e.Lang.now();i-r>n&&(r=i,t.apply(this,arguments))}}},"3.18.1",{requires:["yui-base"]});
